
<!DOCTYPE html>



<!-- template: templates/base.html -->


<html data-bs-theme="auto" lang="en" >
    <head>
        
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>
            
    History for draft-ietf-lisp-rfc6833bis
    -31

        </title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="/_static/fonts/inter/import.css" rel="stylesheet">
        <link href="/_static/fonts/noto-sans-mono/import.css" rel="stylesheet">
        <link rel="stylesheet" href="/static/ietf/css/ietf.css">
        <link rel="stylesheet" href="/static/ietf/css/select2.css">
        
        <script src="/static/ietf/js/theme.js"></script>
        <style>
            
        </style>
        
        
    <link rel="alternate"
          type="application/atom+xml"
          href="/feed/document-changes/draft-ietf-lisp-rfc6833bis/">
    <link rel="stylesheet" href="/static/ietf/css/list.css">

        <script type="module" crossorigin="" src="/static/assets/embedded-77b322cb.js"></script>
<link href="/static/assets/preload-helper-f23b7876.js" type="text/javascript" crossorigin="anonymous" rel="modulepreload" as="script" />
        

<link rel="apple-touch-icon"
      sizes="180x180"
      href="/static/ietf/images/ietf-logo-nor-180-dev.png">
<link rel="icon"
      sizes="32x32"
      href="/static/ietf/images/ietf-logo-nor-32-dev.png">
<link rel="icon"
      sizes="16x16"
      href="/static/ietf/images/ietf-logo-nor-16-dev.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon"
      href="/static/ietf/images/ietf-logo-nor-mask.svg"
      color="#ffc4c4">
<meta name="msapplication-TileColor"
      content="#ffc4c4">
<meta name="theme-color"
      content="#ffc4c4">
        <script src="/static/ietf/js/ietf.js"></script>
        
    </head>
    <body  class="navbar-offset position-relative"
          data-group-menu-data-url="/group/groupmenu.json">
        
        <a class="visually-hidden visually-hidden-focusable" href="#content">Skip to main content</a>
        <nav class="navbar navbar-expand-lg fixed-top bg-danger-subtle">
            <div class="container-fluid">
                <a class="navbar-brand" href="/">
                    

<!-- template: templates/logo.html -->

<img alt="IETF Logo"
     class="d-lm-none me-2"
     
     
        
             src="/static/ietf/images/ietf-logo-nor-white.svg"
        
     
     >

<img alt="IETF Logo"
     class="d-dm-none me-2"
     
     
        
             src="/static/ietf/images/ietf-logo-nor.svg"
        
     
     >
                    Datatracker
                    
                        <span class="text-danger">&delta;</span>
                    
                </a>
                <div class="collapse navbar-collapse" id="navbar-collapse">
                    <ul class="nav navbar-nav">
                        

<!-- template: templates/base/menu.html -->


<li class="nav-item dropdown">
    
        <a href="#"
           class="nav-link dropdown-toggle"
           role="button"
           data-bs-toggle="dropdown"
           aria-expanded="false">
            Groups
        </a>
        <ul class="dropdown-menu mt-n1">
        
    <li class="dropdown-header">By area/parent</li>
    

<!-- template: templates/base/menu_wg.html -->

    <li class="dropend group-menu group-parent-2010">
        <a class="dropdown-item dropdown-toggle "
           href="/wg/#ART">
            Apps &amp; Realtime
        </a>
    </li>

    <li class="dropend group-menu group-parent-1008">
        <a class="dropdown-item dropdown-toggle "
           href="/wg/#GEN">
            General
        </a>
    </li>

    <li class="dropend group-menu group-parent-1052">
        <a class="dropdown-item dropdown-toggle "
           href="/wg/#INT">
            Internet
        </a>
    </li>

    <li class="dropend group-menu group-parent-1193">
        <a class="dropdown-item dropdown-toggle "
           href="/wg/#OPS">
            Ops &amp; Management
        </a>
    </li>

    <li class="dropend group-menu group-parent-1249">
        <a class="dropdown-item dropdown-toggle "
           href="/wg/#RTG">
            Routing
        </a>
    </li>

    <li class="dropend group-menu group-parent-1260">
        <a class="dropdown-item dropdown-toggle "
           href="/wg/#SEC">
            Security
        </a>
    </li>

    <li class="dropend group-menu group-parent-2412">
        <a class="dropdown-item dropdown-toggle "
           href="/wg/#WIT">
            Web and Internet Transport
        </a>
    </li>

    <li class="dropend group-menu group-parent-7">
        <a class="dropdown-item dropdown-toggle "
           href="/program/">
            IAB
        </a>
    </li>

    <li class="dropend group-menu group-parent-3">
        <a class="dropdown-item dropdown-toggle "
           href="/rg/">
            IRTF
        </a>
    </li>

    <li class="dropend group-menu group-parent-2309">
        <a class="dropdown-item dropdown-toggle "
           href="/adm/">
            IETF LLC
        </a>
    </li>

    <li class="dropend group-menu group-parent-1876">
        <a class="dropdown-item dropdown-toggle "
           href="/rfcedtyp/">
            RFC Editor
        </a>
    </li>


    <li class="dropend">
        <a class="dropdown-item dropdown-toggle "
           href="/group/">
            Other
        </a>
        

<!-- template: templates/base/menu_active_groups.html -->
<ul class="dropdown-menu ms-n1">
    
        <li>
            <a class="dropdown-item "
               href="/ag/">Active AGs</a>
        </li>
    
        <li>
            <a class="dropdown-item "
               href="/area/">Active Areas</a>
        </li>
    
        <li>
            <a class="dropdown-item "
               href="/dir/">Active Directorates</a>
        </li>
    
        <li>
            <a class="dropdown-item "
               href="/iabworkshop/">Active IAB Workshops</a>
        </li>
    
        <li>
            <a class="dropdown-item "
               href="/program/">Active Programs</a>
        </li>
    
        <li>
            <a class="dropdown-item "
               href="/rag/">Active RAGs</a>
        </li>
    
        <li>
            <a class="dropdown-item "
               href="/team/">Active Teams</a>
        </li>
    
    
</ul>

    </li>
    <li><hr class="dropdown-divider"></li>
    <li class="dropdown-header">New work</li>
    <li>
        <a class="dropdown-item "
           href="/group/chartering/">
            Chartering groups
        </a>
    </li>
    <li>
        <a class="dropdown-item "
           href="/wg/bofs/">
            BOFs
        </a>
    </li>
    <li>
        <a class="dropdown-item "
           href="/doc/bof-requests">
            BOF Requests
        </a>
    </li>
    <li><hr class="dropdown-divider"></li>
    <li class="dropdown-header">Other groups</li>
    <li>
        <a class="dropdown-item "
           href="/group/concluded/">
            Concluded groups
        </a>
    </li>
    <li>
        <a class="dropdown-item "
           href="/list/nonwg">
            Non-WG lists
        </a>
    </li>
    
    </ul>
</li>

<li class="nav-item dropdown">
    
        <a href="#"
           class="nav-link dropdown-toggle"
           role="button"
           data-bs-toggle="dropdown"
           aria-expanded="false">
            Documents
        </a>
        <ul class="dropdown-menu mt-n1">
        
    <li>
        <a class="dropdown-item "
           href="/doc/search">
            Search
        </a>
    </li>
    <li>
        <a class="dropdown-item "
           href="/doc/recent">
            Recent I-Ds
        </a>
    </li>
    <li>
        <a class="dropdown-item "
           href="/submit/">
            I-D submission
        </a>
    </li>
    <li>
        <a class="dropdown-item "
           href="/doc/ad">
            IESG dashboard
        </a>
    </li>
    
    
        <li><hr class="dropdown-divider">
        </li>
    
    <li class="dropdown-header">
        RFC streams
    </li>
    <li>
        <a class="dropdown-item "
           href="/stream/iab/">
            IAB
        </a>
    </li>
    <li>
        <a class="dropdown-item "
           href="/stream/irtf/">
            IRTF
        </a>
    </li>
    <li>
        <a class="dropdown-item "
           href="/stream/ise/">
            ISE
        </a>
    </li>
    <li>
        <a class="dropdown-item "
           href="/stream/editorial/">
            Editorial
        </a>
    </li>
    
        <li><hr class="dropdown-divider">
        </li>
    
    <li class="dropdown-header">
        Subseries
    </li>
    <li>
        <a class="dropdown-item "
           href="/doc/std">
            STD
        </a>
        <a class="dropdown-item "
           href="/doc/bcp">
            BCP
        </a>
        <a class="dropdown-item "
           href="/doc/fyi">
            FYI
        </a>
    </li>
    
    </ul>
</li>

<li class="nav-item dropdown">
    
        <a href="#"
           class="nav-link dropdown-toggle"
           role="button"
           data-bs-toggle="dropdown"
           aria-expanded="false">
            Meetings
        </a>
        <ul class="dropdown-menu mt-n1">
        
    <li>
        <a class="dropdown-item "
           href="/meeting/agenda">
            Agenda
        </a>
    </li>
    <li>
        <a class="dropdown-item "
           href="/meeting/materials">
            Materials
        </a>
    </li>
    <li>
        <a class="dropdown-item "
           href="/meeting/floor-plan">
            Floor plan
        </a>
    </li>
    <li>
        <a class="dropdown-item "
           href="https://www.ietf.org/how/meetings/register/">
            Registration
        </a>
    </li>
    <li>
        <a class="dropdown-item "
           href="/meeting/important-dates/">
            Important dates
        </a>
    </li>
    <li>
        <a class="dropdown-item "
           href="/secr/sreq/">
            Request a session
        </a>
    </li>
    
    <li>
        <a class="dropdown-item "
           href="/meeting/requests">
            Session requests
        </a>
    </li>
    
    
        
            <li><hr class="dropdown-divider">
            </li>
        
        <li class="dropdown-header">
            Upcoming meetings
        </li>
    
    <li>
        <a class="dropdown-item "
           href="/meeting/upcoming">
            Upcoming meetings
        </a>
    </li>
    
        
            <li><hr class="dropdown-divider">
            </li>
        
        <li class="dropdown-header">
            Past meetings
        </li>
    
    <li>
        <a class="dropdown-item "
           href="/meeting/past">
            Past meetings
        </a>
    </li>
    <li>
        <a class="dropdown-item "
           href="https://www.ietf.org/how/meetings/past/">
            Meeting proceedings
        </a>
    </li>
    
    </ul>
</li>

<li class="nav-item dropdown">
    
        <a href="#"
           class="nav-link dropdown-toggle"
           role="button"
           data-bs-toggle="dropdown"
           aria-expanded="false">
            Other
        </a>
        <ul class="dropdown-menu mt-n1">
        
    <li>
        <a class="dropdown-item "
           href="/ipr/">
            IPR disclosures
        </a>
    </li>
    <li>
        <a class="dropdown-item "
           href="/liaison/">
            Liaison statements
        </a>
    </li>
    <li>
        <a class="dropdown-item "
           href="/iesg/agenda/">
            IESG agenda
        </a>
    </li>
    <li>
        <a class="dropdown-item "
           href="/nomcom/">
            NomComs
        </a>
    </li>
    <li>
        <a class="dropdown-item "
           href="/doc/downref">
            Downref registry
        </a>
    </li>
    <li>
        <a class="dropdown-item "
           href="/stats/">
            Statistics
        </a>
        <ul class="dropdown-menu mt-n1">
            <li>
                <a class="dropdown-item "
                   href="/stats/document/">
                    I-Ds/RFCs
                </a>
            </li>
            <li>
                <a class="dropdown-item "
                   href="/stats/meeting/">
                    Meetings
                </a>
            </li>
            
        </ul>
    </li>
    <li>
        <a class="dropdown-item "
           href="/api/">
            API Help
        </a>
    </li>
    <li>
        <a class="dropdown-item "
           href="/release/">
            Release notes
        </a>
    </li>
    
        <li><hr class="dropdown-divider">
        </li>
    
    <li>
        <a class="dropdown-item text-danger "
           target="_blank" href="https://github.com/ietf-tools/datatracker/issues/new/choose">
            <i class="bi bi-bug">
            </i>
            Report a bug
        </a>
    </li>
    
    </ul>
</li>


    

<!-- template: templates/base/menu_user.html -->

<li class="nav-item dropdown">
    
        <a href="#"
           class="nav-link dropdown-toggle"
           role="button"
           data-bs-toggle="dropdown"
           aria-expanded="false">
            
                User
            
        </a>
        <ul class="dropdown-menu  mt-n1 ">
        
    
    
        
            <li>
                <a class="dropdown-item "
                   rel="nofollow"
                   href="/accounts/login/?next=/doc/draft-ietf-lisp-rfc6833bis/history/">
                    Sign in
                </a>
            </li>
            <li>
                <a class="dropdown-item "
                   rel="nofollow"
                   href="/accounts/reset/">
                    Password reset
                </a>
            </li>
            <li>
                <a class="dropdown-item "
                   href="/accounts/settings/"
                   rel="nofollow">
                    Preferences
                </a>
            </li>
        
    
    
        <li>
            <a class="dropdown-item "
               href="/accounts/create/">
                New account
            </a>
        </li>
    
    
    
    
    
    
    </ul></li>


                    </ul>
                </div>
                <div class="d-flex align-items-center">
                    <a class="nav-link text-danger d-none d-xl-inline me-xl-4"
                       target="_blank"
                       href="https://github.com/ietf-tools/datatracker/issues/new/choose">
                        Report a bug
                        <i class="bi bi-bug"></i>
                    </a>

                    
                        <a class="btn me-1  btn-info  d-none d-sm-block"
                           rel="nofollow"
                           href="/accounts/login/?next=/doc/draft-ietf-lisp-rfc6833bis/history/">
                            Sign in
                        </a>
                    

                    <label class="d-none d-md-block" aria-label="Document search">
                    <input class="form-control select2-field search-select"
                           id="navbar-doc-search"
                           data-select2-ajax-url="/doc/select2search/document/all/"
                           type="text"
                           data-placeholder="Document search">
                   </label>
                </div>
                <button class="navbar-toggler"
                        type="button"
                        data-bs-toggle="collapse"
                        data-bs-target="#navbar-collapse"
                        aria-controls="navbar-collapse"
                        aria-expanded="false"
                        aria-label="Toggle navigation">
                    <i class="navbar-toggler-icon"></i>
                </button>
            </div>
        </nav>
        
        <div class="pt-3 container-fluid">
            <div class="row">
                
                <div class="col mx-lg-3 ietf-auto-nav" id="content">
                    <noscript>
                        <div class="alert alert-danger alert-ignore my-3">
                            <b>Javascript disabled?</b> Like other modern websites, the IETF Datatracker relies on Javascript.
                            Please enable Javascript for full functionality.
                        </div>
                    </noscript>
                    
                    
    <!-- template: templates/doc/document_history.html -->
    

<!-- template: templates/doc/document_top.html -->

<h1>
    Locator/ID Separation Protocol (LISP) Control Plane
    <br>
    <small class="text-body-secondary">draft-ietf-lisp-rfc6833bis-31</small>
</h1>
<ul class="nav nav-tabs my-3">
    
        <li  class="nav-item">
            <a class="nav-link "
               href="/doc/draft-ietf-lisp-rfc6833bis/">
                Status
            </a>
        </li>
    
        <li  class="nav-item">
            <a class="nav-link "
               href="/doc/draft-ietf-lisp-rfc6833bis/ballot/">
                IESG evaluation record
            </a>
        </li>
    
        <li  class="nav-item">
            <a class="nav-link "
               href="/doc/draft-ietf-lisp-rfc6833bis/writeup/">
                IESG writeups
            </a>
        </li>
    
        <li  class="nav-item">
            <a class="nav-link "
               href="/doc/draft-ietf-lisp-rfc6833bis/email/">
                Email expansions
            </a>
        </li>
    
        <li  class="nav-item">
            <a class="nav-link active"
               href="/doc/draft-ietf-lisp-rfc6833bis/history/">
                History
            </a>
        </li>
    
</ul>

    
        <h2 class="my-3">Revision differences</h2>
        


<!-- template: templates/doc/document_history_form.html -->
<form class="form-horizontal diff-form"
      action="https://author-tools.ietf.org/iddiff"
      method="get"
      target="_blank">

    <div class="row mb-3">
        <label for="url1" class="col-form-label col-sm-2 fw-bold">From revision</label>
        <div class="col-sm-10">

            <select class="form-select select2-field"
                    data-max-entries="1"
                    data-width="resolve"
                    data-allow-clear="false"
                    data-minimum-input-length="0"
                    id="url1"
                    name="url1">
                
                    <option value="rfc9301">
                        RFC 9301
                        (2022-10-20)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-31">
                        draft-ietf-lisp-rfc6833bis-31
                        (2022-05-02)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-30" selected>
                        draft-ietf-lisp-rfc6833bis-30
                        (2020-11-18)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-29">
                        draft-ietf-lisp-rfc6833bis-29
                        (2020-09-29)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-28">
                        draft-ietf-lisp-rfc6833bis-28
                        (2020-07-29)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-27">
                        draft-ietf-lisp-rfc6833bis-27
                        (2020-01-09)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-26">
                        draft-ietf-lisp-rfc6833bis-26
                        (2019-11-17)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-25">
                        draft-ietf-lisp-rfc6833bis-25
                        (2019-06-16)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-24">
                        draft-ietf-lisp-rfc6833bis-24
                        (2019-02-04)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-23">
                        draft-ietf-lisp-rfc6833bis-23
                        (2018-12-10)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-22">
                        draft-ietf-lisp-rfc6833bis-22
                        (2018-11-14)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-21">
                        draft-ietf-lisp-rfc6833bis-21
                        (2018-11-04)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-20">
                        draft-ietf-lisp-rfc6833bis-20
                        (2018-11-04)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-19">
                        draft-ietf-lisp-rfc6833bis-19
                        (2018-10-21)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-18">
                        draft-ietf-lisp-rfc6833bis-18
                        (2018-10-12)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-17">
                        draft-ietf-lisp-rfc6833bis-17
                        (2018-10-03)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-16">
                        draft-ietf-lisp-rfc6833bis-16
                        (2018-09-26)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-15">
                        draft-ietf-lisp-rfc6833bis-15
                        (2018-09-18)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-14">
                        draft-ietf-lisp-rfc6833bis-14
                        (2018-09-11)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-13">
                        draft-ietf-lisp-rfc6833bis-13
                        (2018-08-24)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-12">
                        draft-ietf-lisp-rfc6833bis-12
                        (2018-07-26)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-11">
                        draft-ietf-lisp-rfc6833bis-11
                        (2018-07-17)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-10">
                        draft-ietf-lisp-rfc6833bis-10
                        (2018-03-21)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-09">
                        draft-ietf-lisp-rfc6833bis-09
                        (2018-03-18)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-08">
                        draft-ietf-lisp-rfc6833bis-08
                        (2018-03-04)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-07">
                        draft-ietf-lisp-rfc6833bis-07
                        (2017-12-17)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-06">
                        draft-ietf-lisp-rfc6833bis-06
                        (2017-10-05)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-05">
                        draft-ietf-lisp-rfc6833bis-05
                        (2017-05-10)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-04">
                        draft-ietf-lisp-rfc6833bis-04
                        (2017-05-04)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-03">
                        draft-ietf-lisp-rfc6833bis-03
                        (2017-04-14)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-02">
                        draft-ietf-lisp-rfc6833bis-02
                        (2017-04-11)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-01">
                        draft-ietf-lisp-rfc6833bis-01
                        (2017-03-28)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-00">
                        draft-ietf-lisp-rfc6833bis-00
                        (2016-12-06)
                    </option>
                
                 
                    <option value="rfc6833">
                        RFC 6833
                    </option>
                
            </select>

        </div>
    </div>
    <div class="row mb-3">
        <label for="url2" class="col-form-label col-sm-2 fw-bold">To revision</label>
        <div class="col-sm-10">

            <select class="form-select select2-field"
                    data-max-entries="1"
                    data-width="resolve"
                    data-allow-clear="false"
                    data-minimum-input-length="0"
                    id="url2"
                    name="url2">
                
                    <option value="rfc9301">
                        RFC 9301
                        (2022-10-20)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-31" selected>
                        draft-ietf-lisp-rfc6833bis-31
                        (2022-05-02)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-30">
                        draft-ietf-lisp-rfc6833bis-30
                        (2020-11-18)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-29">
                        draft-ietf-lisp-rfc6833bis-29
                        (2020-09-29)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-28">
                        draft-ietf-lisp-rfc6833bis-28
                        (2020-07-29)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-27">
                        draft-ietf-lisp-rfc6833bis-27
                        (2020-01-09)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-26">
                        draft-ietf-lisp-rfc6833bis-26
                        (2019-11-17)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-25">
                        draft-ietf-lisp-rfc6833bis-25
                        (2019-06-16)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-24">
                        draft-ietf-lisp-rfc6833bis-24
                        (2019-02-04)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-23">
                        draft-ietf-lisp-rfc6833bis-23
                        (2018-12-10)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-22">
                        draft-ietf-lisp-rfc6833bis-22
                        (2018-11-14)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-21">
                        draft-ietf-lisp-rfc6833bis-21
                        (2018-11-04)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-20">
                        draft-ietf-lisp-rfc6833bis-20
                        (2018-11-04)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-19">
                        draft-ietf-lisp-rfc6833bis-19
                        (2018-10-21)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-18">
                        draft-ietf-lisp-rfc6833bis-18
                        (2018-10-12)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-17">
                        draft-ietf-lisp-rfc6833bis-17
                        (2018-10-03)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-16">
                        draft-ietf-lisp-rfc6833bis-16
                        (2018-09-26)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-15">
                        draft-ietf-lisp-rfc6833bis-15
                        (2018-09-18)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-14">
                        draft-ietf-lisp-rfc6833bis-14
                        (2018-09-11)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-13">
                        draft-ietf-lisp-rfc6833bis-13
                        (2018-08-24)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-12">
                        draft-ietf-lisp-rfc6833bis-12
                        (2018-07-26)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-11">
                        draft-ietf-lisp-rfc6833bis-11
                        (2018-07-17)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-10">
                        draft-ietf-lisp-rfc6833bis-10
                        (2018-03-21)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-09">
                        draft-ietf-lisp-rfc6833bis-09
                        (2018-03-18)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-08">
                        draft-ietf-lisp-rfc6833bis-08
                        (2018-03-04)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-07">
                        draft-ietf-lisp-rfc6833bis-07
                        (2017-12-17)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-06">
                        draft-ietf-lisp-rfc6833bis-06
                        (2017-10-05)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-05">
                        draft-ietf-lisp-rfc6833bis-05
                        (2017-05-10)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-04">
                        draft-ietf-lisp-rfc6833bis-04
                        (2017-05-04)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-03">
                        draft-ietf-lisp-rfc6833bis-03
                        (2017-04-14)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-02">
                        draft-ietf-lisp-rfc6833bis-02
                        (2017-04-11)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-01">
                        draft-ietf-lisp-rfc6833bis-01
                        (2017-03-28)
                    </option>
                
                    <option value="draft-ietf-lisp-rfc6833bis-00">
                        draft-ietf-lisp-rfc6833bis-00
                        (2016-12-06)
                    </option>
                
                
                    <option value="rfc6833">
                        RFC 6833
                    </option>
                
            </select>

        </div>
    </div>
    <div class="row mb-3">
        <label class="col-form-label col-sm-2 fw-bold">Diff format</label>
        <div class="col-sm-10">

            <button type="submit"
                    class="btn btn-primary"
                    value="--html"
                    name="difftype">
                Side-by-side
            </button>
            
                <button type="submit"
                        class="btn btn-primary"
                        value="--abdiff"
                        name="difftype">
                    Before-after
                </button>
                <button type="submit"
                        class="btn btn-primary"
                        value="--chbars"
                        name="difftype">
                    Change bars
                </button>
            
            <button type="submit"
                    class="btn btn-primary"
                    value="--hwdiff"
                    name="difftype">
                Inline
            </button>

        </div>
    </div>

</form>
    
    <h2 class="my-3">Document history</h2>
    
    
        <ul class="nav nav-tabs my-3">
            <li class="nav-item">
                <a class="nav-link" href="/doc/rfc9301/history/">RFC 9301</a>
            </li>
            <li class="nav-item">
                <a class="nav-link active">draft-ietf-lisp-rfc6833bis</a>
            <li>
        </ul>
    

    
    <table class="table table-sm table-striped tablesorter">
        <thead>
            <tr>
                <th scope="col" data-sort="date">Date</th>
                <th scope="col" data-sort="rev">Rev.</th>
                <th scope="col" data-sort="by">By</th>
                <th scope="col" data-sort="action">Action</th>
            </tr>
        </thead>
        <tbody>
            
                <tr id="history-967046">
                    <td>
                        <div title="2024-01-26 04:14:57 -0800">2024-01-26</div>
                    </td>
                    <td class="text-end">31</td>
                    <td>Gunter Van de Velde</td>
                    <td>Request closed, assignment withdrawn: Joel Jaeggli Last Call OPSDIR review</td>
                </tr>
            
                <tr id="history-967045">
                    <td>
                        <div title="2024-01-26 04:14:57 -0800">2024-01-26</div>
                    </td>
                    <td class="text-end">31</td>
                    <td>Gunter Van de Velde</td>
                    <td>Closed request for Last Call review by OPSDIR with state 'Overtaken by Events': Cleaning up stale OPSDIR queue</td>
                </tr>
            
                <tr id="history-882199">
                    <td>
                        <div title="2022-10-05 13:08:52 -0700">2022-10-05</div>
                    </td>
                    <td class="text-end">31</td>
                    <td>(System)</td>
                    <td>RFC Editor state changed to <a href="https://www.rfc-editor.org/auth48/rfc9301"><b>AUTH48-DONE</b></a> from AUTH48</td>
                </tr>
            
                <tr id="history-879157">
                    <td>
                        <div title="2022-09-16 09:35:34 -0700">2022-09-16</div>
                    </td>
                    <td class="text-end">31</td>
                    <td>(System)</td>
                    <td>RFC Editor state changed to <a href="https://www.rfc-editor.org/auth48/rfc9301"><b>AUTH48</b></a></td>
                </tr>
            
                <tr id="history-875006">
                    <td>
                        <div title="2022-08-10 18:48:58 -0700">2022-08-10</div>
                    </td>
                    <td class="text-end">31</td>
                    <td>(System)</td>
                    <td>RFC Editor state changed to <b>RFC-EDITOR</b> from REF</td>
                </tr>
            
                <tr id="history-870887">
                    <td>
                        <div title="2022-07-19 14:34:28 -0700">2022-07-19</div>
                    </td>
                    <td class="text-end">31</td>
                    <td>(System)</td>
                    <td>RFC Editor state changed to <b>REF</b> from EDIT</td>
                </tr>
            
                <tr id="history-870473">
                    <td>
                        <div title="2022-07-14 14:51:15 -0700">2022-07-14</div>
                    </td>
                    <td class="text-end">31</td>
                    <td>(System)</td>
                    <td>RFC Editor state changed to <b>EDIT</b> from MISSREF</td>
                </tr>
            
                <tr id="history-859370">
                    <td>
                        <div title="2022-05-02 19:33:40 -0700">2022-05-02</div>
                    </td>
                    <td class="text-end">31</td>
                    <td>Dino Farinacci</td>
                    <td>New version available: <b><a href="/doc/draft-ietf-lisp-rfc6833bis/31/">draft-ietf-lisp-rfc6833bis-31.txt</a></b></td>
                </tr>
            
                <tr id="history-859369">
                    <td>
                        <div title="2022-05-02 19:33:40 -0700">2022-05-02</div>
                    </td>
                    <td class="text-end">31</td>
                    <td>Dino Farinacci</td>
                    <td>New version accepted (logged-in submitter: Dino Farinacci)</td>
                </tr>
            
                <tr id="history-859368">
                    <td>
                        <div title="2022-05-02 19:33:40 -0700">2022-05-02</div>
                    </td>
                    <td class="text-end">31</td>
                    <td>Dino Farinacci</td>
                    <td>Uploaded new revision</td>
                </tr>
            
                <tr id="history-798176">
                    <td>
                        <div title="2021-03-10 12:10:54 -0800">2021-03-10</div>
                    </td>
                    <td class="text-end">30</td>
                    <td>Alvaro Retana</td>
                    <td>Shepherding AD changed to Alvaro Retana</td>
                </tr>
            
                <tr id="history-798175">
                    <td>
                        <div title="2021-03-10 12:10:45 -0800">2021-03-10</div>
                    </td>
                    <td class="text-end">30</td>
                    <td>Alvaro Retana</td>
                    <td>Notification list changed to Luigi Iannone &lt;<a href="mailto:ggx@gigix.net">ggx@gigix.net</a>&gt;, <a href="mailto:aretana.ietf@gmail.com">aretana.ietf@gmail.com</a> from Luigi Iannone &lt;<a href="mailto:ggx@gigix.net">ggx@gigix.net</a>&gt;</td>
                </tr>
            
                <tr id="history-795331">
                    <td>
                        <div title="2021-03-01 08:28:04 -0800">2021-03-01</div>
                    </td>
                    <td class="text-end">30</td>
                    <td>(System)</td>
                    <td>IANA Action state changed to <b>RFC-Ed-Ack</b> from Waiting on RFC Editor</td>
                </tr>
            
                <tr id="history-795240">
                    <td>
                        <div title="2021-02-26 15:19:13 -0800">2021-02-26</div>
                    </td>
                    <td class="text-end">30</td>
                    <td>(System)</td>
                    <td>IANA Action state changed to <b>Waiting on RFC Editor</b> from In Progress</td>
                </tr>
            
                <tr id="history-795239">
                    <td>
                        <div title="2021-02-26 14:49:39 -0800">2021-02-26</div>
                    </td>
                    <td class="text-end">30</td>
                    <td>(System)</td>
                    <td>IANA Action state changed to <b>In Progress</b> from Waiting on Authors</td>
                </tr>
            
                <tr id="history-795238">
                    <td>
                        <div title="2021-02-26 14:01:40 -0800">2021-02-26</div>
                    </td>
                    <td class="text-end">30</td>
                    <td>(System)</td>
                    <td>IANA Action state changed to <b>Waiting on Authors</b> from In Progress</td>
                </tr>
            
                <tr id="history-795237">
                    <td>
                        <div title="2021-02-26 13:54:05 -0800">2021-02-26</div>
                    </td>
                    <td class="text-end">30</td>
                    <td>(System)</td>
                    <td>IANA Action state changed to <b>In Progress</b> from Waiting on Authors</td>
                </tr>
            
                <tr id="history-795148">
                    <td>
                        <div title="2021-02-25 16:45:12 -0800">2021-02-25</div>
                    </td>
                    <td class="text-end">30</td>
                    <td>(System)</td>
                    <td>IANA Action state changed to <b>Waiting on Authors</b> from In Progress</td>
                </tr>
            
                <tr id="history-794949">
                    <td>
                        <div title="2021-02-24 15:28:25 -0800">2021-02-24</div>
                    </td>
                    <td class="text-end">30</td>
                    <td>(System)</td>
                    <td>IANA Action state changed to <b>In Progress</b> from Waiting on Authors</td>
                </tr>
            
                <tr id="history-794846">
                    <td>
                        <div title="2021-02-24 09:53:31 -0800">2021-02-24</div>
                    </td>
                    <td class="text-end">30</td>
                    <td>(System)</td>
                    <td>IANA Action state changed to <b>Waiting on Authors</b> from In Progress</td>
                </tr>
            
                <tr id="history-794845">
                    <td>
                        <div title="2021-02-24 09:50:47 -0800">2021-02-24</div>
                    </td>
                    <td class="text-end">30</td>
                    <td>(System)</td>
                    <td>IANA Action state changed to <b>In Progress</b> from Waiting on Authors</td>
                </tr>
            
                <tr id="history-792975">
                    <td>
                        <div title="2021-02-19 14:59:31 -0800">2021-02-19</div>
                    </td>
                    <td class="text-end">30</td>
                    <td>(System)</td>
                    <td>IANA Action state changed to <b>Waiting on Authors</b> from In Progress</td>
                </tr>
            
                <tr id="history-792965">
                    <td>
                        <div title="2021-02-19 13:59:48 -0800">2021-02-19</div>
                    </td>
                    <td class="text-end">30</td>
                    <td>(System)</td>
                    <td>IANA Action state changed to <b>In Progress</b> from Waiting on Authors</td>
                </tr>
            
                <tr id="history-792609">
                    <td>
                        <div title="2021-02-18 11:03:27 -0800">2021-02-18</div>
                    </td>
                    <td class="text-end">30</td>
                    <td>(System)</td>
                    <td>IANA Action state changed to <b>Waiting on Authors</b> from In Progress</td>
                </tr>
            
                <tr id="history-791493">
                    <td>
                        <div title="2021-02-11 14:07:32 -0800">2021-02-11</div>
                    </td>
                    <td class="text-end">30</td>
                    <td>(System)</td>
                    <td>RFC Editor state changed to <b>MISSREF</b></td>
                </tr>
            
                <tr id="history-791492">
                    <td>
                        <div title="2021-02-11 14:07:31 -0800">2021-02-11</div>
                    </td>
                    <td class="text-end">30</td>
                    <td>(System)</td>
                    <td>IESG state changed to <b>RFC Ed Queue</b> from Approved-announcement sent</td>
                </tr>
            
                <tr id="history-791491">
                    <td>
                        <div title="2021-02-11 14:07:31 -0800">2021-02-11</div>
                    </td>
                    <td class="text-end">30</td>
                    <td>(System)</td>
                    <td>Announcement was received by RFC Editor</td>
                </tr>
            
                <tr id="history-791489">
                    <td>
                        <div title="2021-02-11 13:49:30 -0800">2021-02-11</div>
                    </td>
                    <td class="text-end">30</td>
                    <td>(System)</td>
                    <td>IANA Action state changed to <b>In Progress</b></td>
                </tr>
            
                <tr id="history-791468">
                    <td>
                        <div title="2021-02-11 12:30:16 -0800">2021-02-11</div>
                    </td>
                    <td class="text-end">30</td>
                    <td>Cindy Morgan</td>
                    <td>IESG state changed to <b>Approved-announcement sent</b> from IESG Evaluation::AD Followup</td>
                </tr>
            
                <tr id="history-791467">
                    <td>
                        <div title="2021-02-11 12:30:16 -0800">2021-02-11</div>
                    </td>
                    <td class="text-end">30</td>
                    <td>Cindy Morgan</td>
                    <td>IESG has approved the document</td>
                </tr>
            
                <tr id="history-791466">
                    <td>
                        <div title="2021-02-11 12:30:16 -0800">2021-02-11</div>
                    </td>
                    <td class="text-end">30</td>
                    <td>Cindy Morgan</td>
                    <td>Closed "Approve" ballot</td>
                </tr>
            
                <tr id="history-791465">
                    <td>
                        <div title="2021-02-11 12:29:49 -0800">2021-02-11</div>
                    </td>
                    <td class="text-end">30</td>
                    <td>Cindy Morgan</td>
                    <td>Ballot writeup was changed</td>
                </tr>
            
                <tr id="history-791455">
                    <td>
                        <div title="2021-02-11 12:07:59 -0800">2021-02-11</div>
                    </td>
                    <td class="text-end">30</td>
                    <td>Deborah Brungard</td>
                    <td>Ballot approval text was changed</td>
                </tr>
            
                <tr id="history-783425">
                    <td>
                        <div title="2020-12-11 11:05:00 -0800">2020-12-11</div>
                    </td>
                    <td class="text-end">30</td>
                    <td>Deborah Brungard</td>
                    <td>Pen holder doing a final check before AD approval.</td>
                </tr>
            
                <tr id="history-781491">
                    <td>
                        <div title="2020-11-24 15:24:43 -0800">2020-11-24</div>
                    </td>
                    <td class="text-end">30</td>
                    <td>Martin Duke</td>
                    <td><div class="snippet">[Ballot comment]<br>Thanks for addressing my DISCUSS.<br><br>I would suggest the following rewordings:<br>OLD<br>Map-Notify messages are only transmitted upon the reception of a Map- â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">[Ballot comment]<br>Thanks for addressing my DISCUSS.<br><br>I would suggest the following rewordings:<br>OLD<br>Map-Notify messages are only transmitted upon the reception of a Map-<br>&nbsp;  Register with the M-bit set, Map-Notify messages are not<br>&nbsp;  retransmitted.&nbsp; The only exeption to this is for unsolicited Map-<br>&nbsp;  Notify messages, see below.<br><br>NEW<br>When transmitted in response to a Map-Register with the M-bit set, Map-Notify messages are not<br>&nbsp;  retransmitted.&nbsp; <br><br>OLD<br>A Map-Notify is retransmitted until a Map-<br>&nbsp;  Notify-Ack is received by the Map-Server with the same nonce used in<br>&nbsp;  the Map-Notify message.<br><br>NEW<br>An unsolicited Map-Notify is retransmitted until a Map-<br>&nbsp;  Notify-Ack is received by the Map-Server with the same nonce used in<br>&nbsp;  the Map-Notify message.<br><br>s/Notifiy/Notify</div></td>
                </tr>
            
                <tr id="history-781490">
                    <td>
                        <div title="2020-11-24 15:24:43 -0800">2020-11-24</div>
                    </td>
                    <td class="text-end">30</td>
                    <td>Martin Duke</td>
                    <td>[Ballot Position Update] Position for Martin Duke has been changed to No Objection from Discuss</td>
                </tr>
            
                <tr id="history-780215">
                    <td>
                        <div title="2020-11-18 12:59:42 -0800">2020-11-18</div>
                    </td>
                    <td class="text-end">30</td>
                    <td>Albert Cabellos-Aparicio</td>
                    <td>New version available: <b><a href="/doc/draft-ietf-lisp-rfc6833bis/30/">draft-ietf-lisp-rfc6833bis-30.txt</a></b></td>
                </tr>
            
                <tr id="history-780214">
                    <td>
                        <div title="2020-11-18 12:59:34 -0800">2020-11-18</div>
                    </td>
                    <td class="text-end">30</td>
                    <td>(System)</td>
                    <td>New version approved</td>
                </tr>
            
                <tr id="history-780211">
                    <td>
                        <div title="2020-11-18 12:16:46 -0800">2020-11-18</div>
                    </td>
                    <td class="text-end">30</td>
                    <td>(System)</td>
                    <td>Request for posting confirmation emailed to previous authors: Fabio Maino , Albert Cabellos-Aparicio , Dino Farinacci , Vince Fuller </td>
                </tr>
            
                <tr id="history-780210">
                    <td>
                        <div title="2020-11-18 12:16:45 -0800">2020-11-18</div>
                    </td>
                    <td class="text-end">30</td>
                    <td>Albert Cabellos-Aparicio</td>
                    <td>Uploaded new revision</td>
                </tr>
            
                <tr id="history-780144">
                    <td>
                        <div title="2020-11-18 07:00:20 -0800">2020-11-18</div>
                    </td>
                    <td class="text-end">29</td>
                    <td>Luigi Iannone</td>
                    <td>Added to session: IETF-109: lisp&nbsp; Thu-1200</td>
                </tr>
            
                <tr id="history-777914">
                    <td>
                        <div title="2020-11-06 13:29:59 -0800">2020-11-06</div>
                    </td>
                    <td class="text-end">29</td>
                    <td>Erik Kline</td>
                    <td><div class="snippet">[Ballot comment]<br>* The last sentence of the 2nd paragraph of the abstract doesn't seem like a complete sentence to me, somehow.Â  Perhaps s/it the/it â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">[Ballot comment]<br>* The last sentence of the 2nd paragraph of the abstract doesn't seem like a complete sentence to me, somehow.Â  Perhaps s/it the/it reduces the/?</div></td>
                </tr>
            
                <tr id="history-777913">
                    <td>
                        <div title="2020-11-06 13:29:59 -0800">2020-11-06</div>
                    </td>
                    <td class="text-end">29</td>
                    <td>Erik Kline</td>
                    <td>[Ballot Position Update] Position for Erik Kline has been changed to No Objection from Discuss</td>
                </tr>
            
                <tr id="history-775278">
                    <td>
                        <div title="2020-10-28 09:03:30 -0700">2020-10-28</div>
                    </td>
                    <td class="text-end">29</td>
                    <td>Martin Duke</td>
                    <td><div class="snippet">[Ballot discuss]<br>Two issues rise to DISCUSS level, IMO:<br><br>Sec 5.7. Is the intent that the Map-Notifies are only retransmitted if they are unsolicited? If â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">[Ballot discuss]<br>Two issues rise to DISCUSS level, IMO:<br><br>Sec 5.7. Is the intent that the Map-Notifies are only retransmitted if they are unsolicited? If not, repeated Map-Registers could result in a storm of Map-Notifies.<br><br>Thanks for addressing the second DISCUSS.</div></td>
                </tr>
            
                <tr id="history-775277">
                    <td>
                        <div title="2020-10-28 09:03:30 -0700">2020-10-28</div>
                    </td>
                    <td class="text-end">29</td>
                    <td>Martin Duke</td>
                    <td>Ballot discuss text updated for Martin Duke</td>
                </tr>
            
                <tr id="history-775133">
                    <td>
                        <div title="2020-10-27 18:04:07 -0700">2020-10-27</div>
                    </td>
                    <td class="text-end">29</td>
                    <td>Benjamin Kaduk</td>
                    <td><div class="snippet">[Ballot comment]<br>Thanks for the updates in the -28 and -29; they do resolve all my<br>Discuss points (and AFAICT the comment ones, too).&nbsp; Just â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">[Ballot comment]<br>Thanks for the updates in the -28 and -29; they do resolve all my<br>Discuss points (and AFAICT the comment ones, too).&nbsp; Just a handful of<br>remaining comments (mostly nits, though the last few are more<br>substantive).<br><br>We should probably normalize the spelling of "SHA256" vs "SHA-256" --<br>there is even one place where we write "HMAC-SHA-256-128+HKDF-SHA256"<br>with both forms in the same expression.<br><br>Abstract<br><br>&nbsp;  database designs.&nbsp; Since these devices implement the "edge" of the<br>&nbsp;  LISP Control-Plane infrastructure, connecting EID addressable nodes<br>&nbsp;  of a LISP site, it the implementation and operational complexity of<br>&nbsp;  the overall cost and effort of deploying LISP.<br><br>nit: something seems off starting around "it the implementation".<br><br>Section 1.1<br><br>&nbsp;  1.&nbsp; LISP-SEC MUST be implemented [<a href="/doc/draft-ietf-lisp-sec/">I-D.ietf-lisp-sec</a>].&nbsp; This means<br>&nbsp; &nbsp; &nbsp;  that the S-bit MUST be set in the Map-Reply (Section 5.4), Map-<br>&nbsp; &nbsp; &nbsp;  Register (Section 5.6) and Encapsulated Control messages<br>&nbsp; &nbsp; &nbsp;  (Section 5.8).<br><br>nit: while this is (IMO) unambiguous, s/implemented/in force/ (or<br>similar) might be a more conventional way to refer to the behavior<br>presented in the second sentence.<br><br>Section 5.3<br><br>&nbsp;  "verifying Map-Request" through the mapping database to validate thge<br>&nbsp;  "piggybacked" mapping data.<br><br>nit: s/thge/the/<br><br>Section 6.1<br><br>It looks like in the process of cleaning up after "SMR-triggered<br>Map-Requests always go to the mapping system" we also (accidentally?)<br>removed a sentence about "for security reasons, an ITR MUST NOT process<br>unsolicited Map-Replies".&nbsp; IIUC that sentence was here to motivate the<br>SMR/SMR-invoked-Map-Request processing, and so it no longer makes much<br>sense in this location, but it does still seem an important point to<br>make.&nbsp; I could see this going in either Section 5.5 (defining the<br>EID-to-RLOC UDP Map-Reply processing) or Section 9 (security<br>considerations), though of course if you think it makes sense somewhere<br>else that would be fine, too.<br><br>Section 12.5<br><br>Please update the 'KDF' reference for HMAC-SHA256-128+HKDF-SHA256 to<br>point to <a href="/doc/rfc5869/">RFC 5869</a> (not <a href="/doc/rfc4868/">RFC 4868</a>).<br><br>Also, please add a brief note that specifies the interpretation of the<br>KDF() arguments when the <a href="/doc/rfc5869/">RFC 5869</a> HKDF is used.&nbsp; This could be something<br>like:<br><br>% When HKDF [<a href="/doc/rfc5869/">RFC5869</a>] is used as the LISP KDF, the first argument to<br>% KDF() is used as the HKDF 'IKM', and the second argument to KDF() is used<br>% as the HKDF 'info'.<br><br>(If we were really excited we could rename 's' from being a "salt" to<br>being a "contextualization string", but I feel like the cost/benefit<br>analysis does not actually favor making that change.&nbsp; I merely note it<br>because what we call a "salt" is different than what <a href="/doc/rfc5869/">RFC5869</a> uses as<br>"salt", but there is not a strong requirement for consistency of<br>terminology across the entire RFC corpus.)</div></td>
                </tr>
            
                <tr id="history-775132">
                    <td>
                        <div title="2020-10-27 18:04:07 -0700">2020-10-27</div>
                    </td>
                    <td class="text-end">29</td>
                    <td>Benjamin Kaduk</td>
                    <td>[Ballot Position Update] Position for Benjamin Kaduk has been changed to No Objection from Discuss</td>
                </tr>
            
                <tr id="history-771488">
                    <td>
                        <div title="2020-09-29 16:15:16 -0700">2020-09-29</div>
                    </td>
                    <td class="text-end">29</td>
                    <td>Albert Cabellos-Aparicio</td>
                    <td>New version available: <b><a href="/doc/draft-ietf-lisp-rfc6833bis/29/">draft-ietf-lisp-rfc6833bis-29.txt</a></b></td>
                </tr>
            
                <tr id="history-771487">
                    <td>
                        <div title="2020-09-29 16:15:15 -0700">2020-09-29</div>
                    </td>
                    <td class="text-end">29</td>
                    <td>(System)</td>
                    <td>New version approved</td>
                </tr>
            
                <tr id="history-771486">
                    <td>
                        <div title="2020-09-29 16:13:02 -0700">2020-09-29</div>
                    </td>
                    <td class="text-end">29</td>
                    <td>(System)</td>
                    <td>Request for posting confirmation emailed to previous authors: Vince Fuller , Fabio Maino , Dino Farinacci , Albert Cabellos-Aparicio </td>
                </tr>
            
                <tr id="history-771485">
                    <td>
                        <div title="2020-09-29 16:12:39 -0700">2020-09-29</div>
                    </td>
                    <td class="text-end">29</td>
                    <td>Albert Cabellos-Aparicio</td>
                    <td>Uploaded new revision</td>
                </tr>
            
                <tr id="history-770020">
                    <td>
                        <div title="2020-09-18 06:38:23 -0700">2020-09-18</div>
                    </td>
                    <td class="text-end">28</td>
                    <td>Roman Danyliw</td>
                    <td><div class="snippet">[Ballot comment]<br>I support Ben Kadukâ€™s DISCUSS position on the MTI MAC-KDF and LISP-SEC clarity.<br><br>Per the issues of the MTI MAC-KDF, I recommend Section â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">[Ballot comment]<br>I support Ben Kadukâ€™s DISCUSS position on the MTI MAC-KDF and LISP-SEC clarity.<br><br>Per the issues of the MTI MAC-KDF, I recommend Section 9 (â€œAn implementation MUST support HMAC-SHA256-128+HKDF-SHA256 [<a href="/doc/rfc4868/">RFC4868</a>]â€)<br><br>I support Martin Dukeâ€™s DISCUSS position.<br><br>Thanks for addressing my DISCUSS items.<br><br>====<br>** Section 9.&nbsp; The assumption that â€œThe ETRs have a pre-configured trust relationship with the Mapping System, which includes some form of shared secret â€¦ [and] establishment is out of scope of this document.â€ seems like a significant unaddressed hurdle at scale.<br><br>** Section 9.&nbsp; Per assumption 2 that a â€œâ€¦ Mapping System is aware of which EIDs an ETR can advertise.â€, what behavior should the mapping system take when it gets a Map-Register whose scope does not match this information?</div></td>
                </tr>
            
                <tr id="history-770019">
                    <td>
                        <div title="2020-09-18 06:38:23 -0700">2020-09-18</div>
                    </td>
                    <td class="text-end">28</td>
                    <td>Roman Danyliw</td>
                    <td>[Ballot Position Update] Position for Roman Danyliw has been changed to No Objection from Discuss</td>
                </tr>
            
                <tr id="history-763101">
                    <td>
                        <div title="2020-07-29 03:22:54 -0700">2020-07-29</div>
                    </td>
                    <td class="text-end">28</td>
                    <td>(System)</td>
                    <td>Sub state has been changed to <b>AD Followup</b> from <b>Revised ID Needed</b></td>
                </tr>
            
                <tr id="history-763100">
                    <td>
                        <div title="2020-07-29 03:22:53 -0700">2020-07-29</div>
                    </td>
                    <td class="text-end">28</td>
                    <td>(System)</td>
                    <td>IANA Review state changed to <b>Version Changed - Review Needed</b> from IANA OK - Actions Needed</td>
                </tr>
            
                <tr id="history-763099">
                    <td>
                        <div title="2020-07-29 03:22:48 -0700">2020-07-29</div>
                    </td>
                    <td class="text-end">28</td>
                    <td>Albert Cabellos-Aparicio</td>
                    <td>New version available: <b><a href="/doc/draft-ietf-lisp-rfc6833bis/28/">draft-ietf-lisp-rfc6833bis-28.txt</a></b></td>
                </tr>
            
                <tr id="history-763098">
                    <td>
                        <div title="2020-07-29 03:22:46 -0700">2020-07-29</div>
                    </td>
                    <td class="text-end">28</td>
                    <td>(System)</td>
                    <td>New version approved</td>
                </tr>
            
                <tr id="history-763097">
                    <td>
                        <div title="2020-07-29 03:22:19 -0700">2020-07-29</div>
                    </td>
                    <td class="text-end">28</td>
                    <td>(System)</td>
                    <td>Request for posting confirmation emailed to previous authors: Fabio Maino , Vince Fuller , Albert Cabellos-Aparicio , Dino Farinacci </td>
                </tr>
            
                <tr id="history-763096">
                    <td>
                        <div title="2020-07-29 03:22:17 -0700">2020-07-29</div>
                    </td>
                    <td class="text-end">28</td>
                    <td>Albert Cabellos-Aparicio</td>
                    <td>Uploaded new revision</td>
                </tr>
            
                <tr id="history-762047">
                    <td>
                        <div title="2020-07-27 01:47:34 -0700">2020-07-27</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>Luigi Iannone</td>
                    <td>Added to session: IETF-108: lisp&nbsp; Wed-1300</td>
                </tr>
            
                <tr id="history-758602">
                    <td>
                        <div title="2020-07-09 07:46:31 -0700">2020-07-09</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>Murray Kucherawy</td>
                    <td><div class="snippet">[Ballot comment]<br>This is the final document in a long queue, so I did only a cursory review.&nbsp; Having gone over my colleague's DISCUSS positions â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">[Ballot comment]<br>This is the final document in a long queue, so I did only a cursory review.&nbsp; Having gone over my colleague's DISCUSS positions and other comments, and the change history since its first pass through the IESG, I doubt I'd be able to add much, so I'm balloting No Objection.</div></td>
                </tr>
            
                <tr id="history-758601">
                    <td>
                        <div title="2020-07-09 07:46:31 -0700">2020-07-09</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>Murray Kucherawy</td>
                    <td>[Ballot Position Update] New position, No Objection, has been recorded for Murray Kucherawy</td>
                </tr>
            
                <tr id="history-758595">
                    <td>
                        <div title="2020-07-09 07:33:25 -0700">2020-07-09</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>Cindy Morgan</td>
                    <td>IESG state changed to <b>IESG Evaluation::Revised I-D Needed</b> from IESG Evaluation</td>
                </tr>
            
                <tr id="history-758543">
                    <td>
                        <div title="2020-07-09 04:36:41 -0700">2020-07-09</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>Ã‰ric Vyncke</td>
                    <td><div class="snippet">[Ballot comment]<br>Thank you for the work put into this document. <br><br>Due to time contraints, I had no time to do a deep review of â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">[Ballot comment]<br>Thank you for the work put into this document. <br><br>Due to time contraints, I had no time to do a deep review of this document. But, I support Erik Kline's DISCUSS points and also extend it to 2001:db8:1:2::/32 that is a /64 (cfr section 5.5)<br><br>I hope that this helps to improve the document,<br><br>Regards,<br><br>-Ã©ric</div></td>
                </tr>
            
                <tr id="history-758542">
                    <td>
                        <div title="2020-07-09 04:36:41 -0700">2020-07-09</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>Ã‰ric Vyncke</td>
                    <td>[Ballot Position Update] New position, No Objection, has been recorded for Ã‰ric Vyncke</td>
                </tr>
            
                <tr id="history-758503">
                    <td>
                        <div title="2020-07-09 01:19:28 -0700">2020-07-09</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>Erik Kline</td>
                    <td><div class="snippet">[Ballot discuss]<br>[ __all__ ]<br><br>* Is there somewhere a broad prohibition for all IPv6 EID addresses and IPv6<br>&nbsp; EID prefixes that they MUST â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">[Ballot discuss]<br>[ __all__ ]<br><br>* Is there somewhere a broad prohibition for all IPv6 EID addresses and IPv6<br>&nbsp; EID prefixes that they MUST NOT be IPv6 link-local addresses?<br><br>&nbsp; Related: are there any use cases for an IPv6 link-local RLOC?&nbsp; Perhaps in<br>&nbsp; some IXP scenarios?<br><br>[ section 5.5 ]<br><br>* Are these example prefixes correct?&nbsp; 2001:db8::/16 is really just 2001::/16,<br>&nbsp; right? Similarly, I think /24 should be /48 and /32 should be /64, yes?<br><br>&nbsp; I feel like I must be misunderstanding something important...</div></td>
                </tr>
            
                <tr id="history-758502">
                    <td>
                        <div title="2020-07-09 01:19:28 -0700">2020-07-09</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>Erik Kline</td>
                    <td><div class="snippet">[Ballot comment]<br>[ section 5.2 ]<br><br>* Can the ITR-RLOC Address be the same as the source of the packet containing<br>&nbsp; the Map Request? â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">[Ballot comment]<br>[ section 5.2 ]<br><br>* Can the ITR-RLOC Address be the same as the source of the packet containing<br>&nbsp; the Map Request?<br><br>[ section 5.4 ]<br><br>* I think the EID-Prefix field in the packet layout diagram needs a ... or ~'s<br>&nbsp; to indicate variable length? (Same in 5.6, 5.7 and also for Locator field)?<br><br>* Can this S bit be cleared by an on-path attacker without consequence?<br><br>* ACT values of 4 and 5: should an ICMP admin prohibited be sent back to the<br>&nbsp; EID source?<br><br>* Weight: "...the 2nd and 3rd Locators will *each* get 25% of the traffic..."<br><br>* WRT the recommended once per 3 seconds: is that per-query source or across<br>&nbsp; all querying clients?</div></td>
                </tr>
            
                <tr id="history-758501">
                    <td>
                        <div title="2020-07-09 01:19:28 -0700">2020-07-09</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>Erik Kline</td>
                    <td>[Ballot Position Update] New position, Discuss, has been recorded for Erik Kline</td>
                </tr>
            
                <tr id="history-758454">
                    <td>
                        <div title="2020-07-08 21:25:47 -0700">2020-07-08</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>Benjamin Kaduk</td>
                    <td><div class="snippet">[Ballot discuss]<br>(1) The -27 brought back the "MUST" for HMAC-SHA256-128 in Section 5.6 per<br>my ballot on the -26, but left unchanged section 9, â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">[Ballot discuss]<br>(1) The -27 brought back the "MUST" for HMAC-SHA256-128 in Section 5.6 per<br>my ballot on the -26, but left unchanged section 9, so we still have a<br>SHOULD vs. MUST inconsistency w.r.t. implementing<br>HMAC-SHA256-128+HKDF-SHA256.&nbsp; (I would of course prefer the same<br>resolution of the inconsistency that Roman does, but have forgotten to<br>what extent we have to defer to the deployed reality.)<br><br>(2) It looks like the update in Section 5.7 is attempting to address my<br>point about only terminating Map-Notify retransmission when the<br>authentication data of the Map-Notify-Ack validates, but the added text<br>is either misplaced or malformed.&nbsp; Perhaps<br><br>CURRENT:<br>&nbsp;  The Map-Notify-Ack message has the same contents as a Map-Notify<br>&nbsp;  message.&nbsp; It is used to acknowledge the receipt of a Map-Notify and<br>&nbsp;  for the sender to stop retransmitting a Map-Notify with the same<br>&nbsp;  nonce and the authentication data validates.&nbsp; [...]<br><br>NEW:<br>&nbsp;  The Map-Notify-Ack message has the same contents as a Map-Notify<br>&nbsp;  message.&nbsp; It is used to acknowledge the receipt of a Map-Notify and,<br>&nbsp;  once the the authentication data is validated, allows for the<br>&nbsp;  Map-Notify sender to stop retransmitting a Map-Notify with the same<br>&nbsp;  nonce. [...]<br><br>(3) I think that Eric Rescorla's concern about a misbehaving ETR being<br>able to prevent an ITR from learning that the ETR is no longer the<br>appropriate ETR for a given prefix remains unaddressed.&nbsp; I wrote up a<br>longer description at<br><a href="https://mailarchive.ietf.org/arch/msg/lisp/O2ycn4CkWsPhFyqrZuB4ZJBNnl0/">https://mailarchive.ietf.org/arch/msg/lisp/O2ycn4CkWsPhFyqrZuB4ZJBNnl0/</a><br>but in short, we only require the ITR to send its Map-Request through<br>the mapping system (vs. directly to the ETR) when SMR is sent from an<br>address not in the current mapping data for that prefix -- if the SMR is<br>sent from an address in the current mapping data, we allow sending<br>Map-Request directly to the ETR, outside the mapping system.&nbsp; I don't<br>see a mechanism that guarantees that such a "revocation" event is<br>noticed by the ITR.<br><br>(4) The specification of the MAC+KDF algorithms doesn't seem detailed<br>enough to be implementable.&nbsp; <a href="/doc/rfc4868/">RFC 4868</a> is attempted to be used as a<br>reference for both HMAC-SHA256-128 (er, and the one-character-off<br>HMAC-SHA-256-128) and HKDF-SHA2562 (note spurious final '2'), but I<br>think it can only work as a reference for the MAC algorithm.&nbsp; Presumably<br>we need <a href="/doc/rfc5869/">RFC 5869</a> or such for the KDF part<br><br>(5) This is probably my fault, but we're missing a step with how we<br>describe the Map-Notify/Map-Notify-Ack per-message authentication.<br>Specifically, while we do say that the authentication data needs to be<br>recomputed each time, we don't clearly state that this is because the<br>correct per-message key is different, because we are using a different<br>'s' input to the KDF function for the different messages.&nbsp; In line with<br>the "Map-Register Authentication" used for Map-Register, this would<br>presumably be "Map-Notify Authentication" and "Map-Notify-Ack<br>Authentication", but neither of those strings appear in this document.<br>We might be able to localize the change to Section 5.6, akin to<br><br>OLD:<br>&nbsp; &nbsp; &nbsp; 4:&nbsp; The derived per-message key is computed as: per-msg-<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; key=KDF(nonce+s+PSK[Key ID]).&nbsp; Where the nonce is the value in<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; the Nonce field of the Map-Register and 's' is a string equal<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; to "Map-Register Authentication".&nbsp; [...]<br><br>NEW:<br>&nbsp; &nbsp; &nbsp; 4:&nbsp; The derived per-message key is computed as: per-msg-<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; key=KDF(nonce+s+PSK[Key ID]).&nbsp; Where the nonce is the value in<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; the Nonce field of the Map-Register and 's' is a string that<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; corresponds to the message type being authenticated.&nbsp; For<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Map-Register messages, it is equal to "Map-Register<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Authentication".&nbsp; Similarly, for Map-Notify and Map-Notify-Ack<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; messages, it is "Map-Notify Authentication" and<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "Map-Notify-Ack Authentication", respectively.<br><br>However, I think the rhetoric would be more robust if we also modified<br>Section 5.7 to mention the existence of the different 's' values (or,<br>rather, the different per-message key) when we say that the<br>authentication data is recomputed.&nbsp; Perhaps, s/is recomputed/is<br>recomputed using the corresponding per-message key/ (twice).</div></td>
                </tr>
            
                <tr id="history-758453">
                    <td>
                        <div title="2020-07-08 21:25:47 -0700">2020-07-08</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>Benjamin Kaduk</td>
                    <td><div class="snippet">[Ballot comment]<br>Abstract<br><br>&nbsp;  database designs.&nbsp; Since these devices implement the "edge" of the<br>&nbsp;  LISP Control-Plane infrastructure, connecting EID addressable nodes<br>&nbsp;  of a â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">[Ballot comment]<br>Abstract<br><br>&nbsp;  database designs.&nbsp; Since these devices implement the "edge" of the<br>&nbsp;  LISP Control-Plane infrastructure, connecting EID addressable nodes<br>&nbsp;  of a LISP site, their implementation and operational complexity<br>&nbsp;  reduces the overall cost and effort of deploying LISP.<br><br>I think there might be a "simplifying" or "reducing" missing here<br>(w.r.t. "their implementation and operational complexity").<br><br>Section 1<br><br>&nbsp;  Conceptually, LISP Map-Servers share some of the same basic<br>&nbsp;  configuration and maintenance properties as Domain Name System (DNS)<br>&nbsp;  [<a href="/doc/rfc1035/">RFC1035</a>] servers; likewise, Map-Resolvers are conceptually similar<br><br>I suggest adding "authoritative" to the DNS servers of the analogy.<br><br>Section 3<br><br>&nbsp;  Map-Resolver:&nbsp;  A network infrastructure component that accepts LISP<br>&nbsp; &nbsp; &nbsp; Encapsulated (ECM) Map-Requests, typically from an ITR, and<br>&nbsp; &nbsp; &nbsp; determines whether or not the destination IP address is part of<br>&nbsp; &nbsp; &nbsp; the EID namespace; if it is not, a Negative Map-Reply is returned.<br>&nbsp; &nbsp; &nbsp; Otherwise, the Map-Resolver finds the appropriate EID-to-RLOC<br>&nbsp; &nbsp; &nbsp; mapping by consulting a mapping database system.<br><br>This could perhaps be misread as implying that the Map-Resolver returns<br>the appropriate EID-to-RLOC mapping to the requestor directly, whereas<br>IIRC the reply is sent directly from the ETR/Map-Server.<br><br>Section 4<br><br>&nbsp;  A Map-Server is a device that publishes EID-Prefixes in a LISP<br>&nbsp;  mapping database on behalf of a set of ETRs.&nbsp; When it receives a Map<br>&nbsp;  Request (typically from an ITR), it consults the mapping database to<br><br>I feel like I said this already but forgot the answer; sorry for the<br>duplication: the Map-Server is not getting the request directly from the<br>ITR, but rather from the mapping system or a Map-Resolver.&nbsp; Do we want<br>to say something like "originating from an ITR" to clarify?<br><br>Section 5.2<br><br>&nbsp;  A: This is an authoritative bit, which is set to 0 for UDP-based Map-<br>&nbsp; &nbsp; &nbsp; Requests sent by an ITR.&nbsp; It is set to 1 when an ITR wants the<br>&nbsp; &nbsp; &nbsp; destination site to return the Map-Reply rather than the mapping<br>&nbsp; &nbsp; &nbsp; database system returning a Map-Reply.<br><br>I'm not sure this paints a clear picture of when the bit is/isn't set.<br>Are Map-Requests sent by an ITR that want the destination site to reply<br>(rather than the mapping database) sent over some non-UDP-based scheme?<br>Do ECM messages count as UDP-based?<br>(I would make this a Discuss for lack of clarity but that would be<br>double-jeopardy.)<br><br>&nbsp;  p: This is the PITR bit.&nbsp; This bit is set to 1 when a PITR sends a<br>&nbsp; &nbsp; &nbsp; Map-Request.<br><br>It might be worth saying something about what the recipient would do<br>with the knowledge that the Map-Request was PITR-generated (rather than<br>ITR-generated?).<br><br>&nbsp;  L: This is the local-xtr bit.&nbsp; It is used by an xTR in a LISP site to<br>&nbsp; &nbsp; &nbsp; tell other xTRs in the same site that it is part of the RLOC-set<br>&nbsp; &nbsp; &nbsp; for the LISP site.&nbsp; The L-bit is set to 1 when the RLOC is the<br>&nbsp; &nbsp; &nbsp; sender's IP address.<br><br>I'm not sure which RLOC is "the" RLOC -- the message format seems to<br>allow multiple ITR-RLOC entries.<br><br>&nbsp;  D: This is the dont-map-reply bit.&nbsp; It is used in the SMR procedure<br>&nbsp; &nbsp; &nbsp; described in Section 6.1.&nbsp; When an xTR sends an SMR Map-Request<br>&nbsp; &nbsp; &nbsp; message, it doesn't need a Map-Reply returned.&nbsp; When this bit is<br><br>Should this get s/SMR Map-Request message/SMR message/ as was done<br>elsewhere in response to my comments on a previous version?<br><br>&nbsp;  EID-Prefix:&nbsp; This prefix address length is 4 octets for an IPv4<br>&nbsp; &nbsp; &nbsp; address family and 16 octets for an IPv6 address family when the<br>&nbsp; &nbsp; &nbsp; EID-Prefix-AFI is 1 or 2, respectively.&nbsp; For other AFIs [AFI], the<br>&nbsp; &nbsp; &nbsp; address length varies and for the LCAF AFI the format is defined<br>&nbsp; &nbsp; &nbsp; in [<a href="/doc/rfc8060/">RFC8060</a>].&nbsp; [...]<br><br>Just to check: if I get a Map-Request that uses an AFI I don't<br>recognize, I have to abort parsing the packet since I don't know how<br>many bytes to skip?&nbsp; It seems like this might negatively affect the<br>ability to introduce new AFIs.<br><br>&nbsp;  Map-Reply Record:&nbsp; When the M-bit is set, this field is the size of a<br>&nbsp; &nbsp; &nbsp; single "Record" in the Map-Reply format.&nbsp; This Map-Reply record<br>&nbsp; &nbsp; &nbsp; contains the EID-to-RLOC mapping entry associated with the Source<br>&nbsp; &nbsp; &nbsp; EID.&nbsp; This allows the ETR that will receive this Map-Request to<br>&nbsp; &nbsp; &nbsp; cache the data if it chooses to do so.<br><br>We could perhaps mention something about whether the ETR believes the<br>message is trustworthy, too, since it does not have the benefit of<br>having gone through mapping system validation.<br><br>Section 5.3<br><br>&nbsp;  Map-Requests MUST be rate-limited to 1 per second per EID-prefix.<br>&nbsp;  After 10 retransmits without receiving the corresponding Map-Reply<br>&nbsp;  must wait 30 seconds.<br><br>nit: incomplete sentence.<br><br>&nbsp;  a Map-Cache entry.&nbsp; If the ETR (when it is an xTR co-located as an<br>&nbsp;  ITR) has a Map-Cache entry that matches the "piggybacked" EID and the<br>&nbsp;  RLOC is in the Locator-Set for the cached entry, then it MAY send the<br>&nbsp;  "verifying Map-Request" directly to the originating Map-Request<br>&nbsp;  source.&nbsp; If the RLOC is not in the Locator-Set, then the ETR MUST<br>&nbsp;  send the "verifying Map-Request" to the "piggybacked" EID.&nbsp; Doing<br>&nbsp;  this forces the "verifying Map-Request" to go through the mapping<br>&nbsp;  database system to reach the authoritative source of information<br>&nbsp;  about that EID, guarding against RLOC-spoofing in the "piggybacked"<br>&nbsp;  mapping data.<br><br>side note: Does it make much practical difference to send the<br>Map-Request to the EID as the destination address vs. just consulting<br>the mapping system to look up that EID?&nbsp; It seems like the former is<br>strictly more work, and I'm not sure what additional benefit is gained<br>from that additional work.&nbsp; I guess, reachability information for the<br>EID in question.<br><br>Section 5.4<br><br>&nbsp;  P: This is the probe-bit, which indicates that the Map-Reply is in<br>&nbsp; &nbsp; &nbsp; response to a Locator reachability probe Map-Request.&nbsp; The 'Nonce'<br>&nbsp; &nbsp; &nbsp; field MUST contain a copy of the nonce value from the original<br>&nbsp; &nbsp; &nbsp; Map-Request.&nbsp; [...]<br><br>The description of the nonce field says that it's always copied from the<br>Map-Request; is this MUST adding any additional requirements?<br><br>&nbsp;  Record Count:&nbsp; This is the number of records in this reply message.<br>&nbsp; &nbsp; &nbsp; A record is comprised of that portion of the packet labeled<br>&nbsp; &nbsp; &nbsp; 'Record' above and occurs the number of times equal to Record<br>&nbsp; &nbsp; &nbsp; Count.<br><br>We say earlier that the record count in a Map-Request is (artificially)<br>limited to 1 for this document; we might note here that the reply count<br>can be larger than the request count, e.g., when there's a need to<br>return more-specifics that are carved out from the best match to the<br>requested EID.<br><br>&nbsp;  Locator Count:&nbsp; This is the number of Locator entries in the given<br>&nbsp; &nbsp; &nbsp; Record.&nbsp; A Locator entry comprises what is labeled above as 'Loc'.<br>&nbsp; &nbsp; &nbsp; The Locator count can be 0, indicating that there are no Locators<br>&nbsp; &nbsp; &nbsp; for the EID-Prefix.<br><br>Do we want to say "also known as a negative Map-Reply"?<br><br>&nbsp; &nbsp; &nbsp; (0) No-Action:&nbsp; The Map-Cache is kept alive, and no packet<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; encapsulation occurs.<br><br>&nbsp; &nbsp; &nbsp; (1) Natively-Forward:&nbsp; The packet is not encapsulated or dropped<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; but natively forwarded.<br><br>It might be worth a few words about how these two differ, as the "no<br>encapsulation" part is superficially similar.<br><br>&nbsp;  A: The Authoritative bit MAY only be set to 1 by an ETR.&nbsp; A Map-<br>&nbsp; &nbsp; &nbsp; Server generating Map-Reply messages as a proxy MUST NOT set the<br>&nbsp; &nbsp; &nbsp; A-bit to 1 by an ETR, and not a Map-Server generating Map-Reply<br>&nbsp; &nbsp; &nbsp; messages as a proxy.&nbsp; This bit indicates to requesting ITRs that<br><br>nit: looks like a botched edit, with the "and not a Map-Server<br>generating Map-Reply messages as a proxy" sticking around when it should<br>have been removed.<br><br>&nbsp; &nbsp; &nbsp; the Map-Reply was not originated by a LISP node managed at the<br>&nbsp; &nbsp; &nbsp; site that owns the EID-Prefix.<br><br>Please confirm that the "not" is correct, here.<br><br>&nbsp; &nbsp; &nbsp; 12.5% of the traffic.&nbsp; If all Weights for a Locator-Set are equal,<br>&nbsp; &nbsp; &nbsp; the receiver of the Map-Reply will decide how to load-split the<br>&nbsp; &nbsp; &nbsp; traffic.&nbsp; See RLOC-hashing [<a href="/doc/draft-ietf-lisp-rfc6830bis/">I-D.ietf-lisp-rfc6830bis</a>] for a<br><br>"equal" or "equal to zero"?&nbsp; Just "equal" seems like it needlessly<br>overloads the semantics for uniform balancing.&nbsp; (Similarly for the<br>multicast weight.)<br><br>&nbsp;  R: This is set when the sender of a Map-Reply has a route to the<br>&nbsp; &nbsp; &nbsp; Locator in the Locator data record.&nbsp; This receiver may find this<br>&nbsp; &nbsp; &nbsp; useful to know if the Locator is up but not necessarily reachable<br>&nbsp; &nbsp; &nbsp; from the receiver's point of view.&nbsp; See also EID-Reachability<br>&nbsp; &nbsp; &nbsp; Section 7.1 for another way the R-bit may be used.<br><br>I'm not finding mention of the R-bit in Section 7.1; am I missing<br>something?<br><br>&nbsp;  The Record format, as defined here, is used both in the Map-Reply and<br>&nbsp;  Map-Register messages, this includes all the field definitions.<br><br>(We also mentioend in the previous section that a single record in this<br>format can be present in the Map-Request.)<br><br>Section 5.5<br><br>&nbsp;  either from the destination field of an IP header of a Data-Probe or<br>&nbsp;  the EID record of a Map-Request.&nbsp; The RLOCs in the Map-Reply are<br><br>nit(?): "EID of a record of a Map-Request"?<br><br>&nbsp;  invoking the reply.&nbsp; The source address of the Map-Reply is one of<br>&nbsp;  the local IP addresses chosen, to allow Unicast Reverse Path<br><br>Something seems amiss here.&nbsp; It might just be that the comma is<br>misplaced (after chosen vs. before it), but that hinges on the nature of<br>the choice in question.<br><br>Section 5.6<br><br>&nbsp;  E: This is the Map-Register EID-notify bit.&nbsp; This is used by a First-<br>&nbsp; &nbsp; &nbsp; Hop-Router (FHR) which discovers a dynamic-EID.&nbsp; This EID-notify<br>&nbsp; &nbsp; &nbsp; based Map-Register is sent by the FHR to the same site xTR that<br>&nbsp; &nbsp; &nbsp; propogates the Map-Register to the mapping system.&nbsp; The site xTR<br><br>nit(???): I think maybe s/the same site/a same-site/, though that<br>nominally changes the meaning.<br><br>&nbsp; &nbsp; &nbsp; 4:&nbsp; The derived per-message key is computed as: per-msg-<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; key=KDF(nonce+s+PSK[Key ID]).&nbsp; Where the nonce is the value in<br><br>There's some notational quirks to handle here, since a KDF() function is<br>typically represented as taking two inputs, an input key material and a<br>salt, and depending on context an output length as well.&nbsp; (Though<br>resolving this may depend on how discuss point (4) is resolved.)<br><br>We should probably also say that '+' is used to represent concatenation.<br><br>Section 5.7<br><br>&nbsp;  procedure defined in the previous section.&nbsp; For an unsolicited Map-<br>&nbsp;  Notify, the fields of a Map-Notify used for publish/subscribe are<br>&nbsp;  specified in [<a href="/doc/draft-ietf-lisp-pubsub/">I-D.ietf-lisp-pubsub</a>].<br><br>We probably want to tweak how we make this reference to avoid a<br>perceived need to make pubsub a normative reference.&nbsp; Perhaps something<br>like "the Map-Notify message can also used, outside the scope of this<br>specification, in an unsolicited manner, such as is specified in<br>[pubsub]".&nbsp; Also, there are other ways to get an unsolicited Map-Notify,<br>right?&nbsp; This text doesn't really make that clear.<br><br>&nbsp;  A Map-Server sends an unsolicited Map-Notify message (one that is not<br>&nbsp;  used as an acknowledgment to a Map-Register message) in only<br><br>nit: s/in only/only in/ (my fault, sorry)<br><br>&nbsp;  conformance the Congestion Control And Relability Guideline sections<br>&nbsp;  of [<a href="/doc/rfc8085/">RFC8085</a>].&nbsp; A Map-Notify is retransmitted until a Map-Notify-Ack<br><br>nit: s/conformance/conformance with/<br><br>&nbsp;  Upon reception of Map-Register, Map-Notify or Map-Notifiy-Ack, the<br>&nbsp;  receiver verifies the authentication data.<br><br>I suggest adding "If the authentication data fails to validate, the<br>message is dropped without further processing".<br><br>Section 5.8<br><br>&nbsp;  LISP: Type 8 is defined to be a "LISP Encapsulated Control Message",<br>&nbsp; &nbsp; &nbsp; &nbsp;  and what follows is either an IPv4 or IPv6 header as encoded by<br>&nbsp; &nbsp; &nbsp; &nbsp;  the first 4 bits after the 'Reserved' field.<br>&nbsp;  [...]<br>&nbsp;  S:&nbsp; &nbsp; This is the Security bit.&nbsp; When set to 1, the field following<br>&nbsp; &nbsp; &nbsp; &nbsp;  the 'Reserved' field will have the following Authentication<br>&nbsp; &nbsp; &nbsp; &nbsp;  Data format and follow the procedures from [<a href="/doc/draft-ietf-lisp-sec/">I-D.ietf-lisp-sec</a>].<br><br>So is it the IP version or the authentication data that follows the<br>Reserved field?<br><br>Section 6.1<br><br>&nbsp;  mapping data.&nbsp; Please note that this procedure does not result in<br>&nbsp;  cryptographic or strongly authenticated verification.<br><br>"in the absence of [LISP-SEC]".<br><br>&nbsp;  When an ITR receives an SMR-based Map-Request for which it does not<br><br>One more s/SMR-based Map-Request/SMR message/, I think (I missed it in<br>my review of the -26).<br><br>Section 7<br><br>&nbsp;  4.&nbsp; An ITR may receive a Map-Reply from an ETR in response to a<br>&nbsp; &nbsp; &nbsp;  previously sent Map-Request.&nbsp; The RLOC source of the Map-Reply is<br>&nbsp; &nbsp; &nbsp;  likely up, since the ETR was able to send the Map-Reply to the<br>&nbsp; &nbsp; &nbsp;  ITR.<br><br>I note that in the analogous text in 6830bis (Section 10), we have a<br>furthe statement "Please note that in some scenarios the RLOC [from the<br>outer header] can be an spoofable field."<br><br>&nbsp;  When ITRs receive ICMP Network Unreachable or Host Unreachable<br>&nbsp;  messages as a method to determine unreachability, they will refrain<br>&nbsp;  from using Locators that are described in Locator lists of Map-<br>&nbsp;  Replies.&nbsp; However, using this approach is unreliable because many<br>&nbsp;  network operators turn off generation of ICMP Destination Unreachable<br>&nbsp;  messages.<br><br>I think there is also some level of unreliability in the other direction<br>-- even when following <a href="/doc/draft-ietf-opsec-icmp-filtering/">draft-ietf-opsec-icmp-filtering</a> and validating<br>the echoed contents, the contents could in some cases be sufficiently<br>predictable that an attacker could spoof them.&nbsp; Having random<br>nonces/ports be in use helps, of course, but the ICMP message could be<br>generated in response to arbitrary traffic, not all of which will<br>necessarily have all of those.<br><br>&nbsp;  The ITR can test the reachability of the unreachable Locator by<br>&nbsp;  sending periodic Requests.&nbsp; Both Requests and Replies MUST be rate-<br><br>nit: I think we haven't been using the bare forms of "Requests" and<br>"Replies" (in favor of the "Map-" prefixed forms).<br><br>Section 8.1<br><br>&nbsp;  o&nbsp; A Negative Map-Reply, with action code of "Natively-Forward", from<br>&nbsp; &nbsp; &nbsp; a Map-Server that is authoritative (within the LISP deployment<br>&nbsp; &nbsp; &nbsp; Section 1.1) for an EID-Prefix that matches the requested EID but<br>&nbsp; &nbsp; &nbsp; that does not have an actively registered, more-specific EID-<br>&nbsp; &nbsp; &nbsp; prefix.&nbsp; In this case, the requested EID is said to match a "hole"<br><br>Presumably the more-specific prefix still needs to match the requested<br>EID?<br><br>Section 9<br><br>&nbsp;  3.&nbsp; LISP-SEC [<a href="/doc/draft-ietf-lisp-sec/">I-D.ietf-lisp-sec</a>] MUST be implemented.&nbsp; Network<br>&nbsp; &nbsp; &nbsp;  operartors should carefully weight how the LISP-SEC threat model<br><br>nit: s/operartors/operators<br><br>&nbsp;  The Map-Request/Map-Reply message exchange to inject forged mappings<br>&nbsp;  directly in the ITR EID-to-RLOC map-cache.&nbsp; This can lead to traffic<br><br>nit: the grammar's a bit off, maybe s/to inject/can inject/?<br><br>&nbsp;  attacks.&nbsp; In this case, attackers can claim to own an EID-prefix that<br>&nbsp;  is larger than the prefix owned by the ETR.&nbsp; Such attacks can be<br><br>I'd consider adding ", since the Map-Reply is sent directly from ETR to<br>ITR without a chance for validation by the mapping system".<br><br>&nbsp;  addressed by using LISP-SEC [<a href="/doc/draft-ietf-lisp-sec/">I-D.ietf-lisp-sec</a>].&nbsp; The LISP-SEC<br>&nbsp;  protocol defines a mechanism for providing origin authentication,<br>&nbsp;  integrity, protection, and prevention of 'man-in-the-middle' and<br><br>nit: s/integrity,/integrity/ (spurious comma)<br><br>&nbsp;  replay attacks by a man-in-the-middle.&nbsp; However, a compromised ETR<br>&nbsp;  can overclaim the prefix it owns and successfully register it on its<br>&nbsp;  corresponding Map-Server.&nbsp; To mitigate this and as noted in<br><br>The "can overclaim" is a little weird since we go on to describe the<br>mandatory mitigation against this attack.&nbsp; Maybe something with "could"<br>or a more drastic rewording to "there is a potential attack where a<br>compromised ETR could"?<br><br>Section 11<br><br>[I did not attempt to double-check that the listed changes match the<br>actual differences between <a href="/doc/rfc6833/">RFC 6833</a> and this document, but do note that<br>it looks like the authors did so at some point since my initial review.]<br><br>&nbsp;  o&nbsp; This document is incorporating the codepoint for the Map-Referral<br>&nbsp; &nbsp; &nbsp; message from the LISP-DDT specification [<a href="/doc/rfc8111/">RFC8111</a>] to indicate that<br>&nbsp; &nbsp; &nbsp; a Map-Server must send the final Map-Referral message when it<br>&nbsp; &nbsp; &nbsp; participates in the LISP-DDT mapping system procedures.<br><br>It's pretty hard to claim that <a href="/doc/rfc8111/">RFC 8111</a> is only an informative reference<br>in light of statements like this that a Map-Server needs to do something<br>from it when a flag bit defined by this document is set.<br><br>Section 12.3<br><br>&nbsp;  New ACT values can be allocated through IETF review or IESG approval.<br>&nbsp;  Four values have already been allocated by [<a href="/doc/rfc6830/">RFC6830</a>], IANA is<br>&nbsp;  requested to replace the [<a href="/doc/rfc6830/">RFC6830</a>] reference for this registry with<br>&nbsp;  the RFC number assigned to this document and the [<a href="/doc/rfc6830/">RFC6830</a>].&nbsp; Action<br><br>nit: comma splice.<br><br>&nbsp;  values references with the RFC number assigned to this document.<br><br>nit: incomplete sentence (lingering remnants of a previous edit that<br>should just get removed?)<br><br>Section 12.4<br><br>&nbsp;  The IANA registry "LISP Canonical Address Format (LCAF) Types" is<br>&nbsp;  used for LCAF types.&nbsp; The registry for LCAF types use the<br>&nbsp;  Specification Required policy [<a href="/doc/rfc8126/">RFC8126</a>].&nbsp; Initial values for the<br><br>"Specification Required" includes review by designated experts.&nbsp; Do we<br>want to give any guidance to the experts for reviewing new submissions?<br>(Similarly for other registries; I note that the LISP Bit Flags section<br>doesn't use the "Specification Required" keyword.)<br><br>Section 13.1<br><br>We don't currently cite <a href="/doc/rfc6347/">RFC 6347</a> in a way that requires a normative<br>reference.&nbsp; Though I for one wouldn't mind if we made DTLS mandatory<br>somewhere :)<br><br>Section 13.2<br><br>We nominally have a "MUST" for behavior from <a href="/doc/rfc1071/">RFC 1071</a>, that would make<br>it a normative reference, but this is pretty foundational so it seems a<br>bit like overkill.</div></td>
                </tr>
            
                <tr id="history-758452">
                    <td>
                        <div title="2020-07-08 21:25:47 -0700">2020-07-08</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>Benjamin Kaduk</td>
                    <td>Ballot comment and discuss text updated for Benjamin Kaduk</td>
                </tr>
            
                <tr id="history-758447">
                    <td>
                        <div title="2020-07-08 19:59:53 -0700">2020-07-08</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>Barry Leiba</td>
                    <td>[Ballot Position Update] New position, No Objection, has been recorded for Barry Leiba</td>
                </tr>
            
                <tr id="history-758366">
                    <td>
                        <div title="2020-07-08 14:34:26 -0700">2020-07-08</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>Amanda Baber</td>
                    <td>IANA Review state changed to <b>IANA OK - Actions Needed</b> from IANA - Not OK</td>
                </tr>
            
                <tr id="history-758282">
                    <td>
                        <div title="2020-07-08 08:29:18 -0700">2020-07-08</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>Robert Wilton</td>
                    <td>[Ballot Position Update] New position, No Objection, has been recorded for Robert Wilton</td>
                </tr>
            
                <tr id="history-758261">
                    <td>
                        <div title="2020-07-08 07:05:51 -0700">2020-07-08</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>Alissa Cooper</td>
                    <td>[Ballot comment]<br>I support Roman's DISCUSS.</td>
                </tr>
            
                <tr id="history-758260">
                    <td>
                        <div title="2020-07-08 07:05:51 -0700">2020-07-08</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>Alissa Cooper</td>
                    <td>Ballot comment text updated for Alissa Cooper</td>
                </tr>
            
                <tr id="history-758157">
                    <td>
                        <div title="2020-07-07 20:04:32 -0700">2020-07-07</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>Roman Danyliw</td>
                    <td><div class="snippet">[Ballot discuss]<br>** The applicability statement in Section 1.1. notes that this will be used on the â€œpublic Internetâ€.&nbsp; Therefore, I think we need to â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">[Ballot discuss]<br>** The applicability statement in Section 1.1. notes that this will be used on the â€œpublic Internetâ€.&nbsp; Therefore, I think we need to consider the use of â€œsecure defaultsâ€.&nbsp; Making lisp-sec and a strong MAC-KDF mandatory to implement is helpful.&nbsp; However, itâ€™s use must also be normatively specified.&nbsp; Specifically, stronger guidance needs to be given when communicating over the public Internet.&nbsp; My thinking would be something like:<br><br>-- lisp-sec SHOULD (MUST?) be used in for Map-Reply, Map-Notify, Map-Notify-Ack and ECM (i.e. SHOULD/MUST set S=1)<br><br>-- Map-Register SHOULD (MUST?) use HMAC-SHA256-128+HKDF-SHA256<br><br>-- MUST NOT use Algorithm ID = 0 and 1</div></td>
                </tr>
            
                <tr id="history-758156">
                    <td>
                        <div title="2020-07-07 20:04:32 -0700">2020-07-07</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>Roman Danyliw</td>
                    <td><div class="snippet">[Ballot comment]<br>I support Ben Kadukâ€™s DISCUSS position on the MTI MAC-KDF and LISP-SEC clarity.<br><br>Per the issues of the MTI MAC-KDF, I recommend Section â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">[Ballot comment]<br>I support Ben Kadukâ€™s DISCUSS position on the MTI MAC-KDF and LISP-SEC clarity.<br><br>Per the issues of the MTI MAC-KDF, I recommend Section 9 (â€œAn implementation MUST support HMAC-SHA256-128+HKDF-SHA256 [<a href="/doc/rfc4868/">RFC4868</a>]â€)<br><br>I support Martin Dukeâ€™s DISCUSS position.<br><br>** Section 5.3.&nbsp; Per â€œAfter 10 retransmits without receiving the corresponding Map-Reply must wait 30 seconds.â€, should this be a normative MUST?<br><br>** Section 5.6.&nbsp; Per â€œIf a Map-Register is received with a nonce value that is not greater than the saved nonce, it drops the Map-Register message and logs the fact a replay attack could have occurredâ€, should normative language used here â€“ â€œâ€¦ it MUST drop the Map-Register message and SHOULD log the fact that a replay attack â€¦â€?<br><br>** Section 9.&nbsp; The assumption that â€œThe ETRs have a pre-configured trust relationship with the Mapping System, which includes some form of shared secret â€¦ [and] establishment is out of scope of this document.â€ seems like a significant unaddressed hurdle at scale.<br><br>** Section 9.&nbsp; Per assumption 2 that a â€œâ€¦ Mapping System is aware of which EIDs an ETR can advertise.â€, what behavior should the mapping system take when it gets a Map-Register whose scope does not match this information?<br><br>** Editorial Nits<br><br>-- Section 5.4.&nbsp; Typo. s/encapsualted/encapsulated/<br><br>-- Section 5.6.&nbsp; Typo. s/the the/the/<br><br>-- Section 5.6.&nbsp; Typo. s/section Section/Section/<br><br>-- Section 9.&nbsp; Typo. s/operartors/operators/<br><br>-- Section 9.&nbsp; Typo. s/eavesdroping/eavesdropping/</div></td>
                </tr>
            
                <tr id="history-758155">
                    <td>
                        <div title="2020-07-07 20:04:32 -0700">2020-07-07</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>Roman Danyliw</td>
                    <td>[Ballot Position Update] New position, Discuss, has been recorded for Roman Danyliw</td>
                </tr>
            
                <tr id="history-757929">
                    <td>
                        <div title="2020-07-06 15:51:22 -0700">2020-07-06</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>Martin Duke</td>
                    <td><div class="snippet">[Ballot discuss]<br>Two issues rise to DISCUSS level, IMO:<br><br>Sec 5.7. Is the intent that the Map-Notifies are only retransmitted if they are unsolicited? If â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">[Ballot discuss]<br>Two issues rise to DISCUSS level, IMO:<br><br>Sec 5.7. Is the intent that the Map-Notifies are only retransmitted if they are unsolicited? If not, repeated Map-Registers could result in a storm of Map-Notifies.<br><br>Sec 7.1. I very well may have missed something, but it doesn't look like the Map-Request is authenticated. So how can the ETR safely update its Map Cache based on the information in the Map-Reply?</div></td>
                </tr>
            
                <tr id="history-757928">
                    <td>
                        <div title="2020-07-06 15:51:22 -0700">2020-07-06</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>Martin Duke</td>
                    <td><div class="snippet">[Ballot comment]<br>Sec. 5. Please clarify that the 576B and 1280B limits include the entire IP packet.<br><br>Sec 5.4. Does the "weight" refer to the â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">[Ballot comment]<br>Sec. 5. Please clarify that the 576B and 1280B limits include the entire IP packet.<br><br>Sec 5.4. Does the "weight" refer to the percentage of packets or bytes?<br><br>Sec 5.5. The first sentence should suggest that the Map Reply could return multiple EID prefixes.</div></td>
                </tr>
            
                <tr id="history-757927">
                    <td>
                        <div title="2020-07-06 15:51:22 -0700">2020-07-06</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>Martin Duke</td>
                    <td>[Ballot Position Update] New position, Discuss, has been recorded for Martin Duke</td>
                </tr>
            
                <tr id="history-757373">
                    <td>
                        <div title="2020-07-02 06:53:16 -0700">2020-07-02</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>Luigi Iannone</td>
                    <td><div class="snippet">draft-ietf-lisp-6833bis-27.txt Document Write-up<br><br>As required by <a href="/doc/rfc4858/">RFC 4858</a>, this is the current template for the Document Shepherd Write-Up.<br><br><br>(1) What type of RFC is â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">draft-ietf-lisp-6833bis-27.txt Document Write-up<br><br>As required by <a href="/doc/rfc4858/">RFC 4858</a>, this is the current template for the Document Shepherd Write-Up.<br><br><br>(1) What type of RFC is being requested (BCP, Proposed Standard,<br>Internet Standard, Informational, Experimental, or Historic)? Why is<br>this the proper type of RFC? Is this type of RFC indicated in the<br>title page header?<br><br>&nbsp; This draft is targeting Standard Track publication. It is the proper type of RFC, since is the evolution of <a href="/doc/rfc6833/">RFC 6833</a>, which is experimental and is one of items in the LISP WG charter. The RFC type is indicated in the page header.<br><br><br><br>(2) The IESG approval announcement includes a Document Announcement<br>Write-Up. Please provide such a Document Announcement Write-Up. Recent<br>examples can be found in the "Action" announcements for approved<br>documents. The approval announcement contains the following sections:<br><br>Technical Summary:<br><br>	The document provides the specifications for the control-plane of LISP&nbsp; (Locator/Id Separation Protocol).&nbsp; LISP defines two namespaces, End-point&nbsp; Identifiers (EIDs) that identify end-hosts and Routing Locators (RLOCs) that identify network attachment points. In this way, LISP effectively separates control from data, and allows routers to create overlay networks.&nbsp; LISP-capable routers exchange encapsulated packets according to EID-to-RLOC mappings stored in a local Map-Cache.<br>&nbsp; Mappings are distributed using a mapping distribution service. This document defines the front-end of such service, leveraging on the LISP Map-Server and LISP-Map-Resolver elements.<br><br><br>Working Group Summary:<br><br>	The current LISP WG charter has as main task porting the main LISP specifications on Standard Track. The WG has decided to focus on two main documents, one with the specifications of the data-plane and the other with the specifications of the control-plane. This document concerns the control-plane. The WG has showed support to the document from its first submission as individual draft and adopted it right away. On the technical side there was agreement in the WG and little discussion took place, mainly related include some features/improvements not present in <a href="/doc/rfc6833/">RFC 6833</a> and adding text that originally was in the LISP data-plane document. On the organisation of the document, more specifically on what to put in the data-plane document and what to put in the control-plane document there has been quite some discussion. The current version is the trade-off the WG&nbsp; achieved and for which clear consensus has been reached. The version of the document that was approved during WG Last Call is -10. As a shepherd I required a few editorial changes to the document to fix some nits.<br><br>Post-Publication Request Summary:<br><br>&nbsp; After requesting publication the document went through IESG review. The document raised several question from the Security and Transport Area ADs.<br>&nbsp; In order to solve the issues raised the document went through 16 revisions (publication was requested for revision 11, now is 27).<br>&nbsp; All revisions have been also presented in the LISP WG so to be sure that the group was aware of all changes and that there were no objections. No concerns were raised by the LISP WG. All issues seem to be addressed. That is why a new Internet reviews has been performed so to check whether there are concerns from the IETF community.<br><br>Document Quality:<br><br>Are there existing implementations of the protocol? Have a significant<br>number of vendors indicated their plan to implement the specification?<br>Are there any reviewers that merit special mention as having done a<br>thorough review, e.g., one that resulted in important changes or a<br>conclusion that the document had no substantive issues? If there was a<br>MIB Doctor, Media Type or other expert review, what was its course<br>(briefly)? In the case of a Media Type review, on what date was the<br>request posted?<br><br>	There are at least three independent implementations of the LISP control-plane.<br><br><br>Personnel:<br><br>Who is the Document Shepherd?<br><br>&nbsp; Luigi Iannone <br><br><br>Who is the Responsible Area Director?<br><br>&nbsp; Deborah Brungard .<br><br><br><br>(3) Briefly describe the review of this document that was performed by<br>the Document Shepherd. If this version of the document is not ready<br>for publication, please explain why the document is being forwarded to<br>the IESG.<br><br><br>I closely followed the document while in the WG and afterwards as a shepherd during IESG review.<br>The document has improved a lot in quality thanks to the IESG and the authors working together. As previously stated, document changes have been always presented to the LISP WG to make sure that the updated do not raise any concern.&nbsp; The output of the IDnits tool for the -27 version of the document is provided on point 11. The following issues easily fixable have been found:<br>&nbsp; - The draft header indicates that this document obsoletes <a href="/doc/rfc6833/">RFC6833</a>, but the<br>&nbsp; &nbsp; abstract doesn't seem to directly say this.&nbsp; It does mention <a href="/doc/rfc6833/">RFC6833</a><br>&nbsp; &nbsp; though, so this could be OK.<br>&nbsp; &nbsp; ==&gt; Actually it obsoletes 6830 and 6833 as correctly written in header+abstract+intro. It appears to be a limitation of the IDnitstool.<br>&nbsp; - Missing Reference: 'Key ID' is mentioned on line 1088, but not defined<br>&nbsp; &nbsp; =&gt; Not actually a reference the IDnits tool is misled by the use of brackets.<br>&nbsp; - 3 Unused references: Can be deleted while in the RFC Editor queue.<br>&nbsp; - 8 Outdated references, from which 3 are normative but are documents that already past the WG Last Call, hence, the RFC Editor will fix it zith the right RFC numbers.<br><br><br><br><br>(4) Does the document Shepherd have any concerns about the depth or<br>breadth of the reviews that have been performed?<br><br>	As the document shepherd I have no concerns.<br><br><br><br>(5) Do portions of the document need review from a particular or from<br>broader perspective, e.g., security, operational complexity, AAA, DNS,<br>DHCP, XML, or internationalization? If so, describe the review that<br>took place.<br><br>&nbsp; No broader review is required for this document. It went under a through reviewduring the last year.<br><br><br><br>(6) Describe any specific concerns or issues that the Document<br>Shepherd has with this document that the Responsible Area Director<br>and/or the IESG should be aware of? For example, perhaps he or she is<br>uncomfortable with certain parts of the document, or has concerns<br>whether there really is a need for it. In any event, if the WG has<br>discussed those issues and has indicated that it still wishes to<br>advance the document, detail those concerns here.<br><br>	I have no specific concerns or issues to point out.<br><br><br><br>(7) Has each author confirmed that any and all appropriate IPR<br>disclosures required for full conformance with the provisions of <a href="/doc/bcp78/">BCP<br>78</a> and <a href="/doc/bcp79/">BCP 79</a> have already been filed. If not, explain why?<br><br>&nbsp; All authors have made conforming IPR disclosure.<br><br><br><br>(8) Has an IPR disclosure been filed that references this document? If<br>so, summarize any WG discussion and conclusion regarding the IPR<br>disclosures.<br><br>	No IPR disclosures have been filed concerning this specific document. However, there is an IPR disclosure filled by Huawei on <a href="/doc/rfc6833/">RFC 6833</a>, hence, because this document is based on that one, the same IPR disclosure may relate to this document.<br><br><br><br>(9) How solid is the WG consensus behind this document? Does it<br>represent the strong concurrence of a few individuals, with others<br>being silent, or does the WG as a whole understand and agree with it?<br><br>&nbsp; There has been clear strong consensus behind this document, showing that the WG as a whole understand and agree with it and no objection have been raised during the document review.<br><br><br><br><br>(10) Has anyone threatened an appeal or otherwise indicated extreme<br>discontent? If so, please summarise the areas of conflict in separate<br>email messages to the Responsible Area Director. (It should be in a<br>separate email because this questionnaire is publicly available.)<br><br>	Nobody did show extreme discontent nor threatened an appeal.<br><br><br><br>(11) Identify any ID nits the Document Shepherd has found in this<br>document. (See <a href="http://www.ietf.org/tools/idnits/">http://www.ietf.org/tools/idnits/</a> and the<br>Internet-Drafts Checklist). Boilerplate checks are not enough; this<br>check needs to be thorough.<br><br>idnits 2.16.04<br><br>/tmp/draft-ietf-lisp-rfc6833bis-27.txt:<br><br>&nbsp; Checking boilerplate required by <a href="/doc/rfc5378/">RFC 5378</a> and the IETF Trust (see<br>&nbsp; <a href="https://trustee.ietf.org/license-info):">https://trustee.ietf.org/license-info):</a><br>&nbsp; ----------------------------------------------------------------------------<br><br>&nbsp; &nbsp;  No issues found here.<br><br>&nbsp; Checking nits according to <a href="https://www.ietf.org/id-info/1id-guidelines.txt:">https://www.ietf.org/id-info/1id-guidelines.txt:</a><br>&nbsp; ----------------------------------------------------------------------------<br><br>&nbsp; &nbsp;  No issues found here.<br><br>&nbsp; Checking nits according to <a href="https://www.ietf.org/id-info/checklist">https://www.ietf.org/id-info/checklist</a> :<br>&nbsp; ----------------------------------------------------------------------------<br><br>&nbsp; ** There is 1 instance of too long lines in the document, the longest one<br>&nbsp; &nbsp;  being 3 characters in excess of 72.<br><br>&nbsp; -- The draft header indicates that this document obsoletes <a href="/doc/rfc6833/">RFC6833</a>, but the<br>&nbsp; &nbsp;  abstract doesn't seem to directly say this.&nbsp; It does mention <a href="/doc/rfc6833/">RFC6833</a><br>&nbsp; &nbsp;  though, so this could be OK.<br><br><br>&nbsp; Miscellaneous warnings:<br>&nbsp; ----------------------------------------------------------------------------<br><br>&nbsp; -- The document date (January 9, 2020) is 175 days in the past.&nbsp; Is this<br>&nbsp; &nbsp;  intentional?<br><br><br>&nbsp; Checking references for intended status: Proposed Standard<br>&nbsp; ----------------------------------------------------------------------------<br><br>&nbsp; &nbsp;  (See RFCs 3967 and 4897 for information about using normative references<br>&nbsp; &nbsp;  to lower-maturity documents in RFCs)<br><br>&nbsp; == Missing Reference: 'Key ID' is mentioned on line 1088, but not defined<br><br>&nbsp; == Unused Reference: 'I-D.meyer-loc-id-implications' is defined on line<br>&nbsp; &nbsp;  2165, but no explicit reference was found in the text<br><br>&nbsp; == Unused Reference: 'RFC2104' is defined on line 2178, but no explicit<br>&nbsp; &nbsp;  reference was found in the text<br><br>&nbsp; == Unused Reference: 'RFC6234' is defined on line 2192, but no explicit<br>&nbsp; &nbsp;  reference was found in the text<br><br>&nbsp; == Outdated reference: A later version (-06) exists of<br>&nbsp; &nbsp;  <a href="/doc/draft-ietf-lisp-6834bis/04/">draft-ietf-lisp-6834bis-04</a><br><br>&nbsp; == Outdated reference: A later version (-32) exists of<br>&nbsp; &nbsp;  <a href="/doc/draft-ietf-lisp-rfc6830bis/28/">draft-ietf-lisp-rfc6830bis-28</a><br><br>&nbsp; == Outdated reference: A later version (-20) exists of<br>&nbsp; &nbsp;  <a href="/doc/draft-ietf-lisp-sec/19/">draft-ietf-lisp-sec-19</a><br><br>&nbsp; == Outdated reference: A later version (-03) exists of<br>&nbsp; &nbsp;  <a href="/doc/draft-ietf-lisp-ecdsa-auth/02/">draft-ietf-lisp-ecdsa-auth-02</a><br><br>&nbsp; == Outdated reference: A later version (-06) exists of<br>&nbsp; &nbsp;  <a href="/doc/draft-ietf-lisp-eid-mobility/05/">draft-ietf-lisp-eid-mobility-05</a><br><br>&nbsp; == Outdated reference: A later version (-16) exists of<br>&nbsp; &nbsp;  <a href="/doc/draft-ietf-lisp-gpe/14/">draft-ietf-lisp-gpe-14</a><br><br>&nbsp; == Outdated reference: A later version (-07) exists of <a href="/doc/draft-ietf-lisp-mn/06/">draft-ietf-lisp-mn-06</a><br><br>&nbsp; == Outdated reference: A later version (-05) exists of<br>&nbsp; &nbsp;  <a href="/doc/draft-ietf-lisp-pubsub/04/">draft-ietf-lisp-pubsub-04</a><br><br><br>&nbsp; &nbsp;  Summary: 1 error (**), 0 flaws (~~), 12 warnings (==), 2 comments (--).<br><br>&nbsp; &nbsp;  Run idnits with the --verbose option for more detailed information about<br>&nbsp; &nbsp;  the items above.<br><br>--------------------------------------------------------------------------------<br><br><br>(12) Describe how the document meets any required formal review<br>criteria, such as the MIB Doctor, media type, and URI type reviews.<br><br>	No formal review is required.<br><br><br><br>(13) Have all references within this document been identified as<br>either normative or informative?<br><br>&nbsp; Yes.<br><br><br><br>(14) Are there normative references to documents that are not ready<br>for advancement or are otherwise in an unclear state? If such<br>normative references exist, what is the plan for their completion?<br><br>	There are no normative references in unclear state. For clarification, there is a normative reference to <a href="/doc/draft-ietf-lisp-rfc6830bis/">draft-ietf-lisp-rfc6830bis</a>, draft-ietf-lisp-rfc6834bis, <a href="/doc/draft-ietf-lisp-sec/">draft-ietf-lisp-sec</a>, draft-ietf-lisp-rfc8113bis. These documents passed as well WG Last Call. <a href="/doc/draft-ietf-lisp-rfc6830bis/">draft-ietf-lisp-rfc6830bis</a> is in IESG hands. draft-ietf-lisp-rfc6834bis and <a href="/doc/draft-ietf-lisp-sec/">draft-ietf-lisp-sec</a> are waiting for the shepherd writeup, but they have been hold back to make sure that any change due to modifications in&nbsp; 6830bis and 6833bis are included in the documents before submitting them to the IESG.&nbsp; <a href="/doc/draft-ietf-lisp-rfc8113bis/">draft-ietf-lisp-rfc8113bis</a> is already in the RFC Editor queue.<br>&nbsp; The RFC Editor will put the right RFC number in all documents.<br><br><br>(15) Are there downward normative references references (see <a href="/doc/rfc3967/">RFC<br>3967</a>)? If so, list these downward references to support the Area<br>Director in the Last Call procedure.<br><br>	&nbsp; There are no downward normative references.<br><br><br><br>(16) Will publication of this document change the status of any<br>existing RFCs? Are those RFCs listed on the title page header, listed<br>in the abstract, and discussed in the introduction? If the RFCs are<br>not listed in the Abstract and Introduction, explain why, and point to<br>the part of the document where the relationship of this document to<br>the other RFCs is discussed. If this information is not in the<br>document, explain why the WG considers it unnecessary.<br><br>	This document will obsolete <a href="/doc/rfc6833/">RFC 6833</a> and <a href="/doc/rfc6830/">RFC 6830</a>, as mentioned in the header, abstract and introduction.<br><br><br><br>(17) Describe the Document Shepherd's review of the IANA<br>considerations section, especially with regard to its consistency with<br>the body of the document. Confirm that all protocol extensions that<br>the document makes are associated with the appropriate reservations in<br>IANA registries. Confirm that any referenced IANA registries have been<br>clearly identified. Confirm that newly created IANA registries include<br>a detailed specification of the initial contents for the registry,<br>that allocations procedures for future registrations are defined, and<br>a reasonable name for the new registry has been suggested (see <a href="/doc/rfc5226/">RFC<br>5226</a>).<br><br>&nbsp; IANA already allocated UDP port number 4342 for the LISP Data-Plane. This document just ask for the following change:<br><br>&nbsp; &nbsp;  The IANA registry has allocated UDP port number 4342 for the LISP<br>&nbsp; &nbsp;  Control-Plane.&nbsp; IANA has updated the description for UDP port 4342 as<br>&nbsp; &nbsp;  follows:<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Keyword&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  Port&nbsp; &nbsp; Transport Layer&nbsp;  Description<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -------&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ----&nbsp; &nbsp; ---------------&nbsp;  -----------<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lisp-control&nbsp; &nbsp; &nbsp; 4342&nbsp; &nbsp; udp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  LISP Control Packets<br><br><br>&nbsp; &nbsp;  This document ask IANA to the LISP Packet Type Codes by adding the following entry:<br>&nbsp; &nbsp; &nbsp; &nbsp;  Name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  Number&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Defined in<br>&nbsp; &nbsp; &nbsp; &nbsp;  ----&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ------&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -----------<br>&nbsp; &nbsp; &nbsp; &nbsp;  LISP Map-Notify-Ack&nbsp; 5&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  RFC6833bis<br><br>&nbsp; &nbsp;  This document ask IANA to create and populate the following registries:<br>&nbsp; &nbsp;  - LISP Map-Reply EID-Record Action Codes<br>&nbsp; &nbsp;  - LISP Bit Flags<br><br>&nbsp; &nbsp;  This document demands IANA to remove the following registry:<br>&nbsp; &nbsp;  - LISP Address Type Codes<br><br>&nbsp; &nbsp;  This document demands IANA to modify the name of the registry "LISP Key ID Numbers"; to be updated with "LISP Algorithm ID Numbers".<br><br><br>(18) List any new IANA registries that require Expert Review for<br>future allocations. Provide any public guidance that the IESG would<br>find useful in selecting the IANA Experts for these new registries.<br><br>	No expert review is required.<br><br><br><br>(19) Describe reviews and automated checks performed by the Document<br>Shepherd to validate sections of the document written in a formal<br>language, such as XML code, BNF rules, MIB definitions, etc.<br><br>	&nbsp; The document does not contain anything written in a formal<br>	&nbsp; language, hence, no validation and/or check has been<br>	&nbsp; performed.<br></div></td>
                </tr>
            
                <tr id="history-755809">
                    <td>
                        <div title="2020-06-22 08:37:24 -0700">2020-06-22</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>Deborah Brungard</td>
                    <td>IESG state changed to <b>IESG Evaluation</b> from Waiting for AD Go-Ahead</td>
                </tr>
            
                <tr id="history-755805">
                    <td>
                        <div title="2020-06-22 08:35:31 -0700">2020-06-22</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>Amy Vezza</td>
                    <td>Telechat date has been changed to <b>2020-07-09</b> from <b>2019-02-07</b></td>
                </tr>
            
                <tr id="history-755802">
                    <td>
                        <div title="2020-06-22 08:33:23 -0700">2020-06-22</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>Deborah Brungard</td>
                    <td>Ballot has been issued</td>
                </tr>
            
                <tr id="history-755801">
                    <td>
                        <div title="2020-06-22 08:33:22 -0700">2020-06-22</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>Deborah Brungard</td>
                    <td>Ballot writeup was changed</td>
                </tr>
            
                <tr id="history-755314">
                    <td>
                        <div title="2020-06-18 00:22:33 -0700">2020-06-18</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>(System)</td>
                    <td>IESG state changed to <b>Waiting for AD Go-Ahead</b> from In Last Call</td>
                </tr>
            
                <tr id="history-755259">
                    <td>
                        <div title="2020-06-17 10:24:37 -0700">2020-06-17</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>(System)</td>
                    <td>IANA Review state changed to <b>IANA - Not OK</b> from Version Changed - Review Needed</td>
                </tr>
            
                <tr id="history-755248">
                    <td>
                        <div title="2020-06-17 10:24:36 -0700">2020-06-17</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>Sabrina Tanamal</td>
                    <td><div class="snippet">(Via <a href="mailto:drafts-lastcall@iana.org">drafts-lastcall@iana.org</a>): IESG/Authors/WG Chairs:<br><br>The IANA Functions Operator has completed its review of draft-ietf-lisp-rfc6833bis-27. If any part of this review is inaccurate, please let â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">(Via <a href="mailto:drafts-lastcall@iana.org">drafts-lastcall@iana.org</a>): IESG/Authors/WG Chairs:<br><br>The IANA Functions Operator has completed its review of draft-ietf-lisp-rfc6833bis-27. If any part of this review is inaccurate, please let us know. <br><br>The IANA Functions Operator has a question about one of the actions requested in the IANA Considerations section of this document.<br><br>The IANA Functions Operator understands that, upon approval of this document, there are twelve actions which we must complete.<br><br>First, in the Service Name and Transport Protocol Port Number Registry located at:<br><br><a href="https://www.iana.org/assignments/service-names-port-numbers/">https://www.iana.org/assignments/service-names-port-numbers/</a><br><br>The existing port number, 4342 is currently allocated the service name of lisp-control for udp only. The current description for the port is "LISP Control Packets" and the assignee is the IESG. IANA assumes that this meets the needs of section 12.1 of the current document.<br><br>IANA Question --&gt; should the reference for this port number be changed from <a href="/doc/rfc6830/">RFC6830</a> to [ RFC-to-be ]?<br><br>Second, in the LISP Packet Types registry on the Locator/ID Separation Protocol (LISP) Parameters registry page located at:<br><br><a href="https://www.iana.org/assignments/lisp-parameters/">https://www.iana.org/assignments/lisp-parameters/</a><br><br>the reference for the registry will be changed to [ RFC-to-be ]. In addition, any existing registrations in this registry will have their references changed to [ RFC-to-be ].<br><br>Third, also in the LISP Packet Types registry on the Locator/ID Separation Protocol (LISP) Parameters registry page located at:<br><br><a href="https://www.iana.org/assignments/lisp-parameters/">https://www.iana.org/assignments/lisp-parameters/</a><br><br>a new registration is to be made as follows:<br><br>Code: 5<br>Message: LISP Map-Notify-Ack<br>Reference: [ RFC-to-be ]<br><br>Fourth, in the LISP ACT values registry also on the Locator/ID Separation Protocol (LISP) Parameters registry page located at:<br><br><a href="https://www.iana.org/assignments/lisp-parameters/">https://www.iana.org/assignments/lisp-parameters/</a><br><br>the reference for the registry will be changed from:<br><br><a href="/doc/rfc6830/">RFC6830</a><br><br>to<br><br><a href="/doc/rfc6830/">RFC6830</a>, [ RFC-to-be ]<br><br>IANA Question --&gt; should the references for the existing four registrations in the registry be changed in the same way?<br><br>Fifth, also in the LISP ACT values registry on the Locator/ID Separation Protocol (LISP) Parameters registry page located at:<br><br><a href="https://www.iana.org/assignments/lisp-parameters/">https://www.iana.org/assignments/lisp-parameters/</a><br><br>the name of the action for ACT value 3 will be changed from:<br><br>"Drop"<br><br>to:<br><br>"Drop/No-Reason"<br><br>Sixth, also in the LISP ACT values registry on the Locator/ID Separation Protocol (LISP) Parameters registry page located at:<br><br><a href="https://www.iana.org/assignments/lisp-parameters/">https://www.iana.org/assignments/lisp-parameters/</a><br><br>two new registrations will be made as follows:<br><br>Value: 4<br>Action: Drop/Policy-Denied<br>Description: A packet matching this Map-Cache entry is dropped because the target EWID is policy-denied by the xTR or the mapping system.<br>Reference: [ RFC-to-be ]<br><br>Value: 5<br>Action: Drop/Auth-Failure<br>Description: A packet matching this Map-Cache entry is dropped because the Map-Request for the target EID fails an authentication check by the xTR or the mapping system.<br>Reference: [ RFC-to-be ]<br><br>Seventh, a new registry is to be created called the LISP Canonical Address Format (LCAF) Types registry.<br><br>IANA Question --&gt; Where should this new registry be located? Should it be added to an existing registry page such as the Locator/ID Separation Protocol (LISP) Parameters registry page located at:<br><br><a href="https://www.iana.org/assignments/lisp-parameters/?">https://www.iana.org/assignments/lisp-parameters/?</a><br><br>If not, does it belong in an existing category at <a href="http://www.iana.org/protocols?">http://www.iana.org/protocols?</a><br><br>The new registry is to be managed via Specification Required as defined in <a href="/doc/rfc8126/">RFC8126</a>. There are initial registrations in the new registry as follows:<br><br>+-------+------------------------+--------------------------+<br>| Value | LISP LCAF Type Name | Reference |<br>+-------+------------------------+--------------------------+<br>| 0 | Null Body | [ RFC-to-be; Section 3 ] |<br>| 1 | AFI List | [ RFC-to-be; Section 3 ] |<br>| 2 | Instance ID | [ RFC-to-be; Section 3 ] |<br>| 3 | AS Number | [ RFC-to-be; Section 3 ] |<br>| 4 | Unassigned | |<br>| 5 | Geo-Coordinates | [ RFC-to-be; Section 3 ] |<br>| 6 | Unassigned | |<br>| 7 | NAT-Traversal | [ RFC-to-be; Section 3 ] |<br>| 8 | Unassigned | |<br>| 9 | Multicast Info | [ RFC-to-be; Section 3 ] |<br>| 10 | Explicit Locator Path | [ RFC-to-be; Section 3 ] |<br>| 11 | Security Key | [ RFC-to-be; Section 3 ] |<br>| 12 | Source/Dest Key | [ RFC-to-be; Section 3 ] |<br>| 13 | Replication List Entry | [ RFC-to-be; Section 3 ] |<br>| 14-255| Unassigned | |<br>+-------+------------------------+--------------------------+<br><br>Eighth, the LISP Address Type Codes registry on the Locator/ID Separation Protocol (LISP) Parameters registry page located at:<br><br><a href="https://www.iana.org/assignments/lisp-parameters/">https://www.iana.org/assignments/lisp-parameters/</a><br><br>has no registrations. Section 12.4 of the current document requests that it be deleted.<br><br>IANA Question --&gt; Should the registry remain and be marked "obsolete" with a reference that points to [ RFC-to-be ] to capture the history of this registry?<br><br>Ninth, the LISP Key ID Numbers registry, also on the Locator/ID Separation Protocol (LISP) Parameters registry page located at:<br><br><a href="https://www.iana.org/assignments/lisp-parameters/">https://www.iana.org/assignments/lisp-parameters/</a><br><br>is to be renamed to:<br><br>LISP Algorithm ID Numbers<br><br>IANA Question --&gt; should the reference for the registry be changed to [ RFC-to-be ]?<br><br>Tenth, in the newly renamed LISP Algorithm ID Numbers on the Locator/ID Separation Protocol (LISP) Parameters registry page located at:<br><br><a href="https://www.iana.org/assignments/lisp-parameters/">https://www.iana.org/assignments/lisp-parameters/</a><br><br>the registration procedure is to remain First Come, First Served as defined in <a href="/doc/rfc8126/">RFC8126</a>.<br><br>IANA understands that the registry is to change to the following:<br><br>Name Number MAC KDF<br>-------------------------------------------------------<br>None 0 None None<br>HMAC-SHA-1-96-None 1 [<a href="/doc/rfc2404/">RFC2404</a>] None<br>HMAC-SHA-256-128-None 2 [<a href="/doc/rfc4868/">RFC4868</a>] None<br>HMAC-SHA256-128+HKDF-SHA2562 3 [<a href="/doc/rfc4868/">RFC4868</a>] [<a href="/doc/rfc4868/">RFC4868</a>]<br>Unassigned 4-255<br><br>Eleventh, a new registry is to be created called the LISP Control Plane Header Bits registry.<br><br>IANA Question --&gt; Where should this new registry be located? Should it be added to an existing registry page such as the Locator/ID Separation Protocol (LISP) Parameters registry page located at:<br><br><a href="https://www.iana.org/assignments/lisp-parameters/?">https://www.iana.org/assignments/lisp-parameters/?</a><br><br>If not, does it belong in an existing category at <a href="http://www.iana.org/protocols?">http://www.iana.org/protocols?</a><br><br>Are there any registrations in this new registry - or are there only registrations in the subregistries of the LISP Control Plane Header Bits registry?<br><br>Twelveth, six subregistries of the new LISP Control Plane Header Bits registry are to be created. Each subregistry will have a reference of [ RFC-to-be ] and each registration in the new subregisties will have a reference of [ RFC-to-be ]. All the subregistries will be managed via Specification Required as defined by <a href="/doc/rfc8126/">RFC8126</a>.<br><br>The six new subregistries are as follows:<br><br>Map-Request Header Bits subregistry [ RFC-to-be; Section 5.2 ]<br><br>0 1 2 3<br>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1<br>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+<br>|Type=1 |A|M|P|S|p|s|R|R| Rsvd |L|D| IRC | Record Count |<br>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+<br><br>+------+---------------+-----------+-----------------------------+<br>| Spec | IANA Name | Bit | Description |<br>| Name | | Position | |<br>+------+---------------+-----------+-----------------------------+<br>| A | map-request-A | 4 | Authoritative Bit |<br>| M | map-request-M | 5 | Map Data Present Bit |<br>| P | map-request-P | 6 | RLOC-Probe Request Bit |<br>| S | map-request-S | 7 | Solicit Map-Request (SMR) |<br>| | | | Bit |<br>| p | map-request-p | 8 | Proxy-ITR Bit |<br>| s | map-request-s | 9 | Solicit Map-Request Invoked |<br>| | | | Bit |<br>| L | map-request-L | 17 | Local xTR Bit |<br>| D | map-request-D | 18 | Don't Map-Reply Bit |<br>+------+---------------+-----------+-----------------------------+<br><br>Map-Reply Header Bits Subregistry [ RFC-to-be; Section 5.4 ]<br><br>0 1 2 3<br>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1<br>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+<br>|Type=2 |P|E|S| Reserved | Record Count |<br>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+<br><br>+-----------+-------------+--------------+------------------------+<br>| Spec Name | IANA Name | Bit Position | Description |<br>+-----------+-------------+--------------+------------------------+<br>| P | map-reply-P | 4 | RLOC-Probe Bit |<br>| E | map-reply-E | 5 | Echo Nonce Capable Bit |<br>| S | map-reply-S | 6 | Security Bit |<br>+-----------+-------------+--------------+------------------------+<br><br>Map-Register Header Bits Subregistry [ RFC-to-be; Section 5.6 ]<br><br>0 1 2 3<br>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1<br>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+<br>|Type=3 |P|S|I| Reserved |E|T|a|R|M| Record Count |<br>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+<br><br>+-----------+----------------+--------------+----------------------+<br>| Spec Name | IANA Name | Bit Position | Description |<br>+-----------+----------------+--------------+----------------------+<br>| P | map-register-P | 4 | Proxy Map-Reply Bit |<br>| S | map-register-S | 5 | LISP-SEC Capable Bit |<br>| I | map-register-I | 6 | xTR-ID present flag |<br>+-----------+----------------+--------------+----------------------+<br><br>Encapsulated Control Message (ECM) Header Bits Subregistry [ RFC-to-be; Section 5.8 ]<br><br>0 1 2 3<br>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1<br>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+<br>|Type=8 |S|D|E|M| Reserved |<br>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+<br><br>+-----------+-----------+--------------+----------------------------+<br>| Spec Name | IANA Name | Bit Position | Description |<br>+-----------+-----------+--------------+----------------------------+<br>| S | ecm-S | 4 | Security Bit |<br>| D | ecm-D | 5 | LISP-DDT Bit |<br>| E | ecm-E | 6 | Forward to ETR Bit |<br>| M | ecm-M | 7 | Destined to Map-Server Bit |<br>+-----------+-----------+--------------+----------------------------+<br><br>EID-Record Header Bits Subregistry [ RFC-to-be; Section 5.4 ]<br><br>0 1 2 3<br>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1<br>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+<br>| Locator Count | EID mask-len | ACT |A| Reserved |<br>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+<br><br>+-----------+--------------+--------------+-------------------+<br>| Spec Name | IANA Name | Bit Position | Description |<br>+-----------+--------------+--------------+-------------------+<br>| A | eid-record-A | 19 | Authoritative Bit |<br>+-----------+--------------+--------------+-------------------+<br><br>RLOC-Record Header Bits Subregistry [ RFC-to-be; Section 5.4 ]<br><br>0 1 2 3<br>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1<br>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+<br>| Unused Flags |L|p|R| Loc-AFI |<br>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+<br><br>+-----------+---------------+--------------+----------------------+<br>| Spec Name | IANA Name | Bit Position | Description |<br>+-----------+---------------+--------------+----------------------+<br>| L | rloc-record-L | 13 | Local RLOC Bit |<br>| p | rloc-record-p | 19 | RLOC-Probe Reply Bit |<br>| R | rloc-record-R | 19 | RLOC Reachable Bit |<br>+-----------+---------------+--------------+----------------------+<br><br>The IANA Functions Operator understands that these are the only actions required to be completed upon approval of this document.<br><br>Note: The actions requested in this document will not be completed until the document has been approved for publication as an RFC. This message is meant only to confirm the list of actions that will be performed. <br><br>Thank you,<br><br>Sabrina Tanamal<br>Senior IANA Services Specialist</div></td>
                </tr>
            
                <tr id="history-754495">
                    <td>
                        <div title="2020-06-11 04:12:35 -0700">2020-06-11</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>Gunter Van de Velde</td>
                    <td>Request for Last Call review by OPSDIR is assigned to Joel Jaeggli</td>
                </tr>
            
                <tr id="history-754494">
                    <td>
                        <div title="2020-06-11 04:12:34 -0700">2020-06-11</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>Gunter Van de Velde</td>
                    <td>Request for Last Call review by OPSDIR is assigned to Joel Jaeggli</td>
                </tr>
            
                <tr id="history-753668">
                    <td>
                        <div title="2020-06-04 13:34:05 -0700">2020-06-04</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>Amy Vezza</td>
                    <td><div class="snippet">The following Last Call announcement was sent out (ends 2020-06-18):<br><br>From: The IESG <br>To: IETF-Announce <br>CC: <a href="mailto:db3546@att.com">db3546@att.com</a>, <a href="mailto:lisp-chairs@ietf.org">lisp-chairs@ietf.org</a>, Luigi Iannone , <a href="mailto:draft-ietf-lisp-rfc6833bis@ietf.org">draft-ietf-lisp-rfc6833bis@ietf.org</a>, â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">The following Last Call announcement was sent out (ends 2020-06-18):<br><br>From: The IESG <br>To: IETF-Announce <br>CC: <a href="mailto:db3546@att.com">db3546@att.com</a>, <a href="mailto:lisp-chairs@ietf.org">lisp-chairs@ietf.org</a>, Luigi Iannone , <a href="mailto:draft-ietf-lisp-rfc6833bis@ietf.org">draft-ietf-lisp-rfc6833bis@ietf.org</a>, <a href="mailto:lisp@ietf.org">lisp@ietf.org</a>, <a href="mailto:ggx@gigix.net">ggx@gigix.net</a><br>Reply-To: <a href="mailto:last-call@ietf.org">last-call@ietf.org</a><br>Sender: <br>Subject: Last Call:&nbsp; (Locator/ID Separation Protocol (LISP) Control-Plane) to Proposed Standard<br><br><br>The IESG has received a request from the Locator/ID Separation Protocol WG<br>(lisp) to consider the following document: - 'Locator/ID Separation Protocol<br>(LISP) Control-Plane'<br>&nbsp;  as Proposed Standard<br><br>The IESG plans to make a decision in the next few weeks, and solicits final<br>comments on this action. Please send substantive comments to the<br><a href="mailto:last-call@ietf.org">last-call@ietf.org</a> mailing lists by 2020-06-18. Exceptionally, comments may<br>be sent to <a href="mailto:iesg@ietf.org">iesg@ietf.org</a> instead. In either case, please retain the beginning<br>of the Subject line to allow automated sorting. Note, this is a 2nd IETF Last<br>Call due to technical changes during IESG review.<br><br>Abstract<br><br><br>&nbsp;  This document describes the Control-Plane and Mapping Service for the<br>&nbsp;  Locator/ID Separation Protocol (LISP), implemented by two types of<br>&nbsp;  LISP-speaking devices -- the LISP Map-Resolver and LISP Map-Server --<br>&nbsp;  that provides a simplified "front end" for one or more Endpoint ID to<br>&nbsp;  Routing Locator mapping databases.<br><br>&nbsp;  By using this Control-Plane service interface and communicating with<br>&nbsp;  Map-Resolvers and Map-Servers, LISP Ingress Tunnel Routers (ITRs) and<br>&nbsp;  Egress Tunnel Routers (ETRs) are not dependent on the details of<br>&nbsp;  mapping database systems, which facilitates modularity with different<br>&nbsp;  database designs.&nbsp; Since these devices implement the "edge" of the<br>&nbsp;  LISP Control-Plane infrastructure, connecting EID addressable nodes<br>&nbsp;  of a LISP site, their implementation and operational complexity<br>&nbsp;  reduces the overall cost and effort of deploying LISP.<br><br>&nbsp;  This document obsoletes <a href="/doc/rfc6830/">RFC 6830</a> and <a href="/doc/rfc6833/">RFC 6833</a>.<br><br><br><br><br>The file can be obtained via<br><a href="https://datatracker.ietf.org/doc/draft-ietf-lisp-rfc6833bis/">https://datatracker.ietf.org/doc/draft-ietf-lisp-rfc6833bis/</a><br><br><br><br>No IPR declarations have been submitted directly on this I-D.<br><br><br>The document contains these normative downward references.<br>See <a href="/doc/rfc3967/">RFC 3967</a> for additional information: <br>&nbsp; &nbsp; <a href="/doc/draft-ietf-lisp-6834bis/">draft-ietf-lisp-6834bis</a>: Locator/ID Separation Protocol (LISP) Map-Versioning (None - IETF stream)<br><br><br><br></div></td>
                </tr>
            
                <tr id="history-753667">
                    <td>
                        <div title="2020-06-04 13:34:04 -0700">2020-06-04</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>Amy Vezza</td>
                    <td>IESG state changed to <b>In Last Call</b> from Last Call Requested</td>
                </tr>
            
                <tr id="history-753658">
                    <td>
                        <div title="2020-06-04 13:10:39 -0700">2020-06-04</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>Deborah Brungard</td>
                    <td>Last call was requested</td>
                </tr>
            
                <tr id="history-753657">
                    <td>
                        <div title="2020-06-04 13:10:37 -0700">2020-06-04</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>Deborah Brungard</td>
                    <td>IESG state changed to <b>Last Call Requested</b> from IESG Evaluation - Defer::AD Followup</td>
                </tr>
            
                <tr id="history-753656">
                    <td>
                        <div title="2020-06-04 13:10:36 -0700">2020-06-04</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>Deborah Brungard</td>
                    <td>Last call announcement was changed</td>
                </tr>
            
                <tr id="history-753655">
                    <td>
                        <div title="2020-06-04 13:10:06 -0700">2020-06-04</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>Deborah Brungard</td>
                    <td>Last call announcement was generated</td>
                </tr>
            
                <tr id="history-725713">
                    <td>
                        <div title="2020-01-09 04:02:53 -0800">2020-01-09</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>Albert Cabellos-Aparicio</td>
                    <td>New version available: <b><a href="/doc/draft-ietf-lisp-rfc6833bis/27/">draft-ietf-lisp-rfc6833bis-27.txt</a></b></td>
                </tr>
            
                <tr id="history-725712">
                    <td>
                        <div title="2020-01-09 04:02:52 -0800">2020-01-09</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>(System)</td>
                    <td>New version approved</td>
                </tr>
            
                <tr id="history-725711">
                    <td>
                        <div title="2020-01-09 04:01:41 -0800">2020-01-09</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>(System)</td>
                    <td>Request for posting confirmation emailed to previous authors: Fabio Maino , Albert Cabellos-Aparicio , Vince Fuller , Dino Farinacci </td>
                </tr>
            
                <tr id="history-725710">
                    <td>
                        <div title="2020-01-09 04:01:31 -0800">2020-01-09</div>
                    </td>
                    <td class="text-end">27</td>
                    <td>Albert Cabellos-Aparicio</td>
                    <td>Uploaded new revision</td>
                </tr>
            
                <tr id="history-724474">
                    <td>
                        <div title="2019-12-30 17:24:33 -0800">2019-12-30</div>
                    </td>
                    <td class="text-end">26</td>
                    <td>Benjamin Kaduk</td>
                    <td><div class="snippet">[Ballot discuss]<br>It looks like an edit or two that was supposed to be in the -26 didn't make it<br>by accident, so sorry for â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">[Ballot discuss]<br>It looks like an edit or two that was supposed to be in the -26 didn't make it<br>by accident, so sorry for the repeat comments; hopefully the writing work in<br>question will be easy to retrieve.<br><br>Other than that we're down to just a few remaining points, two of which<br>I believe should be trivial to resolve.<br><br><br>In Section 5.6 we say that "implementations of this spsecification SHOULD include<br>support for HMAC-SHA256-128+HKDF-SHA256 but section 9 says "implementation<br>MUST support HMAC-SHA256-128+HKDF-SHA256", which is internally inconsistent;<br>my understanding from a previous discussion with the authors was that<br>HMAC-SHA256-128+HKDF-SHA256 would be a SHOULD and it was HMAC-SHA256-128<br>that was MUST.<br><br>The condition for Map-Notify-Ack terminating Map-Notify retransmission<br>seems incomplete.&nbsp; Specifically, we should only accept the<br>Map-Notify-Ack to stop retransmission if the authentication data validates<br>(and maybe that it uses the same Key-ID as the Map-Notify, though that<br>might be overkill).&nbsp; So just "a Map-Notify-Ack is received by the <br>Map-Server with the same nonce" is not quite enough; we'd want to say<br>"an authenticated Map-Notify-Ack is received by the Map-Server with the same<br>nonce".<br><br>In Section 9:<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  The LISP-SEC<br>&nbsp;  protocol defines a mechanism for providing origin authentication,<br>&nbsp;  integrity, anti-replay, protection, and prevention of 'man-in-the-<br>&nbsp;  middle' and 'prefix overclaiming' attacks on the Map-Request/Map-<br>&nbsp;  Reply exchange.&nbsp; [...]<br><br>I think this document provides anti-replay protection for the<br>Map-Request/Map-Reply exchange (by virtue of the single-use nonce), so<br>we should remove "anti-replay" from the list of features LISP-SEC provides<br>for the Map-Request/Map-Reply exchange.<br><br>I think we need greater clarity on the 'E' and 'M' bits in the ECM format;<br>are we perhaps defining them now in anticipation of future usage by<br>other documents (e.g., ones that define specific mapping system implementations)?<br>in particular (with quotes from my ballot position on the -24 for context):<br>&gt;&nbsp;  E:&nbsp; &nbsp; This is the to-ETR bit.&nbsp; When set to 1, the Map-Server's<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  intention is to forward the ECM to an authoritative ETR.<br>&gt;<br>&gt; I think this needs to say more about which message flows this bit is<br>&gt; defined for.&nbsp; Presumably the ITR will never use it for sending an<br>&gt; encapsulated Map-Request to a Map-Resolver, but there seem to be plenty of<br>&gt; places where ECM wrapping is used.<br><br>IIUC, the main ECM-wrapped messages we consider in this document are<br>ITR-to-Map-Resolver Map-Requests and Map-Server-to-ETR Map-Requests.<br>Is it an invariant that the ECM 'E' and 'M' bits can never be set at the same time<br>(as they are only defined to have meaning for the different flows I list)?<br>In an off-list discussion I got a clarification that "The ETR bit is used so the<br>Map-Server knows that the entity registering is an xTR versus a SDN or other<br>type of controller that is registering mappings but doesnâ€™t have a full LISP<br>protocol engine implementation and canâ€™t send Map-Replies" which sounds like<br>it applies to a Map-Register ("is registering mappings") but I didn't think that<br>Map-Register was defined as a possible LCM to be in an ECM.&nbsp; (Maybe I'm just<br>confused about that.)<br><br>The main thing I still don't understand here is: what entity is going to interpret<br>the E-bit and change behavior depending on its value?<br><br>&gt;<br>&gt;&nbsp;  M:&nbsp; &nbsp; This is the to-MS bit.&nbsp; When set to 1, a Map-Request is being<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  sent to a co-located Map-Resolver and Map-Server where the<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  message can be processed directly by the Map-Server versus the<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  Map-Resolver using the LISP-DDT procedures in [<a href="/doc/rfc8111/">RFC8111</a>].<br>&gt;<br>&gt; How does the sender know that its configured Map-Resolver is also a<br>&gt; Map-Server?&nbsp; It's unclear to me why this needs a bit in the message as<br>&gt; opposed to just happening based on the attributes of the receiving<br>&gt; Map-Server.<br><br>It sounds like this is only useful when the ECM contains a Map-Request<br>from ITR to Map-Resolver, but I don't know how an ITR would know to<br>(not) set this bit or what entity is going to change behavior depending<br>on the value of the bit.</div></td>
                </tr>
            
                <tr id="history-724473">
                    <td>
                        <div title="2019-12-30 17:24:33 -0800">2019-12-30</div>
                    </td>
                    <td class="text-end">26</td>
                    <td>Benjamin Kaduk</td>
                    <td><div class="snippet">[Ballot comment]<br>[moving from DISCUSS to COMMENT based on explanation of this usage<br>being a common historical usage in the LISP community.&nbsp; It still seems â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">[Ballot comment]<br>[moving from DISCUSS to COMMENT based on explanation of this usage<br>being a common historical usage in the LISP community.&nbsp; It still seems<br>needlessly ambiguous and confusing to me, though, but no response is<br>required, as we've discussed this already quite a bit and I just want to<br>stay "on the record" about it.]<br>There are many instances (some noted in my Comment) where a<br>bidirectional interaction between two xTRs is described, yet the peers are<br>identified as "ITR" and "ETR".&nbsp; This is very confusing when the entity<br>named as "ITR" is described as performing ETR functionality, or vice versa;<br>pedagogically, it would be much better to use non-role-based names for the<br>entities while describing these exchanges.<br><br>[Also moving from DISCUSS to COMMENT]<br>I'm still a little nervous about the strong dependencies on lisp-sec and<br>6834bis that are not yet at IESG evaluation, but perhaps they are sufficiently<br>mature that I don't need to hold a Discuss point anymore to wait for them.<br><br>I got a request for more clarification on my previous remark:<br>% Section 8.1 says:<br>% Â Â Â o Â A Negative Map-Reply, with action code of ""Natively-Forward"", from<br>% Â Â Â Â Â Â a Map-Server that is authoritative for an EID-Prefix that matches<br>% Â Â Â Â Â Â the requested EID but that does not have an actively registered,<br>% Â Â Â Â Â Â more-specific ID-prefix.<br>% This document provides no mechanism to establish that a Map-Server is<br>% authoritative for a given EID-Prefix, so this entire case is<br>% non-actionable.<br>% [ed. I think there may have been some previous discussion on this (e.g.,<br>% that might render it moot) but couldn't find it quickly]<br><br>I think that the "previous discussion" essentially entailed a LISP deployment<br>including some configuration information about which sites were allowed/expected<br>to have certain EID prefixes, so the "authoritative" here is just excluding<br>sites that are known to not be candidates.&nbsp; That is, the deployment-specific<br>"authoritative" nature is essentially coming from configuration, if I understand<br>correctly.&nbsp; So I didn't think that any further clarification was needed.<br><br>A few more other old comments with extra clarification as-needed; I'll<br>trim most of the comments from the -25.<br><br>Section 5.2<br>&nbsp;  EID mask-len:&nbsp; This is the mask length for the EID-Prefix.<br><br>I see this got changed to add "in decimal" as a result to my earlier<br>comment, but I think my earlier comment was wrong and that change<br>should be reverted.&nbsp; It doesn't make sense to measure a prefix length<br>in bytes, and we have explicit examples of the mask length for when<br>we need to limit to an exact IP (v4 or v6) address, which would allow<br>the reader to figure it out anyway.&nbsp; Sorry for the extra churn (and noting<br>that the same thing occurs in a later section).<br><br>Section 5.6<br><br>Do you want to give a mnemonic for the 'I' bit?&nbsp; I don't propose changing<br>its name, but if there was some extra word or two that would help someone<br>remember why it is the 'I' bit (as opposed to, say, the 'Q' bit) that would be helpful.<br><br>Section 5.7<br><br>&nbsp;  A Map-Server sends an unsolicited Map-Notify message (one that is not<br>&nbsp;  used as an acknowledgment to a Map-Register message) that follows the<br>&nbsp;  Congestion Control And Relability Guideline sections of [<a href="/doc/rfc8085/">RFC8085</a>].&nbsp; A<br><br>This second clause ("that follows") is rather a non sequitur here; is the intent<br>something like "sends unsolicited Map-Notify messages in only conformance<br>with the guidelines from <a href="/doc/rfc8085/">RFC 8085</a>"?<br><br>Section 5.8<br><br>&nbsp;  An Encapsulated Control Message (ECM) is used to encapsulate control<br>&nbsp;  packets sent between xTRs and the mapping database system.<br><br>Some of the flag bit descriptions appear to describe usages that are or can<br>be entirely within the mapping system, so maybe tweak the wording to<br>"between xTRs and the mapping database system or internal to the mapping<br>database system"?<br><br>Section 6.1<br><br>&nbsp;  sender of an SMR-based Map-Request MUST be verified.&nbsp; If an ITR<br>&nbsp;  receives an SMR-based Map-Request and the source is not in the<br>&nbsp;  Locator-Set for the stored Map-Cache entry, then the responding Map-<br>&nbsp;  Request MUST be sent with an EID destination to the mapping database<br>&nbsp;  system.&nbsp; [...]<br><br>Based on our offline discussion about which messages go in which<br>direction between ITR and ETR, I think this would be more clear if it<br>did s/SMR-based Map-Request/SMR message/ (both times).</div></td>
                </tr>
            
                <tr id="history-724472">
                    <td>
                        <div title="2019-12-30 17:24:33 -0800">2019-12-30</div>
                    </td>
                    <td class="text-end">26</td>
                    <td>Benjamin Kaduk</td>
                    <td>Ballot comment and discuss text updated for Benjamin Kaduk</td>
                </tr>
            
                <tr id="history-718039">
                    <td>
                        <div title="2019-11-17 17:50:15 -0800">2019-11-17</div>
                    </td>
                    <td class="text-end">26</td>
                    <td>Albert Cabellos-Aparicio</td>
                    <td>New version available: <b><a href="/doc/draft-ietf-lisp-rfc6833bis/26/">draft-ietf-lisp-rfc6833bis-26.txt</a></b></td>
                </tr>
            
                <tr id="history-718038">
                    <td>
                        <div title="2019-11-17 17:50:14 -0800">2019-11-17</div>
                    </td>
                    <td class="text-end">26</td>
                    <td>(System)</td>
                    <td>New version approved</td>
                </tr>
            
                <tr id="history-718032">
                    <td>
                        <div title="2019-11-17 17:44:24 -0800">2019-11-17</div>
                    </td>
                    <td class="text-end">26</td>
                    <td>(System)</td>
                    <td>Request for posting confirmation emailed to previous authors: Fabio Maino , Albert Cabellos-Aparicio , Vince Fuller , Dino Farinacci </td>
                </tr>
            
                <tr id="history-718031">
                    <td>
                        <div title="2019-11-17 17:44:23 -0800">2019-11-17</div>
                    </td>
                    <td class="text-end">26</td>
                    <td>Albert Cabellos-Aparicio</td>
                    <td>Uploaded new revision</td>
                </tr>
            
                <tr id="history-717714">
                    <td>
                        <div title="2019-11-17 04:00:04 -0800">2019-11-17</div>
                    </td>
                    <td class="text-end">25</td>
                    <td>Luigi Iannone</td>
                    <td>Added to session: IETF-106: lisp&nbsp; Tue-1000</td>
                </tr>
            
                <tr id="history-704777">
                    <td>
                        <div title="2019-08-30 11:53:57 -0700">2019-08-30</div>
                    </td>
                    <td class="text-end">25</td>
                    <td>Benjamin Kaduk</td>
                    <td><div class="snippet">[Ballot discuss]<br>Updating for the -25 by removing points that are fully addressed but leaving<br>points that I still want to have further discussion on.&nbsp; â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">[Ballot discuss]<br>Updating for the -25 by removing points that are fully addressed but leaving<br>points that I still want to have further discussion on.&nbsp; It may be most expedient to<br>continue discussion on my -24 ballot thread.&nbsp; There are a couple of new items to the<br>-25, that I attempt to call out as such (they appear right before the "the following items<br>were present in my original DISCUSS position" section).<br><br>Please also note that the COMMENT section was entirely refreshed for the -24,<br>and I make some additions for the -25.<br><br>This document has normative dependencies on other WG drafts that are not<br>yet mature (one could perhaps define this as having completed IETF LC).&nbsp; In<br>particular, I believe there is a nontrivial chance that either or both of<br>lisp-sec and 6834bis could require changes to this document in order to be<br>fit for purpose, and thus that this document cannot safely be approved for<br>publication until these normative dependencies are closer to publication.<br>In particular, I have done a fairly full review of lisp-sec and have<br>DISCUSS-worthy points with it (I have not done much review of 6834bis yet).<br><br><br>Also in Section 5.6:<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  Implementations of this<br>&nbsp; &nbsp; &nbsp; specification MUST include support for either HMAC-SHA-1-96<br>&nbsp; &nbsp; &nbsp; [<a href="/doc/rfc2404/">RFC2404</a>] and HMAC-SHA-256-128 [<a href="/doc/rfc4868/">RFC4868</a>] where the latter is<br>&nbsp; &nbsp; &nbsp; RECOMMENDED.<br><br>I don't think this sort of "mandatory to choose" is <a href="/doc/bcp201/">BCP 201</a>-compliant,<br>since we need to have at least one MTI, strong, algorithm, and this text did not<br>pick one to be MTI.&nbsp; Now (-25) we're at "SHOULD include support for<br>HMAC-SHA256-128-HKDF-SHA256", which is also not quite MTI (but is<br>definitely strong).&nbsp; Of course, I personally<br>won't complain if we just go with the new HKDF stuff, but I recognize that<br>it would be a big change for implementations and deployments, and don't<br>think we need to make the spec completely disjoint from reality just to<br>check a box.&nbsp; So we could make HMAC-SHA-256-128 MTI and leave the new<br>one as SHOULD, for example.<br><br>I think there needs to be more description of Site-ID usage and scoping in<br>order to be fully interoperable (more in the COMMENT section).<br>[ed. Even focusing on the scoping while leaving the detailed usage as<br>deployment-specific would be okay]<br><br>There are multiple places where we talk about message contents being copied<br>from a corresponding request (e.g., from Map-Request to Map-Notify); we<br>need to explicitly state that the authentication data is recomputed to<br>match, e.g., the new message type.&nbsp; I've tried to note these occurrences in<br>the COMMENT section.<br>[ed. I think just from Map-Notify to Map-Notify-Ack is all that's left]<br><br>The condition for Map-Notify-Ack terminating Map-Notify retransmission<br>seems incomplete.&nbsp; Specifically, we should only accept the<br>Map-Notify-Ack to stop retransmission if the authentication data validates<br>(and maybe that it uses the same Key-ID as the Map-Notify, though that<br>might be overkill).&nbsp; So just "a Map-Notify-Ack is received by the <br>Map-Server with the same nonce" is not quite enough.<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  The LISP-SEC<br>&nbsp;  protocol defines a mechanism for providing origin authentication,<br>&nbsp;  integrity, anti-replay, protection, and prevention of 'man-in-the-<br>&nbsp;  middle' and 'prefix overclaiming' attacks on the Map-Request/Map-<br>&nbsp;  Reply exchange.&nbsp; [...]<br><br>Does LISP-SEC actually provide any additional anti-replay protection not<br>present in the base protocol?&nbsp; I do not remember any such additional<br>protection.<br>[ed. specifically, the nonce mechanism already in this document provides<br>a decent level of replay protection, so I am trying to nail down how<br>LISP-SEC does incrementally better than what's already here, for the<br>specific case of an attacker literally recording a Map-Reply and replaying<br>it, bit-for-bit, at a later time.<br><br>Section 11 ("Changes since <a href="/doc/rfc6833/">RFC 6833</a>") is inaccurate (see COMMENT).&nbsp; I did<br>not check whether it is complete, but someone needs to do so before final<br>publication.<br>[ed. Waiting to do this until all other changes are in is fine.]<br><br><br>New in the -25, there's an internal inconsistency between Section 5.6's<br>description of the Authentication Data procedure, that says implementations<br>"SHOULD include support for HMAC-SHA256-128+HKDF-SHA256", and Section 9's<br>"[a]n implementation MUST support HMAC-SHA256-128+HKDF-SHA256".<br><br>Not new in the -25, but IIRC not previously discussed, how does a<br>Map-Server pick a Nonce value for unsolicited Map-Notify messages?<br><br><br>The following items were present in my original DISCUSS position and still<br>have not been resolved.&nbsp; Note that I copy below the previous ballot text<br>even for some issues that are described above already in different words.<br><br>I think we need greater clarity on the 'E' and 'M' bits in the ECM format;<br>more in the Comment section [of the ballot on -16], quoted here for clarity:<br>&gt;&nbsp;  E:&nbsp; &nbsp; This is the to-ETR bit.&nbsp; When set to 1, the Map-Server's<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  intention is to forward the ECM to an authoritative ETR.<br>&gt;<br>&gt; I think this needs to say more about which message flows this bit is<br>&gt; defined for.&nbsp; Presumably the ITR will never use it for sending an<br>&gt; encapsulated Map-Request to a Map-Resolver, but there seem to be plenty of<br>&gt; places where ECM wrapping is used.<br>&gt;<br>&gt;&nbsp;  M:&nbsp; &nbsp; This is the to-MS bit.&nbsp; When set to 1, a Map-Request is being<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  sent to a co-located Map-Resolver and Map-Server where the<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  message can be processed directly by the Map-Server versus the<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  Map-Resolver using the LISP-DDT procedures in [<a href="/doc/rfc8111/">RFC8111</a>].<br>&gt;<br>&gt; How does the sender know that its configured Map-Resolver is also a<br>&gt; Map-Server?&nbsp; It's unclear to me why this needs a bit in the message as<br>&gt; opposed to just happening based on the attributes of the receiving<br>&gt; Map-Server.</div></td>
                </tr>
            
                <tr id="history-704776">
                    <td>
                        <div title="2019-08-30 11:53:57 -0700">2019-08-30</div>
                    </td>
                    <td class="text-end">25</td>
                    <td>Benjamin Kaduk</td>
                    <td><div class="snippet">[Ballot comment]<br>[moving from DISCUSS to COMMENT based on explanation of this usage<br>being a common historical usage in the LISP community.&nbsp; It still seems â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">[Ballot comment]<br>[moving from DISCUSS to COMMENT based on explanation of this usage<br>being a common historical usage in the LISP community.&nbsp; It still seems<br>needlessly ambiguous and confusing to me, though.]<br>There are many instances (some noted in my Comment) where a<br>bidirectional interaction between two xTRs is described, yet the peers are<br>identified as "ITR" and "ETR".&nbsp; This is very confusing when the entity<br>named as "ITR" is described as performing ETR functionality, or vice versa;<br>pedagogically, it would be much better to use non-role-based names for the<br>entities while describing these exchanges.<br><br><br>Abstract<br><br>&nbsp;  This document describes the Control-Plane and Mapping Service for the<br>&nbsp;  Locator/ID Separation Protocol (LISP), implemented by two new types<br>&nbsp;  of LISP-speaking devices -- the LISP Map-Resolver and LISP Map-Server<br><br>This is a -bis document; is "new" really appropriate?&nbsp; (It also appears in<br>the Introduction, of course.)<br><br>Section 1<br><br>&nbsp;  LISP is not intended to address problems of connectivity and scaling<br>&nbsp;  on behalf of arbitrary communicating parties.&nbsp; Relevant situations<br>&nbsp;  are described in the scoping section of the introduction to<br>&nbsp;  [<a href="/doc/draft-ietf-lisp-rfc6830bis/">I-D.ietf-lisp-rfc6830bis</a>].<br><br>It looks like we inline that text into this document as Section 1.1, below;<br>perhaps this paragraph is no longer needed, then?<br><br>Section 4<br><br>&nbsp;  A Map-Server is a device that publishes EID-Prefixes in a LISP<br>&nbsp;  mapping database on behalf of a set of ETRs.&nbsp; When it receives a Map<br>&nbsp;  Request (typically from an ITR), it consults the mapping database to<br><br>nit: isn't it typically from a Map-Resolver (or other<br>mapping-system-internal entity)?&nbsp; It's originally from an ITR, of course,<br>but the flow assumed by this document is described as<br>ITR-&gt;Map-Resolver-&gt;mapping-system-internals-&gt;Map-Server-&gt;ETR.<br><br>&nbsp;  Note that while it is conceivable that a Map-Resolver could cache<br>&nbsp;  responses to improve performance, issues surrounding cache management<br>&nbsp;  will need to be resolved so that doing so will be reliable and<br><br>nit: s/will/would/?<br><br>&nbsp;  practical.&nbsp; As initially deployed, Map-Resolvers will operate only in<br>&nbsp;  a non-caching mode, decapsulating and forwarding Encapsulated Map<br>&nbsp;  Requests received from ITRs.&nbsp; Any specification of caching<br>&nbsp;  functionality is out of scope for this document.<br><br>I think it's better to say something like "In this specification," rather<br>than "As initially deployed".<br><br>Also, I've confused myself a couple times from this -- it's only the<br>Map-Resolver that doesn't cache; the ITR is free to cache.&nbsp; It might be<br>helpful to call out that distinction here.&nbsp; Interestingly, in Section 1 we made<br>an analogy from DNS *caching* resolvers to Map-Resolvers; would an<br>analogy from DNS *recursive* resolvers have been more apt?<br><br>Section 5<br><br>I still think it's needlessly confusing to duplicate the IP/UDP header<br>layout figure here, at least without a prefacing comment noting that this<br>is the standard IP+UDP header with the IP addresses replaced by RLOCs.<br>But this is a non-blocking comment and the authors have already replied, so<br>feel free to ignore.<br><br>&nbsp;  Implementations MUST be prepared to accept packets when either the<br>&nbsp;  source port or destination UDP port is set to 4342 due to NATs<br>&nbsp;  changing port number values.<br><br>It's not entirely clear to me what this requirement is saying.<br><br>Section 5.2<br><br>&nbsp;  A: This is an authoritative bit, which is set to 0 for UDP-based Map-<br>&nbsp; &nbsp; &nbsp; Requests sent by an ITR.&nbsp; It is set to 1 when an ITR wants the<br>&nbsp; &nbsp; &nbsp; destination site to return the Map-Reply rather than the mapping<br>&nbsp; &nbsp; &nbsp; database system returning a Map-Reply.<br><br>Given that we've already disclaimed caching in the mapping system, aren't<br>all responses supposed to come from the destination site rather than the<br>mapping system?&nbsp; Searching the rest of the document for the string<br>"authoritative" suggests that this is perhaps intended to avoid proxying<br>behavior from terminating Map-Servers (but when an ETR requests proxying is<br>it still guaranteed to be able to generate its own Map-Replys?), in which<br>case this could probably be phrased better.<br><br>&nbsp;  P: This is the probe-bit, which indicates that a Map-Request SHOULD<br>&nbsp; &nbsp; &nbsp; be treated as a Locator reachability probe.&nbsp; The receiver SHOULD<br>&nbsp; &nbsp; &nbsp; respond with a Map-Reply with the probe-bit set, indicating that<br>&nbsp; &nbsp; &nbsp; the Map-Reply is a Locator reachability probe reply, with the<br>&nbsp; &nbsp; &nbsp; nonce copied from the Map-Request. [...]<br><br>Why are these only SHOULD?<br><br>I still think it is needlessly confusing to have bit labels that differ<br>only by letter case.&nbsp; While this may not be confusing for the authors,<br>there are plenty of other people who could potentially be confused by it.<br>(Also, why are there two bits 'R' next to a 'Rsvd' field that all have the<br>same "reserved" semantics?)<br><br>&nbsp;  L: This is the local-xtr bit.&nbsp; It is used by an xTR in a LISP site to<br>&nbsp; &nbsp; &nbsp; tell other xTRs in the same site that it is part of the RLOC-set<br>&nbsp; &nbsp; &nbsp; for the LISP site.&nbsp; The L-bit is set to 1 when the RLOC is the<br>&nbsp; &nbsp; &nbsp; sender's IP address.<br><br>At this point in the document, we haven't seen anything to suggest that an<br>xTR is going to be sending Map-Requests to other xTRs in the same site; a<br>forward reference is probably in order.<br><br>&nbsp;  D: This is the dont-map-reply bit.&nbsp; It is used in the SMR procedure<br>&nbsp; &nbsp; &nbsp; described in Section 6.1.&nbsp; When an xTR sends an SMR Map-Request<br>&nbsp; &nbsp; &nbsp; message, it doesn't need a Map-Reply returned.&nbsp; When this bit is<br>&nbsp; &nbsp; &nbsp; set, the receiver of the Map-Request does not return a Map-Reply.<br><br>nit: I'd suggest consolidating the behavior description and leaving the<br>explanations all at the end, so "This is the dont-map-reply bit.&nbsp; When this<br>bit is set, the receiver of the Map-Request does not return a Map-Reply.<br>It is used in the SMR procedure described in Section 6.1; when an xTR<br>sends an SMR Map-Request message, it doesn't need a Map-Reply returned."<br><br>&nbsp;  Nonce:&nbsp; This is an 8-octet random value created by the sender of the<br>&nbsp; &nbsp; &nbsp; Map-Request.&nbsp; This nonce will be returned in the Map-Reply.&nbsp; The<br>&nbsp; &nbsp; &nbsp; nonce is used as an index to identify the corresponding Map-<br>&nbsp; &nbsp; &nbsp; Request when a Map-Reply message is received.&nbsp; The nonce MUST be<br>&nbsp; &nbsp; &nbsp; generated by a properly seeded pseudo-random (or strong random)<br>&nbsp; &nbsp; &nbsp; source.&nbsp; See [<a href="/doc/rfc4086/">RFC4086</a>] for advice on generating security-sensitive<br>&nbsp; &nbsp; &nbsp; random data.<br><br>Since this value is just serving as a "number used once" (i.e., to match<br>replies to requests), this is a stronger requirement than we need -- it<br>merely needs to be unique per ITR.<br><br>&nbsp;  EID mask-len:&nbsp; This is the mask length for the EID-Prefix.<br><br>In bits, right? ...<br><br>&nbsp;  EID-Prefix:&nbsp; This prefix address length is 4 octets for an IPv4<br>&nbsp; &nbsp; &nbsp; address family and 16 octets for an IPv6 address family when the<br><br>... then maybe we shouldn't switch to bytes for just one sentence (and go<br>back to bits later in the paragraph)?<br><br>&nbsp; &nbsp; &nbsp; entry, the EID-Prefix is set to the destination IP address of the<br>&nbsp; &nbsp; &nbsp; data packet, and the 'EID mask-len' is set to 32 or 128 for IPv4<br>&nbsp; &nbsp; &nbsp; or IPv6, respectively.&nbsp; When an xTR wants to query a site about<br><br>Is this really an xTR-specific action, or does it apply to any ITR<br>functionality?<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; This allows the ETR that will receive this Map-Request to<br>&nbsp; &nbsp; &nbsp; cache the data if it chooses to do so.<br><br>OTOH, this one does seem to require an xTR.<br><br>Section 5.3<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  For the initial case, the destination IP<br>&nbsp;  address used for the Map-Request is the data packet's destination<br>&nbsp;  address (i.e., the destination EID) that had a mapping cache lookup<br>&nbsp;  failure.&nbsp; [...]<br><br>This seems like a type mismatch between RLOC/EID -- per the headers, the<br>destination address should be an RLOC, but we are forced to use an EID in<br>this case.&nbsp; The disparity should probably be called out and explained,<br>e.g., clarify that it's okay to use an EID as destination inside ECM<br>encapsulation (and, apparently, if we believe Section 5.8, that it's<br>required to do so).<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; A successful Map-Reply, which is<br>&nbsp;  one that has a nonce that matches an outstanding Map-Request nonce,<br>&nbsp;  will update the cached set of RLOCs associated with the EID-Prefix<br>&nbsp;  range.<br><br>nit: A negative Map-Reply will match the nonce.&nbsp; Will it also update the<br>cached set?&nbsp; Is it still considered to be "successful"?<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; If the ITR erroneously<br>&nbsp;  provides no ITR-RLOC addresses, the Map-Replier MUST drop the Map-<br>&nbsp;  Request.<br><br>I see we talked about this last time around; did you want to add some text<br>about how, despite the protocol message not definitionally allowing for<br>this detection, in practice it is still possible?<br><br>&nbsp;  Request.&nbsp; When an ETR configured to accept and verify such<br>&nbsp;  "piggybacked" mapping data receives such a Map-Request and it does<br><br>So, "(i.e., it is also an ITR)"?<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  If the ETR (when it is an xTR co-located as an<br>&nbsp;  ITR) has a Map-Cache entry that matches the "piggybacked" EID and the<br>&nbsp;  RLOC is in the Locator-Set for the entry, then it MAY send the<br><br>nit: "cached entry" would help clarify the prerequisites here.<br><br>&nbsp;  source.&nbsp; If the RLOC is not in the Locator-Set, then the ETR MUST<br>&nbsp;  send the "verifying Map-Request" to the "piggybacked" EID.&nbsp; [...]<br><br>"send ... to the [...] EID" seems like a type mismatch again, since we only<br>can send Map-Requests to RLOCs.<br><br>Section 5.4<br><br>&nbsp; &nbsp; &nbsp; Map-Request.&nbsp; See RLOC-probing Section 7.1 for more details.&nbsp; When<br>&nbsp; &nbsp; &nbsp; the probe-bit is set to 1 in a Map-Reply message, the A-bit in<br>&nbsp; &nbsp; &nbsp; each EID-record included in the message MUST be set to 1.<br><br>Do we want to specify any special handling if that NUST is disobeyed?<br><br>&nbsp;  S: This is the Security bit.&nbsp; When set to 1, the following<br>&nbsp; &nbsp; &nbsp; authentication information will be appended to the end of the Map-<br>&nbsp; &nbsp; &nbsp; Reply.&nbsp; The details of signing a Map-Reply message can be found in<br>&nbsp; &nbsp; &nbsp; [<a href="/doc/draft-ietf-lisp-sec/">I-D.ietf-lisp-sec</a>].<br><br>Please do not use the word "signing" here; it is a term of art that is not<br>appropriate to the actual operation performed.<br><br>&nbsp;  Record TTL:&nbsp; This is the time in minutes the recipient of the Map-<br>&nbsp; &nbsp; &nbsp; Reply will store the mapping.&nbsp; If the TTL is 0, the entry MUST be<br><br>I think "can" is more appropriate than "will"; generally a local cache can<br>safely be invalidated at will.<br><br>&nbsp;  Locator Count:&nbsp; This is the number of Locator entries.&nbsp; A Locator<br><br>Please scope this to "in the given Record".<br><br>&nbsp;  EID mask-len:&nbsp; This is the mask length for the EID-Prefix.<br><br>(in bits, right?)<br><br>&nbsp;  ACT:&nbsp; This 3-bit field describes Negative Map-Reply actions.&nbsp; In any<br>&nbsp; &nbsp; &nbsp; other message type, these bits are set to 0 and ignored on<br>&nbsp; &nbsp; &nbsp; receipt.&nbsp; These bits are used only when the 'Locator Count' field<br>&nbsp; &nbsp; &nbsp; is set to 0.&nbsp; The action bits are encoded only in Map-Reply<br>&nbsp; &nbsp; &nbsp; messages.&nbsp; [...]<br><br>This is the section on Map-Reply messages; why are we talking about other<br>message types?&nbsp; Also, do we want to mention that the possible values are<br>managed by IANA?<br><br>&nbsp;  A: The Authoritative bit, when set to 1, is always set to 1 by an<br>&nbsp; &nbsp; &nbsp; ETR.&nbsp; When a Map-Server is proxy Map-Replying for a LISP site, the<br>&nbsp; &nbsp; &nbsp; Authoritative bit is set to 0.&nbsp; This indicates to requesting ITRs<br>&nbsp; &nbsp; &nbsp; that the Map-Reply was not originated by a LISP node managed at<br>&nbsp; &nbsp; &nbsp; the site that owns the EID-Prefix.<br><br>nit: This text is needlessly confusing.&nbsp; How about "The authoritative bit<br>can only be set to 1 by an ETR (and not a Map-Server generating Map-Reply<br>messages as a proxy).&nbsp; If this bit is set to 0, that indicates ..."?<br><br>Section 5.5<br><br>Please provide a link/reference for Data-Probe on first usage.<br><br>&nbsp;  For each Map-Reply record, the list of Locators in a Locator-Set MUST<br>&nbsp;  appear in the same order for each ETR that originates a Map-Reply<br>&nbsp;  message.&nbsp; The Locator-Set MUST be sorted in order of ascending IP<br>&nbsp;  address where an IPv4 locator address is considered numerically 'less<br>&nbsp;  than' an IPv6 locator address.<br><br>IIUC, there is no need for "MUST appear in the same order" if you also<br>mandate a specific sorting function.<br><br>Section 5.6<br><br>&nbsp;  P: This is the proxy Map-Reply bit.&nbsp; When set to 1, an ETR sends a<br>&nbsp; &nbsp; &nbsp; Map-Register message requesting the Map-Server to proxy a Map-<br>&nbsp; &nbsp; &nbsp; Reply.&nbsp; [...]<br><br>nit: "just one?"<br><br>Do you want to give a mnemonic for the 'I' bit?<br><br>The "Nonce" field is acting as a sequence number, not just as a number used<br>once.&nbsp; I strongly suggest changing the name accordingly.<br><br>&nbsp;  Authentication Data Length:&nbsp; This is the length in octets of the<br>&nbsp; &nbsp; &nbsp; 'Authentication Data' field that follows this field.&nbsp; The length<br>&nbsp; &nbsp; &nbsp; of the 'Authentication Data' field is dependent on the MAC<br>&nbsp; &nbsp; &nbsp; algorithm used.&nbsp; The length field allows a device that doesn't<br>&nbsp; &nbsp; &nbsp; know the MAC algorithm to correctly parse the packet.<br><br>Why does a device that won't be able to validate the authentication data<br>need to be able to parse the packet?&nbsp; I thought all Map-Registers needed to<br>be authenticated.<br><br>&nbsp;  xTR-ID:&nbsp; xTR-ID is a 128 bit field at the end of the Map-Register<br>&nbsp; &nbsp; &nbsp; message, starting after the final Record in the message.&nbsp; The xTR-<br>&nbsp; &nbsp; &nbsp; ID is used to uniquely identify a xTR.&nbsp; The same xTR-ID value MUST<br>&nbsp; &nbsp; &nbsp; NOT be used in two different xTRs.<br><br>Globally, over all time?&nbsp; Within a single LISP domain, over all time?<br>Please be specific.<br><br>&nbsp;  Site-ID:&nbsp; Site-ID is a 64 bit field at the end of the Map- Register<br>&nbsp; &nbsp; &nbsp; message, following the xTR-ID.&nbsp; Site-ID is used to uniquely<br>&nbsp; &nbsp; &nbsp; identify to which site the xTR that sent the message belongs.<br><br>Where is a (LISP) "site" formally defined?&nbsp; Are there weird topologies or<br>edge cases that we need to consider when assigning numbers, risk of having<br>two IDs that might validly apply to a single xTR, etc.?<br><br>Section 5.7<br><br>(If Nonce is renamed above, it should be renamed here as well.)<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; The fields of the Map-Notify-Ack<br>&nbsp;  are copied from the corresponding Map-Notify message to acknowledge<br>&nbsp;  its correct processing.<br><br>Please note that the authorization data is recomputed, here.<br><br>&nbsp;  The Map-Notify-Ack message has the same contents as a Map-Notify<br>&nbsp;  message.&nbsp; It is used to acknowledge the receipt of a Map-Notify<br>&nbsp;  (solicited or unsolicited) and for the sender to stop retransmitting<br><br>So a normal exchange would include Map-Register, Map-Notify, and<br>Map-Notify-Ack?<br><br>&nbsp;  A Map-Server sends an unsolicited Map-Notify message (one that is not<br>&nbsp;  used as an acknowledgment to a Map-Register message) that follows the<br>&nbsp;  Congestion Control And Relability Guideline sections of [<a href="/doc/rfc8085/">RFC8085</a>].&nbsp; A<br><br>This second clause ("that follows") is rather a non sequitur here.&nbsp; And we<br>still don't know what purpose the unsolicited Map-Notify serves!<br><br>&nbsp;  Map-Notify is retransmitted until a Map-Notify-Ack is received by the<br>&nbsp;  Map-Server with the same nonce used in the Map-Notify message.&nbsp; If a<br><br>Presumably we care about (e.g.) the key ID matching and the authentication<br>data validating, as well?<br><br>&nbsp;  Map-Notify-Ack is never received by the Map-Server, it issues a log<br>&nbsp;  message.&nbsp; An implementation SHOULD retransmit up to 3 times at 3<br>&nbsp;  second retransmission intervals, after which time the retransmission<br>&nbsp;  interval is exponentially backed-off for another 3 retransmission<br><br>"exponentially" is not well defined unless the base of the exponent is<br>specified.<br><br>&nbsp;  attempts.&nbsp; After this time, an xTR can only get the RLOC-set change<br>&nbsp;  by later querying the mapping system or by RLOC-probing one of the<br>&nbsp;  RLOCs of the existing cached RLOC-set to get the new RLOC-set.<br><br>What RLOC-set change?&nbsp; This text doesn't seem to indicate what<br>functionality is going on here.<br><br>Section 5.8<br><br>&nbsp;  An Encapsulated Control Message (ECM) is used to encapsulate control<br>&nbsp;  packets sent between xTRs and the mapping database system.<br><br>Some of the flag bit descriptions appear to describe usages that are or can<br>be entirely within the mapping system.<br><br>&nbsp;  D:&nbsp; &nbsp; This is the DDT-bit.&nbsp; When set to 1, the sender is requesting a<br>&nbsp; &nbsp; &nbsp; &nbsp;  Map-Referral message to be returned.&nbsp; The details of this<br>&nbsp; &nbsp; &nbsp; &nbsp;  procedure are described in [<a href="/doc/rfc8111/">RFC8111</a>].<br><br>E.g., here, the sender can be (IIUC) within the mapping system.<br><br>&nbsp;  E:&nbsp; &nbsp; This is the to-ETR bit.&nbsp; When set to 1, the Map-Server's<br>&nbsp; &nbsp; &nbsp; &nbsp;  intention is to forward the ECM to an authoritative ETR.<br><br>I'm not sure that "intention" is quite right, here -- as far as this<br>document is concerned, a Map-Server will always know whether it is sending<br>an ECM to an authoritative ETR.&nbsp; Also, this bit does not seem to be used<br>for anything within this document, and no external reference is given.<br><br>Are the 'M' and 'E' bits mutally exclusive?&nbsp; (Would we even care?)<br><br>I suggest adding more text about which sender/receiver pairs are permitted<br>(or allowed or expected) to set the D, E, and M bits.<br><br>&nbsp; &nbsp; &nbsp; &nbsp;  invoking Map-Request.&nbsp; Port number 4341 MUST NOT be assigned to<br>&nbsp; &nbsp; &nbsp; &nbsp;  either port.&nbsp; The checksum field MUST be non-zero.<br><br>This is the only place in this document that we disallow port 4341.&nbsp; Should<br>we also be disallowing it from being used as the non-4342 port for other<br>exchanges?<br><br>&nbsp;  LCM:&nbsp; The format is one of the control message formats described in<br>&nbsp; &nbsp; &nbsp; &nbsp;  this section.&nbsp; [...]<br><br>nit: "this section" means 5.8; presumably we mean Section 5.<br><br>Section 6.1<br><br>I agree with Warren that the direct usage of mapping information included<br>in an SMR presents a substantial attack surface, both for DoS and<br>potentially for redirecting traffic wholesale (whether for snooping<br>purposes or use as volumetric DoS to a third-party target).&nbsp; There is some<br>discussion of the risks of spoofing with this sort of "gleaming" behavior,<br>but I strongly suggest mentioning something like "this technique presents a<br>risk of off-path spoofing; see Section 9 for details" at each such<br>non-validated scheme for learning mapping information.<br><br>&nbsp;  Since ETRs are not required to keep track of remote ITRs that have<br>&nbsp;  cached their mappings, they do not know which ITRs need to have their<br>&nbsp;  mappings updated.&nbsp; As a result, an ETR will solicit Map-Requests<br>&nbsp;  (called an SMR message) to those sites to which it has been sending<br>&nbsp;  LISP encapsulated data packets for the last minute.&nbsp; In particular,<br>&nbsp;  an ETR will send an SMR to an ITR to which it has recently sent<br>&nbsp;  encapsulated data.&nbsp; This can only occur when both ITR and ETR<br>&nbsp;  functionality reside in the same router.<br><br>I still think that this text is needlessly confusing about which action is<br>taken by which router, and could be improved as, e.g., "this can only occur<br>when the ETR also provides ITR functionality (that is, it is an xTR)".<br><br>&nbsp;  The following procedure shows how an SMR exchange occurs when a site<br>&nbsp;  is doing Locator-Set compaction for an EID-to-RLOC mapping:<br><br>Where is locator-set compaction defined?<br><br>Throughout this whole example, "the site with the changed mapping" and "the<br>site that sent the Map-Request" are kind of clunky phrases; it might be<br>cleaner writing to give them names (like "site A" and "site B").<br><br>&nbsp;  messages.&nbsp; It is RECOMMENDED that the SMR sender rate-limits Map-<br>&nbsp;  Request for the same destination RLOC to no more than one packet per<br>&nbsp;  3 seconds.&nbsp; It is RECOMMENDED that the SMR responder rate-limits Map-<br>&nbsp;  Request for the same EID-Prefix to no more than once per 3 seconds.<br><br>Please double-check that "SMR sender"/"SMR responder" and "Map-Request"<br>usage are consistent/as-intended.<br><br>&nbsp;  2.&nbsp; A remote ITR that receives the SMR message will schedule sending<br>&nbsp; &nbsp; &nbsp;  a Map-Request message to the source locator address of the SMR<br>&nbsp; &nbsp; &nbsp;  message or to the mapping database system.&nbsp; [...]<br><br>How does the ITR decide which destination to send the Map-Request to?<br><br>&nbsp; &nbsp; &nbsp;  copied from the SMR message.&nbsp; If the source Locator is the only<br>&nbsp; &nbsp; &nbsp;  Locator in the cached Locator-Set, the remote ITR SHOULD send a<br> <br>just to double-check: this is the source Locator from the SMR?<br><br>&nbsp; &nbsp; &nbsp;  Map-Request to the database mapping system just in case the<br>&nbsp; &nbsp; &nbsp;  single Locator has changed and may no longer be reachable to<br>&nbsp; &nbsp; &nbsp;  accept the Map-Request.<br><br>Is this the only case that the Map-Request would go to the mapping system?<br><br>&nbsp;  3.&nbsp; The remote ITR MUST rate-limit the Map-Request until it gets a<br>&nbsp; &nbsp; &nbsp;  Map-Reply while continuing to use the cached mapping.&nbsp; When<br><br>nit: I suggest a comma after "Map-Reply" to avoid the misparse that the<br>Map-Reply must be received while the cached mapping is in use (and that the<br>rate limiting would continue indefinitely if the cached mapping expired in<br>the meantime).<br><br>&nbsp;  5.&nbsp; The ETRs at the site with the changed mapping record the fact<br>&nbsp; &nbsp; &nbsp;  that the site that sent the Map-Request has received the new<br>&nbsp; &nbsp; &nbsp;  mapping data in the Map-Cache entry for the remote site so the<br>&nbsp; &nbsp; &nbsp;  Locator-Status-Bits are reflective of the new mapping for packets<br>&nbsp; &nbsp; &nbsp;  going to the remote site.&nbsp; [...]<br><br>The Locator-Status-Bits in which direction?&nbsp; (Probably should also give a<br>section ref to 6830bis for the definition.)&nbsp; It might also be appropriate to<br>discuss the interaction with the relevant map version.<br><br>&nbsp;  For security reasons, an ITR MUST NOT process unsolicited Map-<br>&nbsp;  Replies.&nbsp; To avoid Map-Cache entry corruption by a third party, a<br>&nbsp;  sender of an SMR-based Map-Request MUST be verified.&nbsp; If an ITR<br><br>To be clear, the verification here is essentially return-routability<br>verification, aka proof that the sender actually owns the claimed address,<br>right?&nbsp; I think it is appropriate to have some text noting the specific<br>behavior, and that this is not any sort of cryptographic or strongly<br>authenticated verification.<br><br>&nbsp;  receives an SMR-based Map-Request and the source is not in the<br>&nbsp;  Locator-Set for the stored Map-Cache entry, then the responding Map-<br>&nbsp;  Request MUST be sent with an EID destination to the mapping database<br>&nbsp;  system.&nbsp; [...]<br><br>What is an "SMR-based Map-Request" (also appears in the next paragraph and<br>one other place)?&nbsp; Is it just an SMR?&nbsp; If it's some actual Map-Request, I'm<br>confused at why an *I*TR would be receiving it.<br><br>Section 7<br><br>&nbsp;  3.&nbsp; An ITR may receive an ICMP Port Unreachable message from a<br>&nbsp; &nbsp; &nbsp;  destination host.&nbsp; This occurs if an ITR attempts to use<br>&nbsp; &nbsp; &nbsp;  interworking [<a href="/doc/rfc6832/">RFC6832</a>] and LISP-encapsulated data is sent to a<br>&nbsp; &nbsp; &nbsp;  non-LISP-capable site.<br><br>Is the ITR supposed to conclude that the RLOC is likely down in this<br>situation?<br><br>&nbsp;  When ITRs receive ICMP Network Unreachable or Host Unreachable<br>&nbsp;  messages as a method to determine unreachability, they will refrain<br>&nbsp;  from using Locators that are described in Locator lists of Map-<br>&nbsp;  Replies.&nbsp; [...]<br><br>Is this really as precise as it can be?&nbsp; It kind of sounds like it says<br>that all Map-Replies will be ignored when any ICMP Network/Host Unreachable<br>message is received.<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; If it does not find one and BGP is running in the Default-<br>&nbsp;  Free Zone (DFZ), it can decide to not use the Locator even though the<br><br>Is running in the DFZ consistent with the reduced scope of running in a<br>single administrative domain?<br><br>&nbsp;  Optionally, an ITR can send a Map-Request to a Locator, and if a Map-<br>&nbsp;  Reply is returned, reachability of the Locator has been determined.<br><br>Is this describing the same flow as item (5) above and Section 7.1 below?<br>If so, it seems totally redundant and could be omitted.<br><br>&nbsp;  Obviously, sending such probes increases the number of control<br>&nbsp;  messages originated by Tunnel Routers for active flows, so Locators<br>&nbsp;  are assumed to be reachable when they are advertised.<br><br>I'm not sure what "advertised" is intended to mean, here.&nbsp; Is it<br>"advertised into the mapping system"?&nbsp; But that is not directly visible to<br>the ITR, only indirectly through the results of an actual mapping request<br>(and even then, the Map-Reply from an ETR could be invalid, e.g.,<br>overclaiming, unless LISP-SEC is used.<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  Both Requests and Replies MUST be rate-<br>&nbsp;  limited.&nbsp; [...]<br><br>I believe this requirement duplicates requirements already made elsewhere;<br>the other locations also include more guidance on actual rates.<br><br>Section 7.1<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  A Map-Request used as<br>&nbsp;  an RLOC-probe is NOT encapsulated and NOT sent to a Map-Server or to<br>&nbsp;  the mapping database system as one would when soliciting mapping<br>&nbsp;  data.&nbsp; [..]<br><br>I strongly suggest using a word other than "soliciting" to avoid confusion<br>with SMR.<br><br>&nbsp;  data.&nbsp; The EID record encoded in the Map-Request is the EID-Prefix of<br>&nbsp;  the Map-Cache entry cached by the ITR or PITR.&nbsp; The ITR MAY include a<br><br>Is it worth reminding the reader that the source EID here is zero-length<br>and source-EID-AFI set to zero?<br><br>&nbsp;  mapping data record for its own database mapping information that<br>&nbsp;  contains the local EID-Prefixes and RLOCs for its site.&nbsp; [...]<br><br>To double-check: this mapping data record is included in the "Map-Reply<br>Record" field of the Map-Request message?&nbsp; It would probably help the<br>reader to be consistent about this terminology.<br><br>Section 8.1<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; In particular, the ITR<br>&nbsp;  need not connect to the LISP-ALT infrastructure or implement the BGP<br>&nbsp;  and GRE protocols that it uses.<br><br>Why does LISP-ALT get a callout but not (e.g.) LISP-DDT?<br><br>Section 8.3<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; If the EID-prefix is registered or<br>&nbsp;  not registered and there is a authentication failure, then a Drop/<br><br>What is the authentication flow that would be failing here?&nbsp; The<br>Map-Register for the corresponding prefix?<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; If either of these<br>&nbsp;  actions result as a temporary state in policy or authentication then<br>&nbsp;  a Send-Map-Request action with 1-minute TTL MAY be returned to allow<br>&nbsp;  the requestor to retry the Map-Request.<br><br>How can an SMR have an associated TTL?&nbsp; The message format is that of a<br>regular Map-Request, is it not?<br><br>Section 8.4<br><br>&nbsp;  Upon receipt of an Encapsulated Map-Request, a Map-Resolver<br>&nbsp;  decapsulates the enclosed message and then searches for the requested<br>&nbsp;  EID in its local database of mapping entries (statically configured<br>&nbsp;  or learned from associated ETRs if the Map-Resolver is also a Map-<br>&nbsp;  Server offering proxy reply service). <br><br>This seems to be the first time the document admits the possibility for a<br>local database of mapping entries on a Map-Resolver; this makes me wonder<br>if there was an incomplete removal of such functionality from the document,<br>especially given that local caching of responses on the Map-Resolver is<br>explicitly disclaimed in Section 4.<br><br>Section 8.4.1<br><br>&nbsp;  ETRs MAY have anycast RLOC addresses which are registered as part of<br>&nbsp;  their RLOC-set to the mapping system.&nbsp; However, registrations MUST<br>&nbsp;  use their unique RLOC addresses or distinct authentication keys to<br>&nbsp;  identify security associations with the Map-Servers.<br><br>xTR-IDs cannot be used for this purpose?<br><br>Section 9<br><br>I think we should have some discussion here about how mapping information<br>gleamed from SMR messages does not necessarily benefit from the on-path<br>guarantee that the nonce provides for regular mapping-system exchanges.<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  The Map-Register message is vulnerable to replay attacks by a<br>&nbsp;  man-in-the-middle.&nbsp; A compromised ETR can overclaim the prefix it<br>&nbsp;  owns and successfully register it on its corresponding Map-Server.<br>&nbsp;  To mitigate this and as noted in Section 8.2, a Map-Server SHOULD<br>&nbsp;  verify that all EID-Prefixes registered by an ETR match the<br>&nbsp;  configuration stored on the Map-Server.<br><br>The conversion of the Map-Register 'Nonce' field into a sequence number<br>provides some moderate remediation against the replay attack; that should<br>be included in this discussion.<br><br>&nbsp;  Encrypting control messages via DTLS [<a href="/doc/rfc6347/">RFC6347</a>] or LISP-crypto<br>&nbsp;  [<a href="/doc/rfc8061/">RFC8061</a>] SHOULD be used to support privacy to prevent eavesdroping<br>&nbsp;  and packet tampering for messages exchanged between xTRs, xTRs and<br>&nbsp;  the mapping system, and nodes that make up the mapping system.<br><br>nit: "to support privacy to prevent eavesdropping and packet tampering"<br>doesn't read as grammatical; is the "to support privacy" still needed or maybe<br>just a missing "and"?<br>less-nit: this current wording makes it seem like LISP-crypto should be a<br>normative reference, but I think the intended semantics are more of "some<br>mechanism SHOULD be used to provide [privacy/confidentiality protection],<br>and here is an incomplete list of mechanisms that do so"<br><br>Section 10<br><br>Thank you for adding the Privacy Considerations section; it is imporant to<br>document this property of the system and let the operator make informed<br>decisions.<br><br>&nbsp;  As noted by [<a href="/doc/rfc6973/">RFC6973</a>] privacy is a complex issue that greatly depends<br>&nbsp;  on the specific protocol use-case and deployment.&nbsp; As noted in<br>&nbsp;  section 1.1 of [<a href="/doc/draft-ietf-lisp-rfc6830bis/">I-D.ietf-lisp-rfc6830bis</a>] LISP focuses on use-cases<br><br>Also Section 1.1 of this document.<br><br>Section 11<br><br>&nbsp;  o&nbsp; The "m", "I", "L", and "D" bits are added to the Map-Request<br>&nbsp; &nbsp; &nbsp; message.&nbsp; See Section 5.3 for details.<br><br>Isn't this more a Section 5.2 thing than 5.3?&nbsp; Also, I don't see "m" or "I"<br>bits described (though I do see "M").<br><br>&nbsp;  o&nbsp; The "S", "I", "E", "T", "a", and "m" bits are added to the Map-<br>&nbsp; &nbsp; &nbsp; Register message.&nbsp; See Section 5.6 for details.<br><br>I see an "M" bit but not an "m" one.<br><br>Section 12.3<br><br>It feels a little weird to lump the ACT fields (which have a registry)<br>together in a section with the flag fields scattered throughout the<br>protocol (which do not).&nbsp; Is it bad to have separate subsections for them<br>(especially when Section 12.6 already exists and does provide a registry<br>for other flag bits)?<br><br>Section 12.6<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; A sub-registry needs to be created per each<br>&nbsp;  message and record.&nbsp; [...]<br><br>What is a "record" in this context?&nbsp; (It does not seem like a mapping<br>record.)<br><br>I mostly expect IANA to ask for a listing of which bits/ranges are/aren't<br>allocatabale.</div></td>
                </tr>
            
                <tr id="history-704775">
                    <td>
                        <div title="2019-08-30 11:53:57 -0700">2019-08-30</div>
                    </td>
                    <td class="text-end">25</td>
                    <td>Benjamin Kaduk</td>
                    <td>Ballot comment and discuss text updated for Benjamin Kaduk</td>
                </tr>
            
                <tr id="history-704164">
                    <td>
                        <div title="2019-08-26 22:05:40 -0700">2019-08-26</div>
                    </td>
                    <td class="text-end">25</td>
                    <td>Gunter Van de Velde</td>
                    <td>Assignment of request for Last Call review by OPSDIR to Sarah Banks was marked no-response</td>
                </tr>
            
                <tr id="history-695598">
                    <td>
                        <div title="2019-07-11 00:42:54 -0700">2019-07-11</div>
                    </td>
                    <td class="text-end">25</td>
                    <td>Luigi Iannone</td>
                    <td>Added to session: IETF-105: lisp&nbsp; Mon-1330</td>
                </tr>
            
                <tr id="history-689885">
                    <td>
                        <div title="2019-06-16 15:18:09 -0700">2019-06-16</div>
                    </td>
                    <td class="text-end">25</td>
                    <td>(System)</td>
                    <td>Sub state has been changed to <b>AD Followup</b> from <b>Revised ID Needed</b></td>
                </tr>
            
                <tr id="history-689884">
                    <td>
                        <div title="2019-06-16 15:18:08 -0700">2019-06-16</div>
                    </td>
                    <td class="text-end">25</td>
                    <td>Albert Cabellos-Aparicio</td>
                    <td>New version available: <b><a href="/doc/draft-ietf-lisp-rfc6833bis/25/">draft-ietf-lisp-rfc6833bis-25.txt</a></b></td>
                </tr>
            
                <tr id="history-689883">
                    <td>
                        <div title="2019-06-16 15:18:07 -0700">2019-06-16</div>
                    </td>
                    <td class="text-end">25</td>
                    <td>(System)</td>
                    <td>New version approved</td>
                </tr>
            
                <tr id="history-689882">
                    <td>
                        <div title="2019-06-16 15:15:35 -0700">2019-06-16</div>
                    </td>
                    <td class="text-end">25</td>
                    <td>(System)</td>
                    <td>Request for posting confirmation emailed to previous authors: <a href="mailto:lisp-chairs@ietf.org">lisp-chairs@ietf.org</a>, Dino Farinacci , Albert Cabellos-Aparicio , Vince Fuller </td>
                </tr>
            
                <tr id="history-689881">
                    <td>
                        <div title="2019-06-16 15:15:34 -0700">2019-06-16</div>
                    </td>
                    <td class="text-end">25</td>
                    <td>Albert Cabellos-Aparicio</td>
                    <td>Uploaded new revision</td>
                </tr>
            
                <tr id="history-661800">
                    <td>
                        <div title="2019-04-11 15:02:04 -0700">2019-04-11</div>
                    </td>
                    <td class="text-end">24</td>
                    <td>Tero Kivinen</td>
                    <td>Closed request for Telechat review by SECDIR with state 'Team Will not Review Version'</td>
                </tr>
            
                <tr id="history-675533">
                    <td>
                        <div title="2019-04-10 00:45:20 -0700">2019-04-10</div>
                    </td>
                    <td class="text-end">24</td>
                    <td>Takeshi Takahashi</td>
                    <td>Assignment of request for Telechat review by SECDIR to Takeshi Takahashi was rejected</td>
                </tr>
            
                <tr id="history-658680">
                    <td>
                        <div title="2019-03-27 04:29:29 -0700">2019-03-27</div>
                    </td>
                    <td class="text-end">24</td>
                    <td>Luigi Iannone</td>
                    <td>Added to session: IETF-104: lisp&nbsp; Fri-0900</td>
                </tr>
            
                <tr id="history-648444">
                    <td>
                        <div title="2019-02-07 07:45:53 -0800">2019-02-07</div>
                    </td>
                    <td class="text-end">24</td>
                    <td>Cindy Morgan</td>
                    <td>IESG state changed to <b>IESG Evaluation - Defer::Revised I-D Needed</b> from IESG Evaluation - Defer::AD Followup</td>
                </tr>
            
                <tr id="history-648410">
                    <td>
                        <div title="2019-02-07 06:19:33 -0800">2019-02-07</div>
                    </td>
                    <td class="text-end">24</td>
                    <td>Ignas Bagdonas</td>
                    <td>[Ballot comment]<br>NO OBJECTION for the same reasoning as for 6830bis.</td>
                </tr>
            
                <tr id="history-648409">
                    <td>
                        <div title="2019-02-07 06:19:33 -0800">2019-02-07</div>
                    </td>
                    <td class="text-end">24</td>
                    <td>Ignas Bagdonas</td>
                    <td>[Ballot Position Update] New position, No Objection, has been recorded for Ignas Bagdonas</td>
                </tr>
            
                <tr id="history-648397">
                    <td>
                        <div title="2019-02-07 05:50:27 -0800">2019-02-07</div>
                    </td>
                    <td class="text-end">24</td>
                    <td>Benjamin Kaduk</td>
                    <td><div class="snippet">[Ballot discuss]<br>This document has normative dependencies on other WG drafts that are not<br>yet mature (one could perhaps define this as having completed IETF â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">[Ballot discuss]<br>This document has normative dependencies on other WG drafts that are not<br>yet mature (one could perhaps define this as having completed IETF LC).&nbsp; In<br>particular, I believe there is a nontrivial chance that either or both of<br>lisp-sec and 6834bis could require changes to this document in order to be<br>fit for purpose, and thus that this document cannot safely be approved for<br>publication until these normative dependencies are closer to publication.<br>In particular, I have done a fairly full review of lisp-sec and have<br>DISCUSS-worthy points with it (I have not done much review of 6834bis yet).<br><br>This document includes a mechansism to use HMAC keyed by a pre-shared key<br>to authenticate messages (Map-Register and Map-Notify*); it is directly<br>using the long-term PSK as the HMAC key.&nbsp; This is not really consistent<br>with current IETF best practices (e.g,. <a href="/doc/bcp107/">BCP 107</a>), which tend to not use the<br>long-term key directly for keying messages, but rather to incorporate some<br>form of key derivation step, to protect the long-term key from<br>cryptanalysis and reduce the need to track long-term per-key data usage<br>limits.&nbsp; It is probably not feasible to directly require all LISP<br>implementations to switch keying strategy, but it seems quite advisable to<br>define new algorithm ID types that include a key derivation step before the<br>HMAC, and to begin efforts to convert the ecosystem to the more sustainable<br>cryptographic usage.&nbsp; I would like to discuss what actions are reasonable<br>to take at this time, on this front.<br><br>As implied by my previous discuss ballot position, I think Section 5.4<br>should grow a statement (akin to the one added in Section 5.6) that the<br>"Record" format is also used in the "Map-Reply Record" field of the<br>Map-Request message, and that the field definitions are reused wholesale<br>for the Map-Register message.<br><br>In Section 5.6, this text seems internally inconsistent:<br><br>&nbsp; &nbsp; &nbsp; can continue using an incrementing nonce.&nbsp; If the the ETR cannot<br>&nbsp; &nbsp; &nbsp; support saving the nonce, then when it restarts it MUST use a new<br>&nbsp; &nbsp; &nbsp; authentication key to register to the mapping system.&nbsp; A Map-<br>&nbsp; &nbsp; &nbsp; Server MUST track and save in persistent storage the last nonce<br>&nbsp; &nbsp; &nbsp; received for each ETR xTR-ID that registers to it.&nbsp; If a Map-<br>&nbsp; &nbsp; &nbsp; Register is received with a nonce value that is not greater than<br>&nbsp; &nbsp; &nbsp; the saved nonce, it drops the Map-Register message and logs the<br>&nbsp; &nbsp; &nbsp; fact a replay attack could have occurred.<br><br>In order for a new key to be useful as stated, the Map-Server must do the<br>nonce tracking per&nbsp; pair and not just per xTR-ID.<br><br>Also, guidance is needed on what scope of uniqueness is needed for the Key<br>ID to function properly -- unique per Map-Server?&nbsp; Per <br>pair?&nbsp; Per LISP domain?<br><br>Also in Section 5.6:<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  Implementations of this<br>&nbsp; &nbsp; &nbsp; specification MUST include support for either HMAC-SHA-1-96<br>&nbsp; &nbsp; &nbsp; [<a href="/doc/rfc2404/">RFC2404</a>] and HMAC-SHA-256-128 [<a href="/doc/rfc4868/">RFC4868</a>] where the latter is<br>&nbsp; &nbsp; &nbsp; RECOMMENDED.<br><br>I don't think this sort of "mandatory to choose" is <a href="/doc/bcp201/">BCP 201</a>-compliant.<br><br>I think there needs to be more description of Site-ID usage and scoping in<br>order to be fully interoperable (more in the COMMENT section).<br><br>There are multiple places where we talk about message contents being copied<br>from a corresponding request (e.g., from Map-Request to Map-Notify); we<br>need to explicitly state that the authentication data is recomputed to<br>match, e.g., the new message type.&nbsp; I've tried to note these occurrences in<br>the COMMENT section.<br><br>The condition for Map-Notify-Ack terminating Map-Notify retransmission<br>seems incomplete (more in the COMMENT).<br><br>In Section 8.2:<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  A Map-Register message includes<br>&nbsp;  authentication data, so prior to sending a Map-Register message, the<br>&nbsp;  ETR and Map-Server SHOULD be configured with a shared secret or other<br>&nbsp;  relevant authentication information.&nbsp; [...]<br><br>We require authentication for Map-Register and do not provide any<br>alternative mechanism for key distribution, so why is this only a SHOULD?<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; As developers<br>&nbsp;  and operators gain experience with the mapping system, additional,<br>&nbsp;  stronger security measures may be added to the registration process.<br><br>This text does not add confidence to the "proposed standard" label.<br><br>In Section 9:<br><br>&nbsp;  A complete LISP threat analysis can be found in [<a href="/doc/rfc7835/">RFC7835</a>].&nbsp; In what<br><br>As I have stated previously, the threat analysis in <a href="/doc/rfc7835/">RFC 7835</a> is not<br>complete and it should not be referred to as such.<br><br>&nbsp;  3.&nbsp; LISP-SEC [<a href="/doc/draft-ietf-lisp-sec/">I-D.ietf-lisp-sec</a>] MUST be implemented.&nbsp; Network<br>&nbsp; &nbsp; &nbsp;  operartors should carefully weight how the LISP-SEC threat model<br>&nbsp; &nbsp; &nbsp;  applies to their particular use case or deployment.&nbsp; If they<br>&nbsp; &nbsp; &nbsp;  decide to ignore a particular recommendation, they should make<br>&nbsp; &nbsp; &nbsp;  sure the risk associated with the corresponding threats is well<br>&nbsp; &nbsp; &nbsp;  understood.<br><br>I'm concerned enough about the risk of having a "ITR requests lisp-sec but<br>ETR didn't use it" case that causes complete breakage, that I want to talk<br>about this a bit more.&nbsp; We currently in this document say that lisp-sec is<br>mandatory to implement (which presumably covers at least ITRs, ETRs,<br>Map-Resolvers, and Map-Servers).&nbsp; LISP-SEC itself says that "and ETR that<br>supports LISP-SEC MUST set the S bit in its Map-Register messages".&nbsp; Is it<br>possible that an ETR might "implement" but then not "support" LISP-SEC?&nbsp; If<br>so, then we should consider the possibility that we need an authenticated<br>signal (from the mapping system to the ITR) that downgrading from lisp-sec<br>is allowed.&nbsp; There seem to be several possibilities for how one might<br>construct such a signal; two that came to mind to me would be (1) to define a<br>new ACT value for "repeat without lisp-sec" that could be returned as a<br>negative Map-Response directly from the mapping system wherever the mapping<br>system is able to discern that the ETR in question does not support<br>lisp-sec (I don't actually know if this could happen at Map-Resolver or<br>would need to be delayed until the final Map-Server) and (2) to have an<br>optional Map-Request field that the ETR is required to copy unchanged to<br>the Map-Reply; this could then include a message HMAC'd in the ITR-OTK that<br>indicates lisp-sec non-support and binds to the nonce in the request.<br>Whether these are workable ideas seems to depend on aspects of the mapping<br>system to which I cannot speak.<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  The LISP-SEC<br>&nbsp;  protocol defines a mechanism for providing origin authentication,<br>&nbsp;  integrity, anti-replay, protection, and prevention of 'man-in-the-<br>&nbsp;  middle' and 'prefix overclaiming' attacks on the Map-Request/Map-<br>&nbsp;  Reply exchange.&nbsp; [...]<br><br>Does LISP-SEC actually provide any additional anti-replay protection not<br>present in the base protocol?&nbsp; I do not remember any such additional<br>protection.<br><br>&nbsp;  A complete LISP threat analysis has been published in [<a href="/doc/rfc7835/">RFC7835</a>].<br>&nbsp;  Please refer to it for more detailed security related details.<br><br>(1) you already said that above, (2) it's still not complete.<br><br>Section 11 ("Changes since <a href="/doc/rfc6833/">RFC 6833</a>") is inaccurate (see COMMENT).&nbsp; I did<br>not check whether it is complete, but someone needs to do so before final<br>publication.<br><br><br>The following items were present in my original DISCUSS position and still<br>have not been resolved.&nbsp; Note that I copy below the previous ballot text<br>even for some issues that are described above already in different words.<br><br>A 64-bit nonce is used, apparently as a request/response correlator, but<br>the actual (cryptographic?) properties required from the nonce in the<br>protocol are not clearly covered.&nbsp; In some cryptographic contexts a 64-bit<br>nonce may be too short; I do not believe that this is the case here, but<br>without a clear picture of what the requirements are it's hard to say for<br>sure.&nbsp; <br>[ed. there was some previous discussion about 24-bit nonces that has been<br>removed from the text, but the core question of what properties the nonce<br>is required to provide remains unaddressed in the document text.&nbsp; There is<br>also a field called 'Nonce' that is used as a s equence number, the<br>requirements for which are partially described in the new text.]<br><br>The layout of the document is somewhat confusing, in a way that could<br>arguably lead to noninteroperable implemnetations.&nbsp; For example, the<br>section on the Map-Register message format includes descriptions of the<br>fields in the records and locators therein, and the section on Map-Notify<br>reuses that portion of the structure, incorporating the field descriptions<br>by reference.&nbsp; But the Map-Register section does not indicate that its<br>descriptions are to apply in both cases, leading to confusing text that<br>talks about values being set or cases that are not possible for a<br>Map-Register (i.e., the section nominally being described).&nbsp; It would be<br>most clear to have a dedicated subsection for the portion of the<br>structure(s) that is being reused, which would allow for the per-field<br>descriptions to clearly indicate in which scope they are defined.&nbsp; But the<br>more minimal change of just indicating that the primary definition will be<br>"dual use" would probably suffice as well.<br>The Map-Reply record/locator descriptions are reused similarly; I made a<br>comment on section 5.4 that lists a specific instance, though I believe the<br>phenomenon is more general.<br>[ed. this was partially addressed, but the request to examine all data<br>structure reuse (note that "for example" was used) was not heeded]<br><br>Similarly, there are many instances (some noted in my Comment) where a<br>bidirectional interaction between two xTRs is described, yet the peers are<br>identified as "ITR" and "ETR".&nbsp; This is very confusing when the entity<br>named as "ITR" is described as performing ETR functionality, or vice versa;<br>pedagogically, it would be much better to use non-role-based names for the<br>entities while describing these exchanges.<br>[ed. there was some improvement here; I still note some potential sites for<br>confusion in the COMMENT]<br><br>While I see that there is an entire document dedicated to Map-Versioning<br>and thus we do not need to fully cover everything here, I think it is<br>critically important to be clear that there are consistency requirements<br>attached to map versions, as relating to the stability of membership of<br>RLOCs in a given record, etc.&nbsp; (I cannot be very clear hear since I am not<br>entirely confident of the details of the consistency requirements yet.)<br><br>I think we need greater clarity on the 'E' and 'M' bits in the ECM format;<br>more in the Comment section.<br>[ed. the reader will need to consult the original ballot's COMMENT section<br>and not the current one]<br><br>Section 8.1 says:<br>&nbsp;  o&nbsp; A Negative Map-Reply, with action code of "Natively-Forward", from<br>&nbsp; &nbsp; &nbsp; a Map-Server that is authoritative for an EID-Prefix that matches<br>&nbsp; &nbsp; &nbsp; the requested EID but that does not have an actively registered,<br>&nbsp; &nbsp; &nbsp; more-specific ID-prefix.<br>This document provides no mechanism to establish that a Map-Server is<br>authoritative for a given EID-Prefix, so this entire case is<br>non-actionable.<br>[ed. I think there may have been some previous discussion on this (e.g.,<br>that might render it moot) but couldn't find it quickly]<br><br>Section 8.2 says:<br>&nbsp;  An ETR publishes its EID-Prefixes on a Map-Server by sending LISP<br>&nbsp;  Map-Register messages.&nbsp; A Map-Register message includes<br>&nbsp;  authentication data, so prior to sending a Map-Register message, the<br>&nbsp;  ETR and Map-Server SHOULD be configured with a shared secret or other<br>&nbsp;  relevant authentication information.<br>This cannot be a SHOULD if things are to work properly; it has to be MUST.<br><br>Section 8.2 also says:<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; As developers<br>&nbsp;  and operators gain experience with the mapping system, additional,<br>&nbsp;  stronger security measures may be added to the registration process.<br>This kind of language for forward-looking guidance indicates that the<br>current security properties are not well-understood by the authors and is<br>inconsistent with Proposed Standard status.<br><br>I think the MUST and SHOULD requirements for implementing cryptographic<br>primitives are generally swapped; the more-secure ones (e.g.,<br>HMAC-SHA-256-128) should be MUST, and the legacy algorithms needed for<br>compatibility with existing deployments would be SHOULD.<br><br>Section 9 currently states:<br>&nbsp;  [a]s noted in Section 8.2, a Map-Server SHOULD verify that all EID-<br>&nbsp;  Prefixes registered by an ETR match the configuration stored on the<br>&nbsp;  Map-Server.<br>I think we need a MUST-level requirement for verifying authorization for a<br>given EID-Prefix, with one way of satisfying the requirement being checking<br>configuration, but allowing for other means as well.</div></td>
                </tr>
            
                <tr id="history-648396">
                    <td>
                        <div title="2019-02-07 05:50:27 -0800">2019-02-07</div>
                    </td>
                    <td class="text-end">24</td>
                    <td>Benjamin Kaduk</td>
                    <td><div class="snippet">[Ballot comment]<br>Abstract<br><br>&nbsp;  This document describes the Control-Plane and Mapping Service for the<br>&nbsp;  Locator/ID Separation Protocol (LISP), implemented by two new types<br>&nbsp; â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">[Ballot comment]<br>Abstract<br><br>&nbsp;  This document describes the Control-Plane and Mapping Service for the<br>&nbsp;  Locator/ID Separation Protocol (LISP), implemented by two new types<br>&nbsp;  of LISP-speaking devices -- the LISP Map-Resolver and LISP Map-Server<br><br>This is a -bis document; is "new" really appropriate?&nbsp; (It also appears in<br>the Introduction, of course.)<br><br>Section 1<br><br>&nbsp;  LISP is not intended to address problems of connectivity and scaling<br>&nbsp;  on behalf of arbitrary communicating parties.&nbsp; Relevant situations<br>&nbsp;  are described in the scoping section of the introduction to<br>&nbsp;  [<a href="/doc/draft-ietf-lisp-rfc6830bis/">I-D.ietf-lisp-rfc6830bis</a>].<br><br>It looks like we inline that text into this document as Section 1.1, below;<br>perhaps this paragraph is no longer needed, then?<br><br>Section 2<br><br>I don't think the&nbsp; "In may IETF documents...near the beginning of their<br>document" needs to be included, as the genart reviewer noted.<br><br>Section 4<br><br>&nbsp;  A Map-Server is a device that publishes EID-Prefixes in a LISP<br>&nbsp;  mapping database on behalf of a set of ETRs.&nbsp; When it receives a Map<br>&nbsp;  Request (typically from an ITR), it consults the mapping database to<br><br>nit: isn't it typically from a Map-Resolver (or other<br>mapping-system-internal entity)?&nbsp; It's originally from an ITR, of course,<br>but the flow assumed by this document is described as<br>ITR-&gt;Map-Resolver-&gt;mapping-system-internals-&gt;Map-Server-&gt;ETR.<br><br>&nbsp;  Note that while it is conceivable that a Map-Resolver could cache<br>&nbsp;  responses to improve performance, issues surrounding cache management<br>&nbsp;  will need to be resolved so that doing so will be reliable and<br><br>nit: s/will/would/?<br><br>&nbsp;  practical.&nbsp; As initially deployed, Map-Resolvers will operate only in<br>&nbsp;  a non-caching mode, decapsulating and forwarding Encapsulated Map<br>&nbsp;  Requests received from ITRs.&nbsp; Any specification of caching<br>&nbsp;  functionality is out of scope for this document.<br><br>I think it's better to say something like "In this specification," rather<br>than "As initially deployed".<br><br>Also, I've confused myself a couple times from this -- it's only the<br>Map-Resolver that doesn't cache; the ITR is free to cache.&nbsp; It might be<br>helpful to call out that distinction here.<br><br>Section 5<br><br>I still think it's needlessly confusing to duplicate the IP/UDP header<br>layout figure here, at least without a prefacing comment noting that this<br>is the standard IP+UDP header with the IP addresses replaced by RLOCs.<br>But this is a non-blocking comment and the authors have already replied, so<br>feel free to ignore.<br><br>&nbsp;  Implementations MUST be prepared to accept packets when either the<br>&nbsp;  source port or destination UDP port is set to 4342 due to NATs<br>&nbsp;  changing port number values.<br><br>It's not entirely clear to me what this requirement is saying.<br><br>Section 5.2<br><br>&nbsp;  A: This is an authoritative bit, which is set to 0 for UDP-based Map-<br>&nbsp; &nbsp; &nbsp; Requests sent by an ITR.&nbsp; It is set to 1 when an ITR wants the<br>&nbsp; &nbsp; &nbsp; destination site to return the Map-Reply rather than the mapping<br>&nbsp; &nbsp; &nbsp; database system returning a Map-Reply.<br><br>Given that we've already disclaimed caching in the mapping system, aren't<br>all responses supposed to come from the destination site rather than the<br>mapping system?&nbsp; Searching the rest of the document for the string<br>"authoritative" suggests that this is perhaps intended to avoid proxying<br>behavior from terminating Map-Servers (but when an ETR requests proxying is<br>it still guaranteed to be able to generate its own Map-Replys?), in which<br>case this could probably be phrased better.<br><br>&nbsp;  P: This is the probe-bit, which indicates that a Map-Request SHOULD<br>&nbsp; &nbsp; &nbsp; be treated as a Locator reachability probe.&nbsp; The receiver SHOULD<br>&nbsp; &nbsp; &nbsp; respond with a Map-Reply with the probe-bit set, indicating that<br>&nbsp; &nbsp; &nbsp; the Map-Reply is a Locator reachability probe reply, with the<br>&nbsp; &nbsp; &nbsp; nonce copied from the Map-Request. [...]<br><br>Why are these only SHOULD?<br><br>I still think it is needlessly confusing to have bit labels that differ<br>only by letter case.&nbsp; While this may not be confusing for the authors,<br>there are plenty of other people who could potentially be confused by it.<br>(Also, why are there two bits 'R' next to a 'Rsvd' field that all have the<br>same "reserved" semantics?)<br><br>&nbsp;  L: This is the local-xtr bit.&nbsp; It is used by an xTR in a LISP site to<br>&nbsp; &nbsp; &nbsp; tell other xTRs in the same site that it is part of the RLOC-set<br>&nbsp; &nbsp; &nbsp; for the LISP site.&nbsp; The L-bit is set to 1 when the RLOC is the<br>&nbsp; &nbsp; &nbsp; sender's IP address.<br><br>At this point in the document, we haven't seen anything to suggest that an<br>xTR is going to be sending Map-Requests to other xTRs in the same site; a<br>forward reference is probably in order.<br><br>&nbsp;  D: This is the dont-map-reply bit.&nbsp; It is used in the SMR procedure<br>&nbsp; &nbsp; &nbsp; described in Section 6.1.&nbsp; When an xTR sends an SMR Map-Request<br>&nbsp; &nbsp; &nbsp; message, it doesn't need a Map-Reply returned.&nbsp; When this bit is<br>&nbsp; &nbsp; &nbsp; set, the receiver of the Map-Request does not return a Map-Reply.<br><br>nit: I'd suggest consolidating the behavior description and leaving the<br>explanations all at the end, so "This is the dont-map-reply bit.&nbsp; When this<br>bit is set, the receiver of the Map-Request does not return a Map-Reply.<br>It is used in the SMR procedure described in Section 6.1; when an xTR<br>sends an SMR Map-Request message, it doesn't need a Map-Reply returned."<br><br>&nbsp; &nbsp; &nbsp; Support for processing multiple EIDs in a single Map-Request<br>&nbsp; &nbsp; &nbsp; message will be specified in a future version of the protocol.<br><br>I would suggest not using the assertive future tense here, as we cannot<br>really bind our future actions to guarantee its truth.&nbsp; Wordings like "may<br>be specified" or "is left for a future version" are alternative options.<br><br>&nbsp;  EID mask-len:&nbsp; This is the mask length for the EID-Prefix.<br><br>In bits, right? ...<br><br>&nbsp;  EID-Prefix:&nbsp; This prefix address length is 4 octets for an IPv4<br>&nbsp; &nbsp; &nbsp; address family and 16 octets for an IPv6 address family when the<br><br>... then maybe we shouldn't switch to bytes for just one sentence (and go<br>back to bits later in the paragraph)?<br><br>&nbsp; &nbsp; &nbsp; entry, the EID-Prefix is set to the destination IP address of the<br>&nbsp; &nbsp; &nbsp; data packet, and the 'EID mask-len' is set to 32 or 128 for IPv4<br>&nbsp; &nbsp; &nbsp; or IPv6, respectively.&nbsp; When an xTR wants to query a site about<br><br>Is this really an xTR-specific action, or does it apply to any ITR<br>functionality?<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; This allows the ETR that will receive this Map-Request to<br>&nbsp; &nbsp; &nbsp; cache the data if it chooses to do so.<br><br>OTOH, this one does seem to require an xTR.<br><br>Section 5.3<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  For the initial case, the destination IP<br>&nbsp;  address used for the Map-Request is the data packet's destination<br>&nbsp;  address (i.e., the destination EID) that had a mapping cache lookup<br>&nbsp;  failure.&nbsp; [...]<br><br>This seems like a type mismatch between RLOC/EID -- per the headers, the<br>destination address should be an RLOC, but we are forced to use an EID in<br>this case.&nbsp; The disparity should probably be called out and explained,<br>e.g., clarify that it's okay to use an EID as destination inside ECM<br>encapsulation (and, apparently, if we believe Section 5.8, that it's<br>required to do so).<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; A successful Map-Reply, which is<br>&nbsp;  one that has a nonce that matches an outstanding Map-Request nonce,<br>&nbsp;  will update the cached set of RLOCs associated with the EID-Prefix<br>&nbsp;  range.<br><br>nit: A negative Map-Reply will match the nonce.&nbsp; Will it also update the<br>cached set?&nbsp; Is it still considered to be "successful"?<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; If the ITR erroneously<br>&nbsp;  provides no ITR-RLOC addresses, the Map-Replier MUST drop the Map-<br>&nbsp;  Request.<br><br>I see we talked about this last time around; did you want to add some text<br>about how, despite the protocol message not definitionally allowing for<br>this detection, in practice it is still possible?<br><br>&nbsp;  Request.&nbsp; When an ETR configured to accept and verify such<br>&nbsp;  "piggybacked" mapping data receives such a Map-Request and it does<br><br>So, "(i.e., it is also an ITR)"?<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  If the ETR (when it is an xTR co-located as an<br>&nbsp;  ITR) has a Map-Cache entry that matches the "piggybacked" EID and the<br>&nbsp;  RLOC is in the Locator-Set for the entry, then it MAY send the<br><br>nit: "cached entry" would help clarify the prerequisites here.<br><br>&nbsp;  source.&nbsp; If the RLOC is not in the Locator-Set, then the ETR MUST<br>&nbsp;  send the "verifying Map-Request" to the "piggybacked" EID.&nbsp; [...]<br><br>"send ... to the [...] EID" seems like a type mismatch again, since we only<br>can send Map-Requests to RLOCs.<br><br>Section 5.4<br><br>&nbsp; &nbsp; &nbsp; Map-Request.&nbsp; See RLOC-probing Section 7.1 for more details.&nbsp; When<br>&nbsp; &nbsp; &nbsp; the probe-bit is set to 1 in a Map-Reply message, the A-bit in<br>&nbsp; &nbsp; &nbsp; each EID-record included in the message MUST be set to 1.<br><br>Do we want to specify any special handling if that NUST is disobeyed?<br><br>&nbsp;  S: This is the Security bit.&nbsp; When set to 1, the following<br>&nbsp; &nbsp; &nbsp; authentication information will be appended to the end of the Map-<br>&nbsp; &nbsp; &nbsp; Reply.&nbsp; The details of signing a Map-Reply message can be found in<br>&nbsp; &nbsp; &nbsp; [<a href="/doc/draft-ietf-lisp-sec/">I-D.ietf-lisp-sec</a>].<br><br>Please do not use the word "signing" here; it is a term of art that is not<br>appropriate to the actual operation performed.<br><br>&nbsp;  Record TTL:&nbsp; This is the time in minutes the recipient of the Map-<br>&nbsp; &nbsp; &nbsp; Reply will store the mapping.&nbsp; If the TTL is 0, the entry MUST be<br><br>I think "can" is more appropriate than "will"; generally a local cache can<br>safely be invalidated at will.<br><br>&nbsp;  Locator Count:&nbsp; This is the number of Locator entries.&nbsp; A Locator<br><br>Please scope this to "in the given Record".<br><br>&nbsp;  EID mask-len:&nbsp; This is the mask length for the EID-Prefix.<br><br>(in bits, right?)<br><br>&nbsp;  ACT:&nbsp; This 3-bit field describes Negative Map-Reply actions.&nbsp; In any<br>&nbsp; &nbsp; &nbsp; other message type, these bits are set to 0 and ignored on<br>&nbsp; &nbsp; &nbsp; receipt.&nbsp; These bits are used only when the 'Locator Count' field<br>&nbsp; &nbsp; &nbsp; is set to 0.&nbsp; The action bits are encoded only in Map-Reply<br>&nbsp; &nbsp; &nbsp; messages.&nbsp; [...]<br><br>This is the section on Map-Reply messages; why are we talking about other<br>message types?&nbsp; Also, do we want to mention that the possible values are<br>managed by IANA?<br><br>&nbsp;  A: The Authoritative bit, when set to 1, is always set to 1 by an<br>&nbsp; &nbsp; &nbsp; ETR.&nbsp; When a Map-Server is proxy Map-Replying for a LISP site, the<br>&nbsp; &nbsp; &nbsp; Authoritative bit is set to 0.&nbsp; This indicates to requesting ITRs<br>&nbsp; &nbsp; &nbsp; that the Map-Reply was not originated by a LISP node managed at<br>&nbsp; &nbsp; &nbsp; the site that owns the EID-Prefix.<br><br>nit: This text is needlessly confusing.&nbsp; How about "The authoritative bit<br>can only be set to 1 by an ETR (and not a Map-Server generating Map-Reply<br>messages as a proxy).&nbsp; If this bit is set to 0, that indicates ..."?<br><br>Section 5.5<br><br>Please provide a link/reference for Data-Probe on first usage.<br><br>&nbsp;  For each Map-Reply record, the list of Locators in a Locator-Set MUST<br>&nbsp;  appear in the same order for each ETR that originates a Map-Reply<br>&nbsp;  message.&nbsp; The Locator-Set MUST be sorted in order of ascending IP<br>&nbsp;  address where an IPv4 locator address is considered numerically 'less<br>&nbsp;  than' an IPv6 locator address.<br><br>IIUC, there is no need for "MUST appear in the same order" if you also<br>mandate a specific sorting function.<br><br>Section 5.6<br><br>&nbsp;  P: This is the proxy Map-Reply bit.&nbsp; When set to 1, an ETR sends a<br>&nbsp; &nbsp; &nbsp; Map-Register message requesting the Map-Server to proxy a Map-<br>&nbsp; &nbsp; &nbsp; Reply.&nbsp; [...]<br><br>nit: "just one?"<br><br>Do you want to give a mnemonic for the 'I' bit?<br><br>The "Nonce" field is acting as a sequence number, not just as a number used<br>once.&nbsp; I strongly suggest changing the name accordingly.<br><br>&nbsp;  Authentication Data Length:&nbsp; This is the length in octets of the<br>&nbsp; &nbsp; &nbsp; 'Authentication Data' field that follows this field.&nbsp; The length<br>&nbsp; &nbsp; &nbsp; of the 'Authentication Data' field is dependent on the MAC<br>&nbsp; &nbsp; &nbsp; algorithm used.&nbsp; The length field allows a device that doesn't<br>&nbsp; &nbsp; &nbsp; know the MAC algorithm to correctly parse the packet.<br><br>Why does a device that won't be able to validate the authentication data<br>need to be able to parse the packet?&nbsp; I thought all Map-Registers needed to<br>be authenticated.<br><br>&nbsp;  xTR-ID:&nbsp; xTR-ID is a 128 bit field at the end of the Map-Register<br>&nbsp; &nbsp; &nbsp; message, starting after the final Record in the message.&nbsp; The xTR-<br>&nbsp; &nbsp; &nbsp; ID is used to uniquely identify a xTR.&nbsp; The same xTR-ID value MUST<br>&nbsp; &nbsp; &nbsp; NOT be used in two different xTRs.<br><br>Globally, over all time?&nbsp; Within a single LISP domain, over all time?<br>Please be specific.<br><br>&nbsp;  Site-ID:&nbsp; Site-ID is a 64 bit field at the end of the Map- Register<br>&nbsp; &nbsp; &nbsp; message, following the xTR-ID.&nbsp; Site-ID is used to uniquely<br>&nbsp; &nbsp; &nbsp; identify to which site the xTR that sent the message belongs.<br><br>Where is a (LISP) "site" formally defined?&nbsp; Are there weird topologies or<br>edge cases that we need to consider when assigning numbers, risk of having<br>two IDs that might validly apply to a single xTR, etc.?<br><br>Section 5.7<br><br>(If Nonce is renamed above, it should be renamed here as well.)<br><br>&nbsp;  The fields of the Map-Notify are copied from the corresponding Map-<br>&nbsp;  Register to acknowledge its correct processing.&nbsp; [...]<br><br>Is the authentication data recomputed?<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; The fields of the Map-Notify-Ack<br>&nbsp;  are copied from the corresponding Map-Notify message to acknowledge<br>&nbsp;  its correct processing.<br><br>(ditto)<br><br>&nbsp;  The Map-Notify-Ack message has the same contents as a Map-Notify<br>&nbsp;  message.&nbsp; It is used to acknowledge the receipt of a Map-Notify<br>&nbsp;  (solicited or unsolicited) and for the sender to stop retransmitting<br><br>So a normal exchange would include Map-Register, Map-Notify, and<br>Map-Notify-Ack?<br><br>&nbsp;  A Map-Server sends an unsolicited Map-Notify message (one that is not<br>&nbsp;  used as an acknowledgment to a Map-Register message) that follows the<br>&nbsp;  Congestion Control And Relability Guideline sections of [<a href="/doc/rfc8085/">RFC8085</a>].&nbsp; A<br><br>This second clause ("that follows") is rather a non sequitur here.&nbsp; And we<br>still don't know what purpose the unsolicited Map-Notify serves!<br><br>&nbsp;  Map-Notify is retransmitted until a Map-Notify-Ack is received by the<br>&nbsp;  Map-Server with the same nonce used in the Map-Notify message.&nbsp; If a<br><br>Presumably we care about (e.g.) the key ID matching and the authentication<br>data validating, as well?<br><br>&nbsp;  Map-Notify-Ack is never received by the Map-Server, it issues a log<br>&nbsp;  message.&nbsp; An implementation SHOULD retransmit up to 3 times at 3<br>&nbsp;  second retransmission intervals, after which time the retransmission<br>&nbsp;  interval is exponentially backed-off for another 3 retransmission<br><br>"exponentially" is not well defined unless the base of the exponent is<br>specified.<br><br>&nbsp;  attempts.&nbsp; After this time, an xTR can only get the RLOC-set change<br>&nbsp;  by later querying the mapping system or by RLOC-probing one of the<br>&nbsp;  RLOCs of the existing cached RLOC-set to get the new RLOC-set.<br><br>What RLOC-set change?&nbsp; This text doesn't seem to indicate what<br>functionality is going on here.<br><br>Section 5.8<br><br>&nbsp;  An Encapsulated Control Message (ECM) is used to encapsulate control<br>&nbsp;  packets sent between xTRs and the mapping database system.<br><br>Some of the flag bit descriptions appear to describe usages that are or can<br>be entirely within the mapping system.<br><br>&nbsp;  D:&nbsp; &nbsp; This is the DDT-bit.&nbsp; When set to 1, the sender is requesting a<br>&nbsp; &nbsp; &nbsp; &nbsp;  Map-Referral message to be returned.&nbsp; The details of this<br>&nbsp; &nbsp; &nbsp; &nbsp;  procedure are described in [<a href="/doc/rfc8111/">RFC8111</a>].<br><br>E.g., here, the sender can be (IIUC) within the mapping system.<br><br>&nbsp;  E:&nbsp; &nbsp; This is the to-ETR bit.&nbsp; When set to 1, the Map-Server's<br>&nbsp; &nbsp; &nbsp; &nbsp;  intention is to forward the ECM to an authoritative ETR.<br><br>I'm not sure that "intention" is quite right, here -- as far as this<br>document is concerned, a Map-Server will always know whether it is sending<br>an ECM to an authoritative ETR.&nbsp; Also, this bit does not seem to be used<br>for anything within this document, and no external reference is given.<br><br>Are the 'M' and 'E' bits mutally exclusive?&nbsp; (Would we even care?)<br><br>I suggest adding more text about which sender/receiver pairs are permitted<br>(or allowed or expected) to set the D, E, and M bits.<br><br>&nbsp; &nbsp; &nbsp; &nbsp;  invoking Map-Request.&nbsp; Port number 4341 MUST NOT be assigned to<br>&nbsp; &nbsp; &nbsp; &nbsp;  either port.&nbsp; The checksum field MUST be non-zero.<br><br>This is the only place in this document that we disallow port 4341.&nbsp; Should<br>we also be disallowing it from being used as the non-4342 port for other<br>exchanges?<br><br>&nbsp;  LCM:&nbsp; The format is one of the control message formats described in<br>&nbsp; &nbsp; &nbsp; &nbsp;  this section.&nbsp; [...]<br><br>nit: "this section" means 5.8; presumably we mean Section 5.<br><br>Section 6.1<br><br>I agree with Warren that the direct usage of mapping information included<br>in an SMR presents a substantial attack surface, both for DoS and<br>potentially for redirecting traffic wholesale (whether for snooping<br>purposes or use as volumetric DoS to a third-party target).&nbsp; There is some<br>discussion of the risks of spoofing with this sort of "gleaming" behavior,<br>but I strongly suggest mentioning something like "this technique presents a<br>risk of off-path spoofing; see Section 9 for details" at each such<br>non-validated scheme for learning mapping information.<br><br>&nbsp;  Since ETRs are not required to keep track of remote ITRs that have<br>&nbsp;  cached their mappings, they do not know which ITRs need to have their<br>&nbsp;  mappings updated.&nbsp; As a result, an ETR will solicit Map-Requests<br>&nbsp;  (called an SMR message) to those sites to which it has been sending<br>&nbsp;  LISP encapsulated data packets for the last minute.&nbsp; In particular,<br>&nbsp;  an ETR will send an SMR to an ITR to which it has recently sent<br>&nbsp;  encapsulated data.&nbsp; This can only occur when both ITR and ETR<br>&nbsp;  functionality reside in the same router.<br><br>I still think that this text is needlessly confusing about which action is<br>taken by which router, and could be improved as, e.g., "this can only occur<br>when the ETR also provides ITR functionality (that is, it is an xTR)".<br><br>&nbsp;  Both the SMR sender and the Map-Request responder MUST rate-limit<br>&nbsp;  these messages.&nbsp; Rate-limiting can be implemented as a global rate-<br>&nbsp;  limiter or one rate-limiter per SMR destination.<br><br>What is the goal of this rate-limiting; how is the threshold determined?<br><br>&nbsp;  The following procedure shows how an SMR exchange occurs when a site<br>&nbsp;  is doing Locator-Set compaction for an EID-to-RLOC mapping:<br><br>Where is locator-set compaction defined?<br><br>Throughout this whole example, "the site with the changed mapping" and "the<br>site that sent the Map-Request" are kind of clunky phrases; it might be<br>cleaner writing to give them names (like "site A" and "site B").<br><br>&nbsp;  2.&nbsp; A remote ITR that receives the SMR message will schedule sending<br>&nbsp; &nbsp; &nbsp;  a Map-Request message to the source locator address of the SMR<br>&nbsp; &nbsp; &nbsp;  message or to the mapping database system.&nbsp; [...]<br><br>How does the ITR decide which destination to send the Map-Request to?<br><br>&nbsp; &nbsp; &nbsp;  copied from the SMR message.&nbsp; If the source Locator is the only<br>&nbsp; &nbsp; &nbsp;  Locator in the cached Locator-Set, the remote ITR SHOULD send a<br> <br>just to double-check: this is the source Locator from the SMR?<br><br>&nbsp; &nbsp; &nbsp;  Map-Request to the database mapping system just in case the<br>&nbsp; &nbsp; &nbsp;  single Locator has changed and may no longer be reachable to<br>&nbsp; &nbsp; &nbsp;  accept the Map-Request.<br><br>Is this the only case that the Map-Request would go to the mapping system?<br><br>&nbsp;  3.&nbsp; The remote ITR MUST rate-limit the Map-Request until it gets a<br>&nbsp; &nbsp; &nbsp;  Map-Reply while continuing to use the cached mapping.&nbsp; When<br><br>nit: I suggest a comma after "Map-Reply" to avoid the misparse that the<br>Map-Reply must be received while the cached mapping is in use (and that the<br>rate limiting would continue indefinitely if the cached mapping expired in<br>the meantime).<br><br>&nbsp;  5.&nbsp; The ETRs at the site with the changed mapping record the fact<br>&nbsp; &nbsp; &nbsp;  that the site that sent the Map-Request has received the new<br>&nbsp; &nbsp; &nbsp;  mapping data in the Map-Cache entry for the remote site so the<br>&nbsp; &nbsp; &nbsp;  Locator-Status-Bits are reflective of the new mapping for packets<br>&nbsp; &nbsp; &nbsp;  going to the remote site.&nbsp; [...]<br><br>The Locator-Status-Bits in which direction?&nbsp; (Probably should also give a<br>section ref to 6830bis for the definition.)<br><br>&nbsp;  For security reasons, an ITR MUST NOT process unsolicited Map-<br>&nbsp;  Replies.&nbsp; To avoid Map-Cache entry corruption by a third party, a<br>&nbsp;  sender of an SMR-based Map-Request MUST be verified.&nbsp; If an ITR<br><br>To be clear, the verification here is essentially return-routability<br>verification, aka proof that the sender actually owns the claimed address,<br>right?&nbsp; I think it is appropriate to have some text noting the specific<br>behavior, and that this is not any sort of cryptographic or strongly<br>authenticated verification.<br><br>&nbsp;  receives an SMR-based Map-Request and the source is not in the<br>&nbsp;  Locator-Set for the stored Map-Cache entry, then the responding Map-<br>&nbsp;  Request MUST be sent with an EID destination to the mapping database<br>&nbsp;  system.&nbsp; [...]<br><br>What is an "SMR-based Map-Request" (also appears in the next paragraph and<br>one other place)?&nbsp; Is it just an SMR?&nbsp; If it's some actual Map-Request, I'm<br>confused at why an *I*TR would be receiving it.<br><br>Section 7<br><br>&nbsp;  3.&nbsp; An ITR may receive an ICMP Port Unreachable message from a<br>&nbsp; &nbsp; &nbsp;  destination host.&nbsp; This occurs if an ITR attempts to use<br>&nbsp; &nbsp; &nbsp;  interworking [<a href="/doc/rfc6832/">RFC6832</a>] and LISP-encapsulated data is sent to a<br>&nbsp; &nbsp; &nbsp;  non-LISP-capable site.<br><br>Is the ITR supposed to conclude that the RLOC is likely down in this<br>situation?<br><br>&nbsp;  When ITRs receive ICMP Network Unreachable or Host Unreachable<br>&nbsp;  messages as a method to determine unreachability, they will refrain<br>&nbsp;  from using Locators that are described in Locator lists of Map-<br>&nbsp;  Replies.&nbsp; [...]<br><br>Is this really as precise as it can be?&nbsp; It kind of sounds like it says<br>that all Map-Replies will be ignored when any ICMP Network/Host Unreachable<br>message is received.<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; If it does not find one and BGP is running in the Default-<br>&nbsp;  Free Zone (DFZ), it can decide to not use the Locator even though the<br><br>Is running in the DFZ consistent with the reduced scope of running in a<br>single administrative domain?<br><br>&nbsp;  Optionally, an ITR can send a Map-Request to a Locator, and if a Map-<br>&nbsp;  Reply is returned, reachability of the Locator has been determined.<br><br>Is this describing the same flow as item (5) above and Section 7.1 below?<br>If so, it seems totally redundant and could be omitted.<br><br>&nbsp;  Obviously, sending such probes increases the number of control<br>&nbsp;  messages originated by Tunnel Routers for active flows, so Locators<br>&nbsp;  are assumed to be reachable when they are advertised.<br><br>I'm not sure what "advertised" is intended to mean, here.&nbsp; Is it<br>"advertised into the mapping system"?&nbsp; But that is not directly visible to<br>the ITR, only indirectly through the results of an actual mapping request<br>(and even then, the Map-Reply from an ETR could be invalid, e.g.,<br>overclaiming, unless LISP-SEC is used.<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  Both Requests and Replies MUST be rate-<br>&nbsp;  limited.&nbsp; [...]<br><br>I believe this requirement duplicates requirements already made elsewhere;<br>the other locations also include more guidance on actual rates.<br><br>Section 7.1<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  A Map-Request used as<br>&nbsp;  an RLOC-probe is NOT encapsulated and NOT sent to a Map-Server or to<br>&nbsp;  the mapping database system as one would when soliciting mapping<br>&nbsp;  data.&nbsp; [..]<br><br>I strongly suggest using a word other than "soliciting" to avoid confusion<br>with SMR.<br><br>&nbsp;  data.&nbsp; The EID record encoded in the Map-Request is the EID-Prefix of<br>&nbsp;  the Map-Cache entry cached by the ITR or PITR.&nbsp; The ITR MAY include a<br><br>Is it worth reminding the reader that the source EID here is zero-length<br>and source-EID-AFI set to zero?<br><br>&nbsp;  mapping data record for its own database mapping information that<br>&nbsp;  contains the local EID-Prefixes and RLOCs for its site.&nbsp; [...]<br><br>To double-check: this mapping data record is included in the "Map-Reply<br>Record" field of the Map-Request message?&nbsp; It would probably help the<br>reader to be consistent about this terminology.<br><br>Section 8.1<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; In particular, the ITR<br>&nbsp;  need not connect to the LISP-ALT infrastructure or implement the BGP<br>&nbsp;  and GRE protocols that it uses.<br><br>Why does LISP-ALT get a callout but not (e.g.) LISP-DDT?<br><br>Section 8.3<br><br>&nbsp;  In response to a Map-Request (received over the ALT if LISP-ALT is in<br>&nbsp;  use), the Map-Server first checks to see if the destination EID<br><br>I see no reason to mention LISP-ALT here.<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; If the EID-prefix is registered or<br>&nbsp;  not registered and there is a authentication failure, then a Drop/<br><br>What is the authentication flow that would be failing here?&nbsp; The<br>Map-Register for the corresponding prefix?<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; If either of these<br>&nbsp;  actions result as a temporary state in policy or authentication then<br>&nbsp;  a Send-Map-Request action with 1-minute TTL MAY be returned to allow<br>&nbsp;  the requestor to retry the Map-Request.<br><br>How can an SMR have an associated TTL?&nbsp; The message format is that of a<br>regular Map-Request, is it not?<br><br>Section 8.4<br><br>&nbsp;  Upon receipt of an Encapsulated Map-Request, a Map-Resolver<br>&nbsp;  decapsulates the enclosed message and then searches for the requested<br>&nbsp;  EID in its local database of mapping entries (statically configured<br>&nbsp;  or learned from associated ETRs if the Map-Resolver is also a Map-<br>&nbsp;  Server offering proxy reply service). <br><br>This seems to be the first time the document admits the possibility for a<br>local database of mapping entries on a Map-Resolver; this makes me wonder<br>if there was an incomplete removal of such functionality from the document,<br>especially given that local caching of responses on the Map-Resolver is<br>explicitly disclaimed in Section 4.<br><br>Section 8.4.1<br><br>&nbsp;  ETRs MAY have anycast RLOC addresses which are registered as part of<br>&nbsp;  their RLOC-set to the mapping system.&nbsp; However, registrations MUST<br>&nbsp;  use their unique RLOC addresses or distinct authentication keys to<br>&nbsp;  identify security associations with the Map-Servers.<br><br>xTR-IDs cannot be used for this purpose?<br><br>Section 9<br><br>I think we should have some discussion here about how mapping information<br>gleamed from SMR messages does not necessarily benefit from the on-path<br>guarantee that the nonce provides for regular mapping-system exchanges.<br><br>&nbsp;  The 2-way LISP control-plane header nonce exchange can be used to<br>&nbsp;  avoid ITR spoofing attacks, but active on-path attackers (e.g 'man-<br><br>Do we really need to limit ourselves to "ITR spoofing" as opposed to<br>generic spoofing, here?<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  The Map-Register message is vulnerable to replay attacks by a<br>&nbsp;  man-in-the-middle.&nbsp; A compromised ETR can overclaim the prefix it<br>&nbsp;  owns and successfully register it on its corresponding Map-Server.<br>&nbsp;  To mitigate this and as noted in Section 8.2, a Map-Server SHOULD<br>&nbsp;  verify that all EID-Prefixes registered by an ETR match the<br>&nbsp;  configuration stored on the Map-Server.<br><br>The conversion of the Map-Register 'Nonce' field into a sequence number<br>provides some moderate remediation against the replay attack; that should<br>be included in this discussion.<br><br>&nbsp;  Encrypting control messages via DTLS [<a href="/doc/rfc6347/">RFC6347</a>] or LISP-crypto<br>&nbsp;  [<a href="/doc/rfc8061/">RFC8061</a>] SHOULD be used to support privacy to prevent eavesdroping<br>&nbsp;  and packet tampering for messages exchanged between xTRs, xTRs and<br>&nbsp;  the mapping system, and nodes that make up the mapping system.<br><br>nit: "to support privacy to prevent eavesdropping and packet tampering"<br>doesn't read as grammatical; is the "to support privacy" still needed?<br><br>Section 10<br><br>Thank you for adding the Privacy Considerations section; it is imporant to<br>document this property of the system and let the operator make informed<br>decisions.<br><br>&nbsp;  As noted by [<a href="/doc/rfc6973/">RFC6973</a>] privacy is a complex issue that greatly depends<br>&nbsp;  on the specific protocol use-case and deployment.&nbsp; As noted in<br>&nbsp;  section 1.1 of [<a href="/doc/draft-ietf-lisp-rfc6830bis/">I-D.ietf-lisp-rfc6830bis</a>] LISP focuses on use-cases<br><br>Also Section 1.1 of this document.<br><br>Section 11<br><br>&nbsp;  o&nbsp; The "m", "I", "L", and "D" bits are added to the Map-Request<br>&nbsp; &nbsp; &nbsp; message.&nbsp; See Section 5.3 for details.<br><br>Isn't this more a Section 5.2 thing than 5.3?&nbsp; Also, I don't see "m" or "I"<br>bits described (though I do see "M").<br><br>&nbsp;  o&nbsp; The "S", "I", "E", "T", "a", and "m" bits are added to the Map-<br>&nbsp; &nbsp; &nbsp; Register message.&nbsp; See Section 5.6 for details.<br><br>I see an "M" bit but not an "m" one.<br><br>Section 12.3<br><br>It feels a little weird to lump the ACT fields (which have a registry)<br>together in a section with the flag fields scattered throughout the<br>protocol (which do not).&nbsp; Is it bad to have separate subsections for them<br>(especially when Section 12.6 already exists and does provide a registry<br>for other flag bits)?<br><br>Section 12.6<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; A sub-registry needs to be created per each<br>&nbsp;  message and record.&nbsp; [...]<br><br>What is a "record" in this context?&nbsp; (It does not seem like a mapping<br>record.)<br><br>I mostly expect IANA to ask for a listing of which bits/ranges are/aren't<br>allocatabale.</div></td>
                </tr>
            
                <tr id="history-648395">
                    <td>
                        <div title="2019-02-07 05:50:27 -0800">2019-02-07</div>
                    </td>
                    <td class="text-end">24</td>
                    <td>Benjamin Kaduk</td>
                    <td>Ballot comment and discuss text updated for Benjamin Kaduk</td>
                </tr>
            
                <tr id="history-648365">
                    <td>
                        <div title="2019-02-07 03:21:29 -0800">2019-02-07</div>
                    </td>
                    <td class="text-end">24</td>
                    <td>Alexey Melnikov</td>
                    <td>[Ballot comment]<br>Thank you for addressing my DISCUSS.</td>
                </tr>
            
                <tr id="history-648364">
                    <td>
                        <div title="2019-02-07 03:21:29 -0800">2019-02-07</div>
                    </td>
                    <td class="text-end">24</td>
                    <td>Alexey Melnikov</td>
                    <td>[Ballot Position Update] Position for Alexey Melnikov has been changed to No Objection from Discuss</td>
                </tr>
            
                <tr id="history-648279">
                    <td>
                        <div title="2019-02-06 14:55:33 -0800">2019-02-06</div>
                    </td>
                    <td class="text-end">24</td>
                    <td>Warren Kumari</td>
                    <td>[Ballot comment]<br>I support the DISCUSSES - I was going to say "especially X's", but I support them all...</td>
                </tr>
            
                <tr id="history-648278">
                    <td>
                        <div title="2019-02-06 14:55:33 -0800">2019-02-06</div>
                    </td>
                    <td class="text-end">24</td>
                    <td>Warren Kumari</td>
                    <td>[Ballot Position Update] New position, No Objection, has been recorded for Warren Kumari</td>
                </tr>
            
                <tr id="history-648254">
                    <td>
                        <div title="2019-02-06 13:58:36 -0800">2019-02-06</div>
                    </td>
                    <td class="text-end">24</td>
                    <td>Alissa Cooper</td>
                    <td>[Ballot comment]<br>I find the SEC ADs' DISCUSS positions concerning and support the resolution of their security concerns.</td>
                </tr>
            
                <tr id="history-648253">
                    <td>
                        <div title="2019-02-06 13:58:36 -0800">2019-02-06</div>
                    </td>
                    <td class="text-end">24</td>
                    <td>Alissa Cooper</td>
                    <td>Ballot comment text updated for Alissa Cooper</td>
                </tr>
            
                <tr id="history-675713">
                    <td>
                        <div title="2019-02-05 18:43:50 -0800">2019-02-05</div>
                    </td>
                    <td class="text-end">24</td>
                    <td>Pete Resnick</td>
                    <td>Request for Telechat review by GENART Completed: Ready with Nits. Reviewer: Pete Resnick. Sent review to list.</td>
                </tr>
            
                <tr id="history-648004">
                    <td>
                        <div title="2019-02-05 07:55:06 -0800">2019-02-05</div>
                    </td>
                    <td class="text-end">24</td>
                    <td>Spencer Dawkins</td>
                    <td>[Ballot Position Update] New position, No Objection, has been recorded for Spencer Dawkins</td>
                </tr>
            
                <tr id="history-647907">
                    <td>
                        <div title="2019-02-04 21:39:45 -0800">2019-02-04</div>
                    </td>
                    <td class="text-end">24</td>
                    <td>Adam Roach</td>
                    <td>[Ballot Position Update] New position, No Objection, has been recorded for Adam Roach</td>
                </tr>
            
                <tr id="history-647894">
                    <td>
                        <div title="2019-02-04 19:09:10 -0800">2019-02-04</div>
                    </td>
                    <td class="text-end">24</td>
                    <td>Dino Farinacci</td>
                    <td>New version available: <b><a href="/doc/draft-ietf-lisp-rfc6833bis/24/">draft-ietf-lisp-rfc6833bis-24.txt</a></b></td>
                </tr>
            
                <tr id="history-647893">
                    <td>
                        <div title="2019-02-04 19:09:10 -0800">2019-02-04</div>
                    </td>
                    <td class="text-end">24</td>
                    <td>(System)</td>
                    <td>New version approved</td>
                </tr>
            
                <tr id="history-647892">
                    <td>
                        <div title="2019-02-04 19:08:58 -0800">2019-02-04</div>
                    </td>
                    <td class="text-end">24</td>
                    <td>(System)</td>
                    <td>Request for posting confirmation emailed to previous authors: Dino Farinacci , Albert Cabellos-Aparicio , Vince Fuller </td>
                </tr>
            
                <tr id="history-647891">
                    <td>
                        <div title="2019-02-04 19:08:57 -0800">2019-02-04</div>
                    </td>
                    <td class="text-end">24</td>
                    <td>Dino Farinacci</td>
                    <td>Uploaded new revision</td>
                </tr>
            
                <tr id="history-647832">
                    <td>
                        <div title="2019-02-04 09:10:22 -0800">2019-02-04</div>
                    </td>
                    <td class="text-end">23</td>
                    <td>Alvaro Retana</td>
                    <td><div class="snippet">[Ballot comment]<br>(1) s/rfc8113/draft-ietf-lisp-rfc8113bis<br><br>(2) Â§5.1: "Values in the "Not Assigned" range can be assigned according to procedures in [<a href="/doc/rfc8126/">RFC8126</a>]."&nbsp; This sentence is â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">[Ballot comment]<br>(1) s/rfc8113/draft-ietf-lisp-rfc8113bis<br><br>(2) Â§5.1: "Values in the "Not Assigned" range can be assigned according to procedures in [<a href="/doc/rfc8126/">RFC8126</a>]."&nbsp; This sentence is out of place because it doesn't specify which procedure...and the action is already specified in rfc8113bis anyway.<br><br>(3) s/Not assigned/Unassigned&nbsp; &nbsp;  To match what the registry says.</div></td>
                </tr>
            
                <tr id="history-647829">
                    <td>
                        <div title="2019-02-04 09:10:22 -0800">2019-02-04</div>
                    </td>
                    <td class="text-end">23</td>
                    <td>Alvaro Retana</td>
                    <td>Ballot comment text updated for Alvaro Retana</td>
                </tr>
            
                <tr id="history-665302">
                    <td>
                        <div title="2019-01-24 13:57:20 -0800">2019-01-24</div>
                    </td>
                    <td class="text-end">23</td>
                    <td>Jean Mahoney</td>
                    <td>Request for Telechat review by GENART is assigned to Pete Resnick</td>
                </tr>
            
                <tr id="history-646604">
                    <td>
                        <div title="2019-01-24 13:57:20 -0800">2019-01-24</div>
                    </td>
                    <td class="text-end">23</td>
                    <td>Jean Mahoney</td>
                    <td>Request for Telechat review by GENART is assigned to Pete Resnick</td>
                </tr>
            
                <tr id="history-665306">
                    <td>
                        <div title="2019-01-24 13:43:24 -0800">2019-01-24</div>
                    </td>
                    <td class="text-end">23</td>
                    <td>Tero Kivinen</td>
                    <td>Request for Telechat review by SECDIR is assigned to Takeshi Takahashi</td>
                </tr>
            
                <tr id="history-646600">
                    <td>
                        <div title="2019-01-24 13:43:24 -0800">2019-01-24</div>
                    </td>
                    <td class="text-end">23</td>
                    <td>Tero Kivinen</td>
                    <td>Request for Telechat review by SECDIR is assigned to Takeshi Takahashi</td>
                </tr>
            
                <tr id="history-646577">
                    <td>
                        <div title="2019-01-24 10:15:43 -0800">2019-01-24</div>
                    </td>
                    <td class="text-end">23</td>
                    <td>Amy Vezza</td>
                    <td>Telechat date has been changed to <b>2019-02-07</b> from <b>2018-09-27</b></td>
                </tr>
            
                <tr id="history-640674">
                    <td>
                        <div title="2018-12-10 12:46:57 -0800">2018-12-10</div>
                    </td>
                    <td class="text-end">23</td>
                    <td>Dino Farinacci</td>
                    <td>New version available: <b><a href="/doc/draft-ietf-lisp-rfc6833bis/23/">draft-ietf-lisp-rfc6833bis-23.txt</a></b></td>
                </tr>
            
                <tr id="history-640673">
                    <td>
                        <div title="2018-12-10 12:46:57 -0800">2018-12-10</div>
                    </td>
                    <td class="text-end">23</td>
                    <td>(System)</td>
                    <td>New version approved</td>
                </tr>
            
                <tr id="history-640672">
                    <td>
                        <div title="2018-12-10 12:46:36 -0800">2018-12-10</div>
                    </td>
                    <td class="text-end">23</td>
                    <td>(System)</td>
                    <td>Request for posting confirmation emailed to previous authors: Dino Farinacci , Albert Cabellos-Aparicio , Vince Fuller </td>
                </tr>
            
                <tr id="history-640671">
                    <td>
                        <div title="2018-12-10 12:46:35 -0800">2018-12-10</div>
                    </td>
                    <td class="text-end">23</td>
                    <td>Dino Farinacci</td>
                    <td>Uploaded new revision</td>
                </tr>
            
                <tr id="history-639365">
                    <td>
                        <div title="2018-11-30 12:41:00 -0800">2018-11-30</div>
                    </td>
                    <td class="text-end">22</td>
                    <td>Deborah Brungard</td>
                    <td>[Ballot comment]<br>This has been resolved.</td>
                </tr>
            
                <tr id="history-639364">
                    <td>
                        <div title="2018-11-30 12:41:00 -0800">2018-11-30</div>
                    </td>
                    <td class="text-end">22</td>
                    <td>Deborah Brungard</td>
                    <td>[Ballot Position Update] Position for Deborah Brungard has been changed to Yes from Discuss</td>
                </tr>
            
                <tr id="history-637268">
                    <td>
                        <div title="2018-11-14 10:29:02 -0800">2018-11-14</div>
                    </td>
                    <td class="text-end">22</td>
                    <td>Dino Farinacci</td>
                    <td>New version available: <b><a href="/doc/draft-ietf-lisp-rfc6833bis/22/">draft-ietf-lisp-rfc6833bis-22.txt</a></b></td>
                </tr>
            
                <tr id="history-637267">
                    <td>
                        <div title="2018-11-14 10:29:01 -0800">2018-11-14</div>
                    </td>
                    <td class="text-end">22</td>
                    <td>(System)</td>
                    <td>New version approved</td>
                </tr>
            
                <tr id="history-637266">
                    <td>
                        <div title="2018-11-14 10:28:49 -0800">2018-11-14</div>
                    </td>
                    <td class="text-end">22</td>
                    <td>(System)</td>
                    <td>Request for posting confirmation emailed to previous authors: Dino Farinacci , Albert Cabellos-Aparicio , Vince Fuller </td>
                </tr>
            
                <tr id="history-637265">
                    <td>
                        <div title="2018-11-14 10:28:48 -0800">2018-11-14</div>
                    </td>
                    <td class="text-end">22</td>
                    <td>Dino Farinacci</td>
                    <td>Uploaded new revision</td>
                </tr>
            
                <tr id="history-634371">
                    <td>
                        <div title="2018-11-04 04:16:34 -0800">2018-11-04</div>
                    </td>
                    <td class="text-end">21</td>
                    <td>Dino Farinacci</td>
                    <td>New version available: <b><a href="/doc/draft-ietf-lisp-rfc6833bis/21/">draft-ietf-lisp-rfc6833bis-21.txt</a></b></td>
                </tr>
            
                <tr id="history-634370">
                    <td>
                        <div title="2018-11-04 04:16:34 -0800">2018-11-04</div>
                    </td>
                    <td class="text-end">21</td>
                    <td>(System)</td>
                    <td>New version approved</td>
                </tr>
            
                <tr id="history-634369">
                    <td>
                        <div title="2018-11-04 04:16:22 -0800">2018-11-04</div>
                    </td>
                    <td class="text-end">21</td>
                    <td>(System)</td>
                    <td>Request for posting confirmation emailed to previous authors: Dino Farinacci , Albert Cabellos-Aparicio , Vince Fuller </td>
                </tr>
            
                <tr id="history-634368">
                    <td>
                        <div title="2018-11-04 04:16:21 -0800">2018-11-04</div>
                    </td>
                    <td class="text-end">21</td>
                    <td>Dino Farinacci</td>
                    <td>Uploaded new revision</td>
                </tr>
            
                <tr id="history-634367">
                    <td>
                        <div title="2018-11-04 04:14:21 -0800">2018-11-04</div>
                    </td>
                    <td class="text-end">20</td>
                    <td>Dino Farinacci</td>
                    <td>New version available: <b><a href="/doc/draft-ietf-lisp-rfc6833bis/20/">draft-ietf-lisp-rfc6833bis-20.txt</a></b></td>
                </tr>
            
                <tr id="history-634366">
                    <td>
                        <div title="2018-11-04 04:14:21 -0800">2018-11-04</div>
                    </td>
                    <td class="text-end">20</td>
                    <td>(System)</td>
                    <td>New version approved</td>
                </tr>
            
                <tr id="history-634365">
                    <td>
                        <div title="2018-11-04 04:14:06 -0800">2018-11-04</div>
                    </td>
                    <td class="text-end">20</td>
                    <td>(System)</td>
                    <td>Request for posting confirmation emailed to previous authors: Dino Farinacci , Albert Cabellos-Aparicio , Vince Fuller </td>
                </tr>
            
                <tr id="history-634364">
                    <td>
                        <div title="2018-11-04 04:14:06 -0800">2018-11-04</div>
                    </td>
                    <td class="text-end">20</td>
                    <td>Dino Farinacci</td>
                    <td>Uploaded new revision</td>
                </tr>
            
                <tr id="history-634213">
                    <td>
                        <div title="2018-11-03 22:07:01 -0700">2018-11-03</div>
                    </td>
                    <td class="text-end">19</td>
                    <td>Luigi Iannone</td>
                    <td>Added to session: IETF-103: lisp&nbsp; Mon-0900</td>
                </tr>
            
                <tr id="history-630950">
                    <td>
                        <div title="2018-10-21 18:53:52 -0700">2018-10-21</div>
                    </td>
                    <td class="text-end">19</td>
                    <td>Dino Farinacci</td>
                    <td>New version available: <b><a href="/doc/draft-ietf-lisp-rfc6833bis/19/">draft-ietf-lisp-rfc6833bis-19.txt</a></b></td>
                </tr>
            
                <tr id="history-630949">
                    <td>
                        <div title="2018-10-21 18:53:52 -0700">2018-10-21</div>
                    </td>
                    <td class="text-end">19</td>
                    <td>(System)</td>
                    <td>New version approved</td>
                </tr>
            
                <tr id="history-630948">
                    <td>
                        <div title="2018-10-21 18:53:42 -0700">2018-10-21</div>
                    </td>
                    <td class="text-end">19</td>
                    <td>(System)</td>
                    <td>Request for posting confirmation emailed to previous authors: Dino Farinacci , Albert Cabellos-Aparicio , Vince Fuller </td>
                </tr>
            
                <tr id="history-630947">
                    <td>
                        <div title="2018-10-21 18:53:40 -0700">2018-10-21</div>
                    </td>
                    <td class="text-end">19</td>
                    <td>Dino Farinacci</td>
                    <td>Uploaded new revision</td>
                </tr>
            
                <tr id="history-629317">
                    <td>
                        <div title="2018-10-14 05:41:00 -0700">2018-10-14</div>
                    </td>
                    <td class="text-end">18</td>
                    <td>Alexey Melnikov</td>
                    <td><div class="snippet">[Ballot discuss]<br>I have a list of smaller points that should be relatively easy to address. The two main ones:<br><br>I believe [<a href="/doc/draft-ietf-lisp-sec/">I-D.ietf-lisp-sec</a>] â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">[Ballot discuss]<br>I have a list of smaller points that should be relatively easy to address. The two main ones:<br><br>I believe [<a href="/doc/draft-ietf-lisp-sec/">I-D.ietf-lisp-sec</a>] needs to be a Normative Reference for this document. This will address<br>some of the issues raised by Benjamin, but will also make description of various security bits meaningful.</div></td>
                </tr>
            
                <tr id="history-629316">
                    <td>
                        <div title="2018-10-14 05:41:00 -0700">2018-10-14</div>
                    </td>
                    <td class="text-end">18</td>
                    <td>Alexey Melnikov</td>
                    <td><div class="snippet">[Ballot comment]<br>In 5.2:<br><br>&nbsp;  A: This is an authoritative bit, which is set to 0 for UDP-based Map-<br>&nbsp; &nbsp; &nbsp; Requests sent by â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">[Ballot comment]<br>In 5.2:<br><br>&nbsp;  A: This is an authoritative bit, which is set to 0 for UDP-based Map-<br>&nbsp; &nbsp; &nbsp; Requests sent by an ITR.&nbsp; It is set to 1 when an ITR wants the<br>&nbsp; &nbsp; &nbsp; destination site to return the Map-Reply rather than the mapping<br>&nbsp; &nbsp; &nbsp; database system.<br><br>This sentence seems to be missing a word at the end, because you don't return "the mapping database system".<br><br>11.4.&nbsp; LISP Address Type Codes<br><br>&nbsp;  Therefore, there is no longer a need for the "LISP Address Type<br>&nbsp;  Codes" registry requested by [<a href="/doc/rfc6830/">RFC6830</a>].&nbsp; This document requests to<br>&nbsp;  remove it.<br><br>IANA registries are not supposed to be removed, they typically declared closed when not needed.<br>Can you elaborate of whether this registry was ever used?</div></td>
                </tr>
            
                <tr id="history-629315">
                    <td>
                        <div title="2018-10-14 05:41:00 -0700">2018-10-14</div>
                    </td>
                    <td class="text-end">18</td>
                    <td>Alexey Melnikov</td>
                    <td>Ballot comment and discuss text updated for Alexey Melnikov</td>
                </tr>
            
                <tr id="history-629180">
                    <td>
                        <div title="2018-10-12 14:52:55 -0700">2018-10-12</div>
                    </td>
                    <td class="text-end">18</td>
                    <td>Dino Farinacci</td>
                    <td>New version available: <b><a href="/doc/draft-ietf-lisp-rfc6833bis/18/">draft-ietf-lisp-rfc6833bis-18.txt</a></b></td>
                </tr>
            
                <tr id="history-629179">
                    <td>
                        <div title="2018-10-12 14:52:54 -0700">2018-10-12</div>
                    </td>
                    <td class="text-end">18</td>
                    <td>(System)</td>
                    <td>New version approved</td>
                </tr>
            
                <tr id="history-629178">
                    <td>
                        <div title="2018-10-12 14:52:44 -0700">2018-10-12</div>
                    </td>
                    <td class="text-end">18</td>
                    <td>(System)</td>
                    <td>Request for posting confirmation emailed to previous authors: Dino Farinacci , Albert Cabellos-Aparicio , Vince Fuller </td>
                </tr>
            
                <tr id="history-629177">
                    <td>
                        <div title="2018-10-12 14:52:43 -0700">2018-10-12</div>
                    </td>
                    <td class="text-end">18</td>
                    <td>Dino Farinacci</td>
                    <td>Uploaded new revision</td>
                </tr>
            
                <tr id="history-627691">
                    <td>
                        <div title="2018-10-03 09:52:11 -0700">2018-10-03</div>
                    </td>
                    <td class="text-end">17</td>
                    <td>(System)</td>
                    <td>Sub state has been changed to <b>AD Followup</b> from <b>Revised ID Needed</b></td>
                </tr>
            
                <tr id="history-627690">
                    <td>
                        <div title="2018-10-03 09:52:08 -0700">2018-10-03</div>
                    </td>
                    <td class="text-end">17</td>
                    <td>Dino Farinacci</td>
                    <td>New version available: <b><a href="/doc/draft-ietf-lisp-rfc6833bis/17/">draft-ietf-lisp-rfc6833bis-17.txt</a></b></td>
                </tr>
            
                <tr id="history-627689">
                    <td>
                        <div title="2018-10-03 09:52:08 -0700">2018-10-03</div>
                    </td>
                    <td class="text-end">17</td>
                    <td>(System)</td>
                    <td>New version approved</td>
                </tr>
            
                <tr id="history-627688">
                    <td>
                        <div title="2018-10-03 09:51:51 -0700">2018-10-03</div>
                    </td>
                    <td class="text-end">17</td>
                    <td>(System)</td>
                    <td>Request for posting confirmation emailed to previous authors: Dino Farinacci , Albert Cabellos-Aparicio , Vince Fuller </td>
                </tr>
            
                <tr id="history-627687">
                    <td>
                        <div title="2018-10-03 09:51:50 -0700">2018-10-03</div>
                    </td>
                    <td class="text-end">17</td>
                    <td>Dino Farinacci</td>
                    <td>Uploaded new revision</td>
                </tr>
            
                <tr id="history-626989">
                    <td>
                        <div title="2018-09-27 07:41:48 -0700">2018-09-27</div>
                    </td>
                    <td class="text-end">16</td>
                    <td>Cindy Morgan</td>
                    <td>IESG state changed to <b>IESG Evaluation - Defer::Revised I-D Needed</b> from IESG Evaluation - Defer</td>
                </tr>
            
                <tr id="history-626975">
                    <td>
                        <div title="2018-09-27 07:00:41 -0700">2018-09-27</div>
                    </td>
                    <td class="text-end">16</td>
                    <td>Ben Campbell</td>
                    <td><div class="snippet">[Ballot comment]<br>I support the Security ADs DISCUSS positions.<br><br>I agree with Alexey that [<a href="/doc/draft-ietf-lisp-sec/">I-D.ietf-lisp-sec</a>] should be a normative reference. It seems to â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">[Ballot comment]<br>I support the Security ADs DISCUSS positions.<br><br>I agree with Alexey that [<a href="/doc/draft-ietf-lisp-sec/">I-D.ietf-lisp-sec</a>] should be a normative reference. It seems to me that the full security considerations depend upon it.<br><br>(I was unfortunately not able to do more than a cursory review due to external time constraints.)</div></td>
                </tr>
            
                <tr id="history-626974">
                    <td>
                        <div title="2018-09-27 07:00:41 -0700">2018-09-27</div>
                    </td>
                    <td class="text-end">16</td>
                    <td>Ben Campbell</td>
                    <td>Ballot comment text updated for Ben Campbell</td>
                </tr>
            
                <tr id="history-626969">
                    <td>
                        <div title="2018-09-27 06:58:05 -0700">2018-09-27</div>
                    </td>
                    <td class="text-end">16</td>
                    <td>Deborah Brungard</td>
                    <td>[Ballot discuss]<br>IANA has requested a Temporary Discuss related to issue with port assignments.</td>
                </tr>
            
                <tr id="history-626968">
                    <td>
                        <div title="2018-09-27 06:58:05 -0700">2018-09-27</div>
                    </td>
                    <td class="text-end">16</td>
                    <td>Deborah Brungard</td>
                    <td>[Ballot Position Update] Position for Deborah Brungard has been changed to Discuss from Yes</td>
                </tr>
            
                <tr id="history-626967">
                    <td>
                        <div title="2018-09-27 06:57:39 -0700">2018-09-27</div>
                    </td>
                    <td class="text-end">16</td>
                    <td>Ben Campbell</td>
                    <td><div class="snippet">[Ballot comment]<br>I support the Security ADs DISCUSS positions.<br><br>I agree with Alexey that [<a href="/doc/draft-ietf-lisp-sec/">I-D.ietf-lisp-sec</a>] should be a normative reference. It seems to â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">[Ballot comment]<br>I support the Security ADs DISCUSS positions.<br><br>I agree with Alexey that [<a href="/doc/draft-ietf-lisp-sec/">I-D.ietf-lisp-sec</a>] should be a normative reference. It seems to me that the full security considerations depend upon it.</div></td>
                </tr>
            
                <tr id="history-626966">
                    <td>
                        <div title="2018-09-27 06:57:39 -0700">2018-09-27</div>
                    </td>
                    <td class="text-end">16</td>
                    <td>Ben Campbell</td>
                    <td>[Ballot Position Update] New position, No Objection, has been recorded for Ben Campbell</td>
                </tr>
            
                <tr id="history-626952">
                    <td>
                        <div title="2018-09-27 06:36:37 -0700">2018-09-27</div>
                    </td>
                    <td class="text-end">16</td>
                    <td>Martin Vigoureux</td>
                    <td>[Ballot Position Update] New position, No Objection, has been recorded for Martin Vigoureux</td>
                </tr>
            
                <tr id="history-626942">
                    <td>
                        <div title="2018-09-27 06:27:22 -0700">2018-09-27</div>
                    </td>
                    <td class="text-end">16</td>
                    <td>Alexey Melnikov</td>
                    <td><div class="snippet">[Ballot discuss]<br>I have a list of smaller points that should be relatively easy to address. The two main ones:<br><br>I believe [<a href="/doc/draft-ietf-lisp-sec/">I-D.ietf-lisp-sec</a>] â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">[Ballot discuss]<br>I have a list of smaller points that should be relatively easy to address. The two main ones:<br><br>I believe [<a href="/doc/draft-ietf-lisp-sec/">I-D.ietf-lisp-sec</a>] needs to be a Normative Reference for this document. This will address<br>some of the issues raised by Benjamin, but will also make description of various security bits meaningful.<br><br>Similarly, in Section 5.6:<br><br>&nbsp;  I: This is the xTR-ID bit.&nbsp; When this bit is set, what is appended to<br>&nbsp; &nbsp; &nbsp; the Map-Register is a 128-bit xTR router-ID and then a 64-bit<br>&nbsp; &nbsp; &nbsp; site-ID.&nbsp; See LISP NAT-Traversal procedures in<br>&nbsp; &nbsp; &nbsp; [<a href="/doc/draft-ermagan-lisp-nat-traversal/">I-D.ermagan-lisp-nat-traversal</a>] for details.<br><br>This description makes [<a href="/doc/draft-ermagan-lisp-nat-traversal/">I-D.ermagan-lisp-nat-traversal</a>] a normative reference.</div></td>
                </tr>
            
                <tr id="history-626941">
                    <td>
                        <div title="2018-09-27 06:27:22 -0700">2018-09-27</div>
                    </td>
                    <td class="text-end">16</td>
                    <td>Alexey Melnikov</td>
                    <td><div class="snippet">[Ballot comment]<br>Abstract<br><br>&nbsp;  By using this Control-Plane service interface and communicating with<br>&nbsp;  Map-Resolvers and Map-Servers, LISP Ingress Tunnel Routers (ITRs) and<br>&nbsp;  Egress â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">[Ballot comment]<br>Abstract<br><br>&nbsp;  By using this Control-Plane service interface and communicating with<br>&nbsp;  Map-Resolvers and Map-Servers, LISP Ingress Tunnel Routers (ITRs) and<br>&nbsp;  Egress Tunnel Routers (ETRs) are not dependent on the details of<br>&nbsp;  mapping database systems, which facilitates modularity with different<br>&nbsp;  database designs.&nbsp; Since these devices implement the "edge" of the<br>&nbsp;  LISP Control-Plane infrastructure, connect directly to LISP-capable<br>&nbsp;  Internet end sites, and comprising the bulk of LISP-speaking devices,<br>&nbsp;  reducing their implementation and operational complexity should also<br>&nbsp;  reduce the overall cost and effort of deploying LISP.<br><br>The last sentence: I've reread it several times and still not sure what it says.<br>I suggest rewording, possibly breaking up into shorter sentences.<br><br><br>In Section 5.1 the acronym SMR is used before it is defined (It is defined on the next page).<br><br><br>In 5.2:<br><br>&nbsp;  A: This is an authoritative bit, which is set to 0 for UDP-based Map-<br>&nbsp; &nbsp; &nbsp; Requests sent by an ITR.&nbsp; It is set to 1 when an ITR wants the<br>&nbsp; &nbsp; &nbsp; destination site to return the Map-Reply rather than the mapping<br>&nbsp; &nbsp; &nbsp; database system.<br><br>This sentence seems to be missing a word at the end, because you don't return "the mapping database system".<br><br>In Section 5.6:<br><br>&nbsp;  T: This is the use-TTL for timeout bit.&nbsp; When set to 1, the xTR wants<br>&nbsp; &nbsp; &nbsp; the Map-Server to time out registrations based on the value in the<br>&nbsp; &nbsp; &nbsp; "Record TTL" field of this message.<br><br>And what happens when it is 0?<br><br>11.4.&nbsp; LISP Address Type Codes<br><br>&nbsp;  Therefore, there is no longer a need for the "LISP Address Type<br>&nbsp;  Codes" registry requested by [<a href="/doc/rfc6830/">RFC6830</a>].&nbsp; This document requests to<br>&nbsp;  remove it.<br><br>IANA registries are not supposed to be removed, they typically declared closed when not needed.<br>Can you elaborate of whether this registry was ever used?</div></td>
                </tr>
            
                <tr id="history-626940">
                    <td>
                        <div title="2018-09-27 06:27:22 -0700">2018-09-27</div>
                    </td>
                    <td class="text-end">16</td>
                    <td>Alexey Melnikov</td>
                    <td>[Ballot Position Update] New position, Discuss, has been recorded for Alexey Melnikov</td>
                </tr>
            
                <tr id="history-626937">
                    <td>
                        <div title="2018-09-27 06:17:17 -0700">2018-09-27</div>
                    </td>
                    <td class="text-end">16</td>
                    <td>Alissa Cooper</td>
                    <td><div class="snippet">[Ballot comment]<br>As with 6830bis, I unfortunately ran out of time to do more than a cursory review of the LISP documents on this week's â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">[Ballot comment]<br>As with 6830bis, I unfortunately ran out of time to do more than a cursory review of the LISP documents on this week's telechat. Here too I find the SEC ADs' DISCUSS<br>positions concerning and support the resolution of their security concerns.<br><br>I'm curious why there are several authors listed with an affiliation (Cisco) who no longer have that affiliation AFAIK.</div></td>
                </tr>
            
                <tr id="history-626936">
                    <td>
                        <div title="2018-09-27 06:17:17 -0700">2018-09-27</div>
                    </td>
                    <td class="text-end">16</td>
                    <td>Alissa Cooper</td>
                    <td>[Ballot Position Update] New position, No Objection, has been recorded for Alissa Cooper</td>
                </tr>
            
                <tr id="history-626917">
                    <td>
                        <div title="2018-09-27 05:14:42 -0700">2018-09-27</div>
                    </td>
                    <td class="text-end">16</td>
                    <td>Eric Rescorla</td>
                    <td><div class="snippet">[Ballot discuss]<br>This DISCUSS is somewhat arbitratrily on 6833bis, but many<br>of the same issues apply to 6830bis.<br><br>I concur with Ben's DISCUSS. I do â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">[Ballot discuss]<br>This DISCUSS is somewhat arbitratrily on 6833bis, but many<br>of the same issues apply to 6830bis.<br><br>I concur with Ben's DISCUSS. I do not believe that these documents<br>have adequate security to advance to Proposed Standard.<br><br>I thought it might be helpful for me to lay out my starting<br>assumptions and threat model and what I think the appropriate standard<br>is here. That gives us an opportunity to discuss them prior to<br>getting into the specific security issues I raise below.<br><br><br>SYSTEM ARCHITECTURE<br>Per offline discussion, I understand that despite some of the<br>introductory material, LISP is not currently intended to be Internet<br>scale but rather to run in what seem to be fairly tightly controlled<br>environments. Thus, I am assuming the following facts about<br>the system:<br><br>- The Mapping Service itself is secure and trusted.&nbsp; For the purposed<br>&nbsp; of this discussion, I'm modelling all the entities in the services<br>&nbsp; as one trusted element.<br><br>- The ETRs have a preconfigured relationship with the Mapping Service,<br>&nbsp; which includes some sort of shared key and an ACL on the Mapping<br>&nbsp; Service which tells it which EIDs anm ETR can advertise. How<br>&nbsp; this gets established is out of scope of this discussion.<br><br>Note that neither of these assumptions would be reasonable in<br>an Internet scale system, but I'm assuming that the text about<br>that in these documents will be removed.<br><br>Because it's not in the document set before us, nor is it a normative<br>reference, I am disregarding LISP-SEC and only analyzing the system as<br>specified in these documents.<br><br><br>THREAT MODEL<br>I'm assuming the usual <a href="/doc/rfc3552/">RFC 3552</a> threat model, I.e.,<br><br>- All non-Map Server elements in the system (specifically, endpoints<br>&nbsp; and the xTRs are potentially malicious).<br>&nbsp; <br>- Aside from the links between the Map Server elements, the network<br>&nbsp; is controlled by the attacker.<br><br>Against this background, my expectation is that the attacker<br>should not be able to affect traffic in any fashion significantly<br>more effective than tampering with the data plane. For instance,<br>it's clearly the case that an on-path attacker between two xTRs<br>can drop all the packets or forward them to some third xTR, but<br>it should not be able to send a small number of packets which<br>would then affect the routing of a large number of packets.<br><br>I do not expect that the data plane should have better security<br>than native (non-IPsec) traffic. Given the nature of LISP and<br>the existence of a mapping system, it seems like it's kind of<br>a missed opportunity to deploy a credentials system that would<br>support IPsec-style data plane security, but given that this<br>isn't a generally safe assumption for IP traffic, and therefore<br>you need to provide some sort of transport or application security<br>anyway, I don't think it's the right standard to hold LISP to.<br><br><br>ATTACKS<br>LISP appears to be vulnerable to a number of routing attacks that<br>I claim above it should not be subject to. For example:<br><br>1. An on-path attacker can forge Map Replys to the ITR,<br>&nbsp;  thus redirecting traffic.<br><br>2. An ETR can perform an "overclaiming" attack in which it<br>&nbsp;  claims to be responsible for EIDs which it is not actually<br>&nbsp;  responsible for.<br><br>3. An off-path attacker can temporarily reroute traffic by exploiting<br>&nbsp;  the "gleaning" feature to cache poison an ITR. In addition, the<br>&nbsp;  "echo noncing" feature does not appear to have a sufficiently strong<br>&nbsp;  nonce to protect against forgery, and thus turning this into a<br>&nbsp;  long-term attack<br><br>4. An attacker may be able to perform a number of cache invalidation<br>&nbsp;  and contamination attacks by exploiting the Map-Version and<br>&nbsp;  Locator-Status bits. This may lead to DoS.<br><br>5. An attacker who was at time T responsible for an EID block<br>&nbsp;  can probably prolong its ability to respond for that block<br>&nbsp;  even after it is no longer responsible.<br>&nbsp; <br>6. A number of the components appear to be subject to various replay<br>&nbsp;  attacks.<br><br>I note that many of these attacks are documented in the Security<br>Considerations for these documents. Also, I doubt this list is<br>exhaustive. As noted above, I have spent no time on the data plane<br>protocol.<br><br><br>DEFENSES<br>When looking at attacks, it's important to determine whether there are<br>plausible defenses. For most of these, I believe that the answer is<br>"yes", at varying levels of cost. As noted above, LISP-SEC appears to<br>be intended to address a number of these issues, so it's possible that<br>requiring LISP-SEC would go a fair ways towards addressing these<br>issues. A cursory look at LISP-SEC turns up some somewhat concerning<br>design choices, so I would have to examine it more closely to give a<br>real opinion.<br><br>I do not believe that LISP-SEC will address the attacks that do not<br>involve the Mapping Server. For instance, the gleaning<br>contamination/nonce attacks (3) would not appear to be fixed by<br>LISP-SEC. However, it's probably possible to fix them by lengthening<br>the nonce.<br><br>With that said, I tend to think that the overall authentication<br>architecture here would benefit from a rethink. At a high level, the<br>source of most of these problems is the "non-transferability" of the<br>mapping information from the Map Server. If the Map Server instead had<br>an asymmetric key pair which it used to sign mappings, then almost all<br>of these attacks would not work. Specifically:<br><br>- The map server could send signed Map Replys so forgery wouldn't work<br><br>- Map Replys from ETRs would be signed, so you couldn't overclaim<br><br>- Gleaning attacks would sort of work, but because the probe would<br>&nbsp; elicit a Map Reply, you couldn't persist them<br><br>- Map Versions could be tied to signed objects, so you couldn't do<br>&nbsp; cache invalidation by version. You'd probably need some other<br>&nbsp; approach for Locator Status bits.<br><br>And so on.<br><br>Detailed review below, with some duplication....<br><br><br>Rich version of this review at:<br><a href="https://mozphab-ietf.devsvcdev.mozaws.net/D4115">https://mozphab-ietf.devsvcdev.mozaws.net/D4115</a><br><br><br>IMPORTANT<br>S 5.2.<br>&gt;&nbsp; &nbsp; &nbsp; s: This is the SMR-invoked bit.&nbsp; This bit is set to 1 when an xTR is<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  sending a Map-Request in response to a received SMR-based Map-<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  Request.<br>&gt;&nbsp;  <br>&gt;&nbsp; &nbsp; &nbsp; m: This is the LISP mobile-node m-bit.&nbsp; This bit is set by xTRs that<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  operate as a mobile node as defined in [<a href="/doc/draft-ietf-lisp-mn/">I-D.ietf-lisp-mn</a>].<br><br>This would appear to create a normative reference to this document. To<br>avoid that, you need to specify how I behave if I receive it but I<br>don't implement lisp-mn.<br><br><br>S 5.2.<br>&gt;&nbsp; &nbsp; &nbsp; m: This is the LISP mobile-node m-bit.&nbsp; This bit is set by xTRs that<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  operate as a mobile node as defined in [<a href="/doc/draft-ietf-lisp-mn/">I-D.ietf-lisp-mn</a>].<br>&gt;&nbsp;  <br>&gt;&nbsp; &nbsp; &nbsp; I: This is the xTR-ID bit.&nbsp; When this bit is set, what is appended to<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  the Map-Request is a 128-bit xTR router-ID.&nbsp; See LISP PubSub usage<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  procedures in [<a href="/doc/draft-ietf-lisp-pubsub/">I-D.ietf-lisp-pubsub</a>] for details.<br><br>here too you seem to be creating a normative reference.<br><br><br>S 5.5.<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  is being mapped from a multicast destination EID.<br>&gt;&nbsp;  <br>&gt;&nbsp;  5.5.&nbsp; EID-to-RLOC UDP Map-Reply Message<br>&gt;&nbsp;  <br>&gt;&nbsp; &nbsp; &nbsp; A Map-Reply returns an EID-Prefix with a prefix length that is less<br>&gt;&nbsp; &nbsp; &nbsp; than or equal to the EID being requested.&nbsp; The EID being requested is<br><br>How do I behave if I receive an EID-Prefix that is less than any of my<br>mappings. So, I might have mappings for 10.1.0.0/16 and 10.2.0.0/16<br>and someone asks me for 10.0.0.0/8? Also, when you talk about prefix<br>length, I assume you mean the length fo the mask?<br><br><br><br><br><br>S 5.6.<br>&gt;&nbsp; &nbsp; &nbsp; Authentication Data:&nbsp; This is the message digest used from the output<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  of the MAC algorithm.&nbsp; The entire Map-Register payload is<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  authenticated with this field preset to 0.&nbsp; After the MAC is<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  computed, it is placed in this field.&nbsp; Implementations of this<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  specification MUST include support for HMAC-SHA-1-96 [<a href="/doc/rfc2404/">RFC2404</a>],<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  and support for HMAC-SHA-256-128 [<a href="/doc/rfc4868/">RFC4868</a>] is RECOMMENDED.<br><br>What prevents replay attacks here? I'm guessing it's the Map-Version-<br>Number, but as I understand it, I can set this to 0.<br><br><br>S 6.1.<br>&gt;&nbsp; &nbsp; &nbsp; receives an SMR-based Map-Request and the source is not in the<br>&gt;&nbsp; &nbsp; &nbsp; Locator-Set for the stored Map-Cache entry, then the responding Map-<br>&gt;&nbsp; &nbsp; &nbsp; Request MUST be sent with an EID destination to the mapping database<br>&gt;&nbsp; &nbsp; &nbsp; system.&nbsp; Since the mapping database system is a more secure way to<br>&gt;&nbsp; &nbsp; &nbsp; reach an authoritative ETR, it will deliver the Map-Request to the<br>&gt;&nbsp; &nbsp; &nbsp; authoritative source of the mapping data.<br><br>If I'm understanding this correctly, this allows an ETR to prevent an<br>ITR from learning that it is no longer the appropriate ETR for a<br>prefix. The way this attack works is that before the topology shift, I<br>send SMRs, thus causing Map-Requests, which, because my entry is<br>cached, refresh the cache on the ITR past the topology shift. I can<br>keep doing this indefinitely. Am I missing something<br><br><br>S 8.2.<br>&gt;&nbsp; &nbsp; &nbsp; authentication data, so prior to sending a Map-Register message, the<br>&gt;&nbsp; &nbsp; &nbsp; ETR and Map-Server SHOULD be configured with a shared secret or other<br>&gt;&nbsp; &nbsp; &nbsp; relevant authentication information.&nbsp; A Map-Server's configuration<br>&gt;&nbsp; &nbsp; &nbsp; SHOULD also include a list of the EID-Prefixes for which each ETR is<br>&gt;&nbsp; &nbsp; &nbsp; authoritative.&nbsp; Upon receipt of a Map-Register from an ETR, a Map-<br>&gt;&nbsp; &nbsp; &nbsp; Server accepts only EID-Prefixes that are configured for that ETR.<br><br>How does it know?</div></td>
                </tr>
            
                <tr id="history-626916">
                    <td>
                        <div title="2018-09-27 05:14:42 -0700">2018-09-27</div>
                    </td>
                    <td class="text-end">16</td>
                    <td>Eric Rescorla</td>
                    <td><div class="snippet">[Ballot comment]<br>S 5.<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp; \ |&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  UDP Length&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |&nbsp; &nbsp; &nbsp; &nbsp; UDP â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">[Ballot comment]<br>S 5.<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp; \ |&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  UDP Length&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |&nbsp; &nbsp; &nbsp; &nbsp; UDP Checksum&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  |<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  |<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  LISP Message&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  |<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+<br><br>What do these two diagrams correspond to? v4 and v6? This needs<br>explanation.<br><br><br>S 5.2.<br>&gt;&nbsp; &nbsp; &nbsp; Type:&nbsp;  1 (Map-Request)<br>&gt;&nbsp;  <br>&gt;&nbsp; &nbsp; &nbsp; A: This is an authoritative bit, which is set to 0 for UDP-based Map-<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  Requests sent by an ITR.&nbsp; It is set to 1 when an ITR wants the<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  destination site to return the Map-Reply rather than the mapping<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  database system.<br><br>I don't understand this sentence, as literally it would say that you<br>should not return "the mapping database system" but that doesn't make<br>any sense.<br><br><br>S 5.2.<br>&gt;&nbsp; &nbsp; &nbsp; P: This is the probe-bit, which indicates that a Map-Request SHOULD<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  be treated as a Locator reachability probe.&nbsp; The receiver SHOULD<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  respond with a Map-Reply with the probe-bit set, indicating that<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  the Map-Reply is a Locator reachability probe reply, with the<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  nonce copied from the Map-Request.&nbsp; See RLOC-Probing Section 7.1<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  for more details.<br><br>How am I supposed to handle this if I am a Map Server.<br><br><br>S 5.2.<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  receipt.<br>&gt;&nbsp;  <br>&gt;&nbsp; &nbsp; &nbsp; L: This is the local-xtr bit.&nbsp; It is used by an xTR in a LISP site to<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  tell other xTRs in the same site that it is part of the RLOC-set<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  for the LISP site.&nbsp; The L-bit is set to 1 when the RLOC is the<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  sender's IP address.<br><br>Is the xTR supposed to filter this on exiting the site.<br><br><br>S 5.2.<br>&gt;&nbsp;  <br>&gt;&nbsp; &nbsp; &nbsp; Nonce:&nbsp; This is an 8-octet random value created by the sender of the<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  Map-Request.&nbsp; This nonce will be returned in the Map-Reply.&nbsp; The<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  security of the LISP mapping protocol critically depends on the<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  strength of the nonce in the Map-Request message.&nbsp; The nonce<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  SHOULD be generated by a properly seeded pseudo-random (or strong<br><br>This seems like it needs to be a MUST.<br><br><br>S 5.3.<br>&gt;&nbsp; &nbsp; &nbsp; originating Map-Request source.&nbsp; If the RLOC is not in the Locator-<br>&gt;&nbsp; &nbsp; &nbsp; Set, then the ETR MUST send the "verifying Map-Request" to the<br>&gt;&nbsp; &nbsp; &nbsp; "piggybacked" EID.&nbsp; Doing this forces the "verifying Map-Request" to<br>&gt;&nbsp; &nbsp; &nbsp; go through the mapping database system to reach the authoritative<br>&gt;&nbsp; &nbsp; &nbsp; source of information about that EID, guarding against RLOC-spoofing<br>&gt;&nbsp; &nbsp; &nbsp; in the "piggybacked" mapping data.<br><br>This text here doesn't seem compatible with either of the two cases<br>listed in "EID-prefix" above.<br><br><br><br><br><br>S 5.4.<br>&gt;&nbsp;  <br>&gt;&nbsp; &nbsp; &nbsp; Nonce:&nbsp; This is a 24-bit value set in a Data-Probe<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  [<a href="/doc/draft-ietf-lisp-rfc6830bis/">I-D.ietf-lisp-rfc6830bis</a>] or a 64-bit value from the Map-Request<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  is echoed in this 'Nonce' field of the Map-Reply.&nbsp; When a 24-bit<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  value is supplied, it resides in the low-order 64 bits of the<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  'Nonce' field.<br><br>Nit: a 64-bit quantity doesn't really have low-order bits if it's not<br>numeric. Do you mean "rightmost"? Also, what are the other bits.<br><br><br>S 5.4.<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  'Nonce' field.<br>&gt;&nbsp;  <br>&gt;&nbsp; &nbsp; &nbsp; Record TTL:&nbsp; This is the time in minutes the recipient of the Map-<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  Reply will store the mapping.&nbsp; If the TTL is 0, the entry MUST be<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  removed from the cache immediately.&nbsp; If the value is 0xffffffff,<br>&gt;&nbsp; &nbsp; &nbsp; &nbsp;  the recipient can decide locally how long to store the mapping.<br><br>Am I supposed to merge this with previous mappings? REmove them?<br><br><br>S 8.3.<br>&gt;&nbsp; &nbsp; &nbsp; of the mapping database protocols.<br>&gt;&nbsp;  <br>&gt;&nbsp;  8.3.&nbsp; Map-Server Processing<br>&gt;&nbsp;  <br>&gt;&nbsp; &nbsp; &nbsp; Once a Map-Server has EID-Prefixes registered by its client ETRs, it<br>&gt;&nbsp; &nbsp; &nbsp; can accept and process Map-Requests for them.<br><br>This section is confusing because the introduction says that this<br>function is only performed by Map-Resolvers:<br>'<br>"The LISP Mapping Service defines two new types of LISP-speaking<br>&nbsp;  devices: the Map-Resolver, which accepts Map-Requests from an<br>Ingress<br>&nbsp;  Tunnel Router (ITR) and "resolves" the EID-to-RLOC mapping using a<br>&nbsp;  mapping database; and the Map-Server, which learns authoritative<br>EID-<br>&nbsp;  to-RLOC mappings from an Egress Tunnel Router (ETR) and publishes<br>&nbsp;  them in a database."</div></td>
                </tr>
            
                <tr id="history-626915">
                    <td>
                        <div title="2018-09-27 05:14:42 -0700">2018-09-27</div>
                    </td>
                    <td class="text-end">16</td>
                    <td>Eric Rescorla</td>
                    <td>[Ballot Position Update] New position, Discuss, has been recorded for Eric Rescorla</td>
                </tr>
            
                <tr id="history-626802">
                    <td>
                        <div title="2018-09-26 22:29:00 -0700">2018-09-26</div>
                    </td>
                    <td class="text-end">16</td>
                    <td>Suresh Krishnan</td>
                    <td>[Ballot Position Update] New position, No Objection, has been recorded for Suresh Krishnan</td>
                </tr>
            
                <tr id="history-626793">
                    <td>
                        <div title="2018-09-26 21:51:32 -0700">2018-09-26</div>
                    </td>
                    <td class="text-end">16</td>
                    <td>Benjamin Kaduk</td>
                    <td><div class="snippet">[Ballot discuss]<br>See my ballot position on rfc6830bis for some more general notes.<br>I did most of my review on the -15, though I attempted â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">[Ballot discuss]<br>See my ballot position on rfc6830bis for some more general notes.<br>I did most of my review on the -15, though I attempted to note when<br>the -16 has changed the text.<br><br>I am concerned about the handling procedures for Map-Requests that are<br>encapsulated with the 'S' bit present.&nbsp; In particular, the ITR is required<br>to discard non-secure responses, which is necessary in order to avoid a<br>downgrade attack (in the current architecture).&nbsp; However, it seems that<br>ETRs are not required to enable security in their registrations, and<br>Map-Servers are supposed to strip the security flag when forwarding<br>Map-Requests to ETRs that do not register as supporting LISP-SEC, and the<br>resulting Map-Reply messages would thus not be secured, and dropped by the<br>initiating ITR.&nbsp; So support for LISP-SEC would need to be mandatory for all<br>ETRs in order for any ITR to be able to enforce the downgrade-protection<br>behavior, which is a pretty bad deployment story.&nbsp; Making LISP-SEC<br>mandatory everywhere would, of course, avoid this issue.<br><br>I do not understand the procedure for allocation of EIDs.&nbsp; In a global<br>mapping database, there needs to be some authoritative procedure for<br>determining what ETRs and/or Map-Servers are authoritative for a given<br>subset of EID space.&nbsp; All I've seen so far to do this effectively boils<br>down to manual configuration, whether explicitly on a Map-Server or just as<br>a mapping of what keys are authorized to advertise which EIDs.<br><br>A 64-bit (or in some cases 24-bit) nonce is used, apparently as a<br>request/response correlator, but the actual (cryptographic?) properties<br>required from the nonce in the protocol are not clearly covered.&nbsp; In some<br>cryptographic contexts a 64-bit nonce may be too short; I do not believe<br>that this is the case here, but without a clear picture of what the<br>requirements are it's hard to say for sure.&nbsp; 24 bits, on the other hand, is<br>quite small.<br><br>The layout of the document is somewhat confusing, in a way that could<br>arguably lead to noninteroperable implemnetations.&nbsp; For example, the<br>section on the Map-Register message format includes descriptions of the<br>fields in the records and locators therein, and the section on Map-Notify<br>reuses that portion of the structure, incorporating the field descriptions<br>by reference.&nbsp; But the Map-Register section does not indicate that its<br>descriptions are to apply in both cases, leading to confusing text that<br>talks about values being set or cases that are not possible for a<br>Map-Register (i.e., the section nominally being described).&nbsp; It would be<br>most clear to have a dedicated subsection for the portion of the<br>structure(s) that is being reused, which would allow for the per-field<br>descriptions to clearly indicate in which scope they are defined.&nbsp; But the<br>more minimal change of just indicating that the primary definition will be<br>"dual use" would probably suffice as well.<br>The Map-Reply record/locator descriptions are reused similarly; I made a<br>comment on section 5.4 that lists a specific instance, though I believe the<br>phenomenon is more general.<br><br>Similarly, there are many instances (some noted in my Comment) where a<br>bidirectional interaction between two xTRs is described, yet the peers are<br>identified as "ITR" and "ETR".&nbsp; This is very confusing when the entity<br>named as "ITR" is described as performing ETR functionality, or vice versa;<br>pedagogically, it would be much better to use non-role-based names for the<br>entities while describing these exchanges.<br><br>While I see that there is an entire document dedicated to Map-Versioning<br>and thus we do not need to fully cover everything here, I think it is<br>critically important to be clear that there are consistency requirements<br>attached to map versions, as relating to the stability of membership of<br>RLOCs in a given record, etc.&nbsp; (I cannot be very clear hear since I am not<br>entirely confident of the details of the consistency requirements yet.)<br><br>The Map-Register message format field descriptions includes:<br>&nbsp;  Nonce:&nbsp; This 8-octet 'Nonce' field is set to 0 in Map-Register<br>&nbsp; &nbsp; &nbsp; messages if no Map-Notify message is expected to acknowledge it.<br>&nbsp; &nbsp; &nbsp; Since the Map-Register message is authenticated, the 'Nonce' field<br>&nbsp; &nbsp; &nbsp; is not currently used for any security function but may be in the<br>&nbsp; &nbsp; &nbsp; future as part of an anti-replay solution.<br>Having the map registrations subject to replay seems like a critical flaw<br>that would allow an attacker to disrupt any sort of mobility situation,<br>even in the presence of LISP-SEC.&nbsp; I cannot see how this protocol could be<br>suitable for Proposed Standard status with such a susceptibility to replay.<br><br>I think we need more details on the expected Map-Register/Map-Notify and<br>Map-Notify/Map-Notify-Ack message flows.&nbsp; In what cases is the ack not<br>needed, and why?<br><br>I think we need greater clarity on the 'E' and 'M' bits in the ECM format;<br>more in the Comment section.<br><br>I am concerned that the extensibility mechanism for ECM encapsulation is<br>insufficiently well specified.&nbsp; Is a registry needed?&nbsp; Will new message<br>types need to Update: this document to indicate the extension?&nbsp; What<br>attributes make a message (un)suitable for encapsulation?<br><br>Section 8.1 says:<br>&nbsp;  o&nbsp; A Negative Map-Reply, with action code of "Natively-Forward", from<br>&nbsp; &nbsp; &nbsp; a Map-Server that is authoritative for an EID-Prefix that matches<br>&nbsp; &nbsp; &nbsp; the requested EID but that does not have an actively registered,<br>&nbsp; &nbsp; &nbsp; more-specific ID-prefix.<br>This document provides no mechanism to establish that a Map-Server is<br>authoritative for a given EID-Prefix, so this entire case is<br>non-actionable.<br><br>Section 8.2 says:<br>&nbsp;  An ETR publishes its EID-Prefixes on a Map-Server by sending LISP<br>&nbsp;  Map-Register messages.&nbsp; A Map-Register message includes<br>&nbsp;  authentication data, so prior to sending a Map-Register message, the<br>&nbsp;  ETR and Map-Server SHOULD be configured with a shared secret or other<br>&nbsp;  relevant authentication information.<br>This cannot be a SHOULD if things are to work properly; it has to be MUST.<br><br>Section 8.2 also says:<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; As developers<br>&nbsp;  and operators gain experience with the mapping system, additional,<br>&nbsp;  stronger security measures may be added to the registration process.<br>This kind of language for forward-looking guidance indicates that the<br>current security properties are not well-understood by the authors and is<br>inconsistent with Proposed Standard status.<br><br>Perhaps I am misunderstanding the desired behavior but when Section 8.4<br>says:<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  To do this, it forwards the unencapsulated Map-Request,<br>&nbsp;  with the original ITR RLOC as the source, to the mapping database<br>&nbsp;  system.&nbsp; [...]<br>doesn't this carry substantial risk of running afoul of <a href="/doc/bcp38/">BCP 38</a> filtering?<br><br>I think the MUST and SHOULD requirements for implementing cryptographic<br>primitives are generally swapped; the more-secure ones (e.g.,<br>HMAC-SHA-256-128) should be MUST, and the legacy algorithms needed for<br>compatibility with existing deployments would be SHOULD.<br><br>Section 9 currently states:<br>&nbsp;  [a]s noted in Section 8.2, a Map-Server SHOULD verify that all EID-<br>&nbsp;  Prefixes registered by an ETR match the configuration stored on the<br>&nbsp;  Map-Server.<br>I think we need a MUST-level requirement for verifying authorization for a<br>given EID-Prefix, with one way of satisfying the requirement being checking<br>configuration, but allowing for other means as well.<br><br>In the -15, Section 9 also stated:<br>&nbsp;  The currently defined authentication mechanism for Map-Register<br>&nbsp;  messages does not provide protection against "replay" attacks by a<br>&nbsp;  "man-in-the-middle".&nbsp; Additional work is needed in this area.<br>I don't understand how this sort of statement can be present in a document<br>targetting Proposed Standard status, in effect admitting that there are<br>grave deficiencies in the security posture of the protocol.&nbsp; The -16 has<br>gained some language indicating that LISP-SEC mitigates many attacks in<br>this space, but that is hardly of much use when LISP-SEC is not a mandatory<br>protocol feature.<br><br>I'm disappointed that there is no Privacy Considerations section, though<br>given that <a href="/doc/rfc7835/">RFC 7835</a> seems to attempt to disclaim privacy considerations<br>entirely, perhaps I should not be surprised.&nbsp; Tying devices to persistent<br>Endpoint IDentifiers and using them in mobility situations inherently<br>raises privacy concerns.&nbsp; These are not necessarily fatal to a protocol,<br>but they do need to be discussed and the benefits weighed against the<br>costs.</div></td>
                </tr>
            
                <tr id="history-626792">
                    <td>
                        <div title="2018-09-26 21:51:32 -0700">2018-09-26</div>
                    </td>
                    <td class="text-end">16</td>
                    <td>Benjamin Kaduk</td>
                    <td><div class="snippet">[Ballot comment]<br>I apologize for the somewhat scattered nature of these comments; there are<br>a lot of them and I was focusing my time more â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">[Ballot comment]<br>I apologize for the somewhat scattered nature of these comments; there are<br>a lot of them and I was focusing my time more on trying to understand the<br>broader system, and the intended security posture, so they did not get as<br>much clean-up as I would have liked.<br><br>Map-Reply will typically forward a packet that got a negative reply<br>onto the public internet, adding extra latency to all flows through<br>a LISP-enabled ITR; is that correct?<br><br>Section 1<br><br>&nbsp;  Note this document doesn't assume any particular database mapping<br>&nbsp;  infrastructure to illustrate certain aspects of Map-Server and Map-<br>&nbsp;  Resolver operation, the Mapping Service interface can (and likely<br>&nbsp;  will) be used by ITRs and ETRs to access other mapping database<br>&nbsp;  systems as the LISP infrastructure evolves.<br><br>nit: This looks like a comma splice, though I'm not sure I'm parsing everything<br>correctly.<br><br>Section 2<br><br>Use the actual boilerplate from <a href="/doc/rfc8174/">RFC 8174</a>; don't just tack on a new<br>reference to the existing (and without errata fix!) <a href="/doc/rfc2119/">RFC 2119</a> boilerplate.<br><br>Section 3<br><br>Should the Map-Register message's definition also mention that the<br>Map-Server returns the registered RLOCs in normal Map-Replys?<br><br>Section 4<br><br>&nbsp;  A Map-Server is a device that publishes EID-Prefixes in a LISP<br>&nbsp;  mapping database on behalf of a set of ETRs.&nbsp; When it receives a Map<br>&nbsp;  Request (typically from an ITR), it consults the mapping database to<br>&nbsp;  find an ETR that can answer with the set of RLOCs for an EID-Prefix.<br><br>My understanding from the intro document, etc., was that the ITR generally<br>was not sending Map-Requests directly to Map-Servers, and that rather there<br>was some triangle routing, with the Map-Request going from ITR to<br>Map-Resolver to Map-Server, and the Map-Reply directly from Map-Server to<br>ITR (so "typically one initiated by an ITR" or similar).&nbsp; It's also odd<br>language (to me) to have the Map-Server "consult the mapping database" when<br>the Map-Server comprises part of the mapping database and has local<br>authoritative data.<br><br>Section 5<br><br>Are we really just duplicating the IPv4+UDP and IPv6+UDP packet headers<br>here?<br><br>Section 5.1<br><br>&nbsp;  Values in the "Not Assigned" range can be assigned according to<br>&nbsp;  procedures in [<a href="/doc/rfc8126/">RFC8126</a>].&nbsp; Documents that request for a new LISP<br>&nbsp;  packet type may indicate a preferred value.<br><br>8126 has lots of procedures; generally we use a name to indicate which one<br>is to be followed.<br><br>Section 5.2<br><br>Using the same letter with different case for different flag bits sounds<br>confusing.<br><br>Lots of potential fun tampering with these flag bits, whether downgrade<br>attacks on features or otherwise mucking around.<br><br>Source EID address in Map-Request has privacy considerations.<br><br>If the multiple ITR-RLOC Addresses is soleyl "to give the ETR the option of<br>selecting the destination address from any address family" then there<br>should be a restriction to one ITR address per AFI.&nbsp; (But it's not, so this<br>text should be tweaked to avoid suggesting that it is.)<br><br>When an EID mask-len smaller than the full length of the given address type<br>is used, what are the values of the bits in the EID-Prefix field that are<br>"masked away"?&nbsp; Leaving unspecified bits like this makes for an easy covert<br>channel, especially so when the protocol messages are not covered by any<br>integrity protection scheme and subject to on-path tampering.<br><br>Section 5.3<br><br>&nbsp;  A Map-Request is sent from an ITR when it needs a mapping for an EID,<br>&nbsp;  wants to test an RLOC for reachability, or wants to refresh a mapping<br>&nbsp;  before TTL expiration.&nbsp; For the initial case, the destination IP<br>&nbsp;  address used for the Map-Request is the data packet's destination<br>&nbsp;  address (i.e., the destination EID) that had a mapping cache lookup<br>&nbsp;  failure.&nbsp; For the latter two cases, the destination IP address used<br>&nbsp;  for the Map-Request is one of the RLOC addresses from the Locator-Set<br>&nbsp;  of the Map-Cache entry.<br><br>I seem to be confused by the "destination IP address" bits here.<br>Are we really sending Map-Request UDPgrams from an ITR to the EID<br>destination address that we failed to look up, hoping that some magic in<br>the network will cause it to end up at an ETR or Map-Server that can reply?<br>Or is this talking about how we set the EID-Prefix portion of the<br>Map-Request?&nbsp; The latter two cases do seem to be using RLOCs in a way<br>that I expect, which makes me think I'm confused.<br><br>Where is the term "Map-Replier" defined?<br><br>&nbsp;  [...] If the ITR erroneously<br>&nbsp;  provides no ITR-RLOC addresses, the Map-Replier MUST drop the Map-<br>&nbsp;  Request.<br><br>It's unclear how the Map-Replier would detect this, as opposed to just<br>blindly trying to interpret the start of the request records as an<br>ITR-RLOC.<br><br>&nbsp;  An ITR that is configured with mapping database information (i.e., it<br>&nbsp;  is also an ETR) MAY optionally include those mappings in a Map-<br>&nbsp;  Request.&nbsp; When an ETR configured to accept and verify such<br>&nbsp;  "piggybacked" mapping data receives such a Map-Request and it does<br>&nbsp;  not have this mapping in the Map-Cache, it MAY originate a "verifying<br>&nbsp;  Map-Request", addressed to the map-requesting ITR and the ETR MAY add<br>&nbsp;  a Map-Cache entry. [...]<br><br>This seems like a place where naming the xTRs not by role would help<br>clarify the flows and the role in which each entity is acting, at each<br>point.<br><br>&nbsp;  [...] If the ETR has a Map-Cache entry that matches the<br>&nbsp;  "piggybacked" EID and the RLOC is in the Locator-Set for the entry,<br>&nbsp;  then it MAY send the "verifying Map-Request" directly to the<br>&nbsp;  originating Map-Request source.&nbsp; If the RLOC is not in the Locator-<br>&nbsp;  Set, then the ETR MUST send the "verifying Map-Request" to the<br>&nbsp;  "piggybacked" EID.<br><br>It's probably worth disambiguating that "the RLOC" is the cached RLOC for<br>the EID in the "piggybacked" Map-Reply record.&nbsp; (Of course, there could be<br>more than one cached RLOC for a given EID, so "the" is not really right<br>anyway.)&nbsp; Similarly, "the Locator-Set" could become "the Locator-Set in the<br>piggybacked Map-Reply record".&nbsp; Additionally, and this may just be my<br>confusion, but is "send ... to the piggybacked EID" the right terminology?<br>In my mental model at least, "perform a fresh mapping lookup for the EID in<br>order to send a verifying Map-Request" would be better.<br><br>Section 5.4<br><br>'S' bit, so clearing that bit and dropping the AD trailer allows an<br>attacker to modify the contents.&nbsp; We would perhaps only saved by the bit in<br>6830bis where if you ask for a secure resolution you have to get one back,<br>but that's not deployable.<br><br>&nbsp;  Nonce:&nbsp; This is a 24-bit value set in a Data-Probe<br>&nbsp; &nbsp; &nbsp; [<a href="/doc/draft-ietf-lisp-rfc6830bis/">I-D.ietf-lisp-rfc6830bis</a>] or a 64-bit value from the Map-Request<br>&nbsp; &nbsp; &nbsp; is echoed in this 'Nonce' field of the Map-Reply.&nbsp; When a 24-bit<br>&nbsp; &nbsp; &nbsp; value is supplied, it resides in the low-order 64 bits of the<br>&nbsp; &nbsp; &nbsp; 'Nonce' field.<br><br>Just a 6830bis reference isn't quite enough to describe this case, I think;<br>don't you need to say that the other 40 bits are used by the mapping<br>implementation?<br><br>In the ACT field, is the "No-Action" value ever used for Negative<br>Map-Replies?&nbsp; If so, I'm confused what the semantics are supposed to be.<br><br>Differentiating between Drop/policy and Drop/authentication may open up<br>a side channel for an attacker to learn about authentication or policy<br>information.&nbsp; (But maybe not; this needs more analysis)<br><br>&nbsp;  A: The Authoritative bit, when sent, is always set to 1 by an ETR.<br><br>What does "when sent" mean?&nbsp; The field is part of the structure; it's<br>always sent.&nbsp; Or is this supposed to be "has value 1 if and only if the<br>Map-Reply is sent by an ETR"?<br><br>The EID-Prefix entry should probably reuse (or refer to) the text from the<br>Map-Request field, covering length for other AFIs.<br>Also, say what goes on for the bits that are "masked out".<br><br>I feel like perhaps less could be said about the 'M' priority and weight<br>fields, as what's currently there just leaves me confused about ETR vs. ITR<br>vs. xTR and how this information flow is consumed.<br><br>&nbsp;  p: When this bit is set, an ETR informs the RLOC-Probing ITR that the<br>&nbsp; &nbsp; &nbsp; locator address for which this bit is set is the one being RLOC-<br>&nbsp; &nbsp; &nbsp; probed and may be different from the source address of the Map-<br>&nbsp; &nbsp; &nbsp; Reply.&nbsp; An ITR that RLOC-probes a particular Locator MUST use this<br>&nbsp; &nbsp; &nbsp; Locator for retrieving the data structure used to store the fact<br>&nbsp; &nbsp; &nbsp; that the Locator is reachable.&nbsp; The p-bit is set for a single<br>&nbsp; &nbsp; &nbsp; Locator in the same Locator-Set. If an implementation sets more<br><br>Exactly one or at most one?<br><br>&nbsp; &nbsp; &nbsp; than one p-bit erroneously, the receiver of the Map-Reply MUST<br>&nbsp; &nbsp; &nbsp; select the first Locator.&nbsp; The p-bit MUST NOT be set for Locator-<br><br>First overall or first that sets the p bit?<br><br>&nbsp; &nbsp; &nbsp; Set records sent in Map-Request and Map-Register messages.<br><br>&nbsp;  Locator:&nbsp; This is an IPv4 or IPv6 address (as encoded by the 'Loc-<br>&nbsp; &nbsp; &nbsp; AFI' field) assigned to an ETR.&nbsp; Note that the destination RLOC<br>&nbsp; &nbsp; &nbsp; address MAY be an anycast address.&nbsp; A source RLOC can be an<br>&nbsp; &nbsp; &nbsp; anycast address as well.&nbsp; The source or destination RLOC MUST NOT<br>&nbsp; &nbsp; &nbsp; be the broadcast address (255.255.255.255 or any subnet broadcast<br>&nbsp; &nbsp; &nbsp; address known to the router) and MUST NOT be a link-local<br>&nbsp; &nbsp; &nbsp; multicast address.&nbsp; The source RLOC MUST NOT be a multicast<br>&nbsp; &nbsp; &nbsp; address.&nbsp; The destination RLOC SHOULD be a multicast address if it<br>&nbsp; &nbsp; &nbsp; is being mapped from a multicast destination EID.<br><br>This is the section on the contents of the Map-Reply message.&nbsp; Why are we<br>talking about source RLOCs?&nbsp; Oh, we're going to refer back to this from<br>other sections for just the "EID-record" portion (a term which is not<br>properly defined).&nbsp; It would be good to mention that up front at the start<br>of this section or the list of fields in the EID-record.<br><br>Section 5.5<br><br>&nbsp;  A Map-Request for EID 2001:db8:1:5::5 would cause a Map-Reply with a<br>&nbsp;  record count of 3 to be returned with mapping records for EID-<br>&nbsp;  Prefixes 2001:db8:1::/24, 2001:db8:1:1::/32, 2001:db8:1:2::/32.&nbsp; Note<br>&nbsp;  filling out the /24 with more-specifics that exist in the mapping<br>&nbsp;  system.<br><br>nit: This last sentence is a sentence fragment.<br><br>Requiring numerical sort of the locators seems to make the "inserted in<br>the middle" case very difficult to reason about, especially relating to<br>synchronization with the data plane and LSBs in data-plane messages.<br><br>&nbsp;  [...]&nbsp; The source address of the Map-Reply is one of<br>&nbsp;  the local IP addresses chosen to allow Unicast Reverse Path<br>&nbsp;  Forwarding (uRPF) checks to succeed in the upstream service provider.<br><br>nit: should there be a comma before "chosen"?<br><br>Section 5.6<br><br>Huh, why did I think that Map-Register was always sent encapsulated?<br><br>The key-ID description is a great example of how to best describe the<br>security properties of a field; thanks!<br><br>&nbsp;  Authentication Data:&nbsp; This is the message digest used from the output<br><br>"digest" is a term of art and is not appropriate here.&nbsp; Probably best to<br>just say "This is the output of the MAC algorithm."<br><br>&nbsp; &nbsp; &nbsp; of the MAC algorithm.&nbsp; The entire Map-Register payload is<br>&nbsp; &nbsp; &nbsp; authenticated with this field preset to 0.&nbsp; After the MAC is<br>&nbsp; &nbsp; &nbsp; computed, it is placed in this field.&nbsp; Implementations of this<br>&nbsp; &nbsp; &nbsp; specification MUST include support for HMAC-SHA-1-96 [<a href="/doc/rfc2404/">RFC2404</a>],<br>&nbsp; &nbsp; &nbsp; and support for HMAC-SHA-256-128 [<a href="/doc/rfc4868/">RFC4868</a>] is RECOMMENDED.<br><br>It's probably good to explictly clarify that "entire payload" means<br>"from and including the LISP message type field through the end of the last<br>record and its locators".<br>Also, the MUST/RECOMMENDED status seems backwards.<br><br>I guess referring back to Section 5.4 for the duplicated fields is probably<br>okay, but I would suggest calling out the portions that are only applicable<br>or uniquely handled for the Map-Register message.<br><br>Section 5.7<br><br>&nbsp;  [...] An implementation SHOULD retransmit up to 3 times at 3<br>&nbsp;  second retransmission intervals, after which time the retransmission<br>&nbsp;  interval is exponentially backed-off for another 3 retransmission<br>&nbsp;  attempts.<br><br>This is underdefined without specifying the exponent base for the<br>exponential backoff.<br><br>Why is it allowed to Map-Register without requesting a Map-Notify?<br><br>Section 5.8<br><br>&nbsp;  An Encapsulated Control Message (ECM) is used to encapsulate control<br>&nbsp;  packets sent between xTRs and the mapping database system.<br><br>Please be explicit about whether all such messages are encapsulated or only<br>some of them.<br><br>&nbsp;  S:&nbsp; &nbsp; This is the Security bit.&nbsp; When set to 1, the field following<br>&nbsp; &nbsp; &nbsp; &nbsp;  the 'Reserved' field will have the following Authentication<br>&nbsp; &nbsp; &nbsp; &nbsp;  Data format and follow the procedures from [<a href="/doc/draft-ietf-lisp-sec/">I-D.ietf-lisp-sec</a>].<br><br>Could there be some indication of "optional security fields" in the figure?<br><br>It's a bit odd to have the 'D' bit in the encapsulation as opposed to<br>directly in the Map-Request, though I guess it's a bit late to be changing<br>that.<br><br>&nbsp;  E:&nbsp; &nbsp; This is the to-ETR bit.&nbsp; When set to 1, the Map-Server's<br>&nbsp; &nbsp; &nbsp; &nbsp;  intention is to forward the ECM to an authoritative ETR.<br><br>I think this needs to say more about which message flows this bit is<br>defined for.&nbsp; Presumably the ITR will never use it for sending an<br>encapsulated Map-Request to a Map-Resolver, but there seem to be plenty of<br>places where ECM wrapping is used.<br><br>&nbsp;  M:&nbsp; &nbsp; This is the to-MS bit.&nbsp; When set to 1, a Map-Request is being<br>&nbsp; &nbsp; &nbsp; &nbsp;  sent to a co-located Map-Resolver and Map-Server where the<br>&nbsp; &nbsp; &nbsp; &nbsp;  message can be processed directly by the Map-Server versus the<br>&nbsp; &nbsp; &nbsp; &nbsp;  Map-Resolver using the LISP-DDT procedures in [<a href="/doc/rfc8111/">RFC8111</a>].<br><br>How does the sender know that its configured Map-Resolver is also a<br>Map-Server?&nbsp; It's unclear to me why this needs a bit in the message as<br>opposed to just happening based on the attributes of the receiving<br>Map-Server.<br><br>&nbsp;  LCM:&nbsp; The format is one of the control message formats described in<br>&nbsp; &nbsp; &nbsp; &nbsp;  this section.&nbsp; At this time, only Map-Request messages are<br>&nbsp; &nbsp; &nbsp; &nbsp;  allowed to be Control-Plane (ECM) encapsulated.&nbsp; In the future,<br>&nbsp; &nbsp; &nbsp; &nbsp;  PIM Join/Prune messages [<a href="/doc/rfc6831/">RFC6831</a>] might be allowed.<br>&nbsp; &nbsp; &nbsp; &nbsp;  Encapsulating other types of LISP control messages is for<br>&nbsp; &nbsp; &nbsp; &nbsp;  further study.&nbsp; When Map-Requests are sent for RLOC-Probing<br>&nbsp; &nbsp; &nbsp; &nbsp;  purposes (i.e., the probe-bit is set), they MUST NOT be sent<br>&nbsp; &nbsp; &nbsp; &nbsp;  inside Encapsulated Control Messages.<br><br>This type of forward-looking language seems unusuabl for a PS document; I<br>would expect to not see predictions on what might happen, but rather the<br>specification of what procedure is used to allow new message types.<br><br>Section 6.1<br><br>&nbsp;  Since the ETRs don't keep track of remote ITRs that have cached their<br>&nbsp;  mappings, they do not know which ITRs need to have their mappings<br>&nbsp;  updated. [...]<br><br>Nothing *prevents* ETRs from doing this tracking; they're just not required<br>to do so.&nbsp; So it would be better to say something like "Since ETRs are not<br>required to keep track of [...]".<br><br>&nbsp;  [...] In particular, an ETR will send an SMR to<br>&nbsp;  an ITR to which it has recently sent encapsulated data.&nbsp; This can<br>&nbsp;  only occur when both ITR and ETR functionality reside in the same<br>&nbsp;  router.<br><br>Having just come from the section on the "encapsulated control message",<br>perhaps the reader could use an extra hint that the "encapsulated data" is<br>just "LISP-tunneled data-plane traffic".&nbsp; Also, is this intended to be a<br>normative requirement (with the use of "will")?<br><br>&nbsp;  1.&nbsp; When the database mappings in an ETR change, the ETRs at the site<br>&nbsp; &nbsp; &nbsp;  begin to send Map-Requests with the SMR bit set for each Locator<br>&nbsp; &nbsp; &nbsp;  in each Map-Cache entry the ETR caches.<br><br>Map-Cache is an ITR function; this is probably another case where naming<br>the routers would allow for a more clear description of the protocol<br>exchanges.&nbsp; Also, this seems in disagreement with the previous text about<br>sending data in the previous minute, since Map-Cache entries can persist<br>for longer than a minute.<br><br>&nbsp;  5.&nbsp; The ETRs at the site with the changed mapping record the fact<br>&nbsp; &nbsp; &nbsp;  that the site that sent the Map-Request has received the new<br>&nbsp; &nbsp; &nbsp;  mapping data in the Map-Cache entry for the remote site so the<br>&nbsp; &nbsp; &nbsp;  Locator-Status-Bits are reflective of the new mapping for packets<br>&nbsp; &nbsp; &nbsp;  going to the remote site.&nbsp; The ETR then stops sending SMR<br>&nbsp; &nbsp; &nbsp;  messages.<br><br>Perhaps a nit, but the "site with the changed mapping" doesn't make sense<br>-- the map applies to the EID, and in principle the EID could have moved to<br>a different site.&nbsp; So this could be "the site sending SMR messages"<br>perhaps.&nbsp; Also, I think there needs to be greater clarity about which<br>Locator-Status bits are being described.&nbsp; Finally, the cessation of sending<br>SMR messages is presumably scoped to those targetted to the sender of the<br>Map-Request in question and not a global property?<br><br>&nbsp;  For security reasons, an ITR MUST NOT process unsolicited Map-<br>&nbsp;  Replies.&nbsp; To avoid Map-Cache entry corruption by a third party, a<br>&nbsp;  sender of an SMR-based Map-Request MUST be verified.&nbsp; If an ITR<br>&nbsp;  receives an SMR-based Map-Request and the source is not in the<br>&nbsp;  Locator-Set for the stored Map-Cache entry, then the responding Map-<br>&nbsp;  Request MUST be sent with an EID destination to the mapping database<br>&nbsp;  system.&nbsp; Since the mapping database system is a more secure way to<br>&nbsp;  reach an authoritative ETR, it will deliver the Map-Request to the<br>&nbsp;  authoritative source of the mapping data.<br><br>The only verification possible in this set of documents does not constitute<br>a security mechanism worthy of the name.<br>Also, allowing off-path attackers to induce requests to the mapping system<br>seems like a DoS vector only partially mitgiated by rate limiting.<br><br>Section 7<br><br>One could perhaps quibble as to whether (1) through (3) constitute<br>"control-plane", vs. "out-of-band" given that this documents the LISP<br>Control-Plane as specific UDP messages.<br><br>Section 7.1<br><br>&nbsp;  When an ETR receives a Map-Request message with the probe-bit set, it<br>&nbsp;  returns a Map-Reply with the probe-bit set.&nbsp; The source address of<br>&nbsp;  the Map-Reply is set according to the procedure described in<br>&nbsp;  [<a href="/doc/draft-ietf-lisp-rfc6830bis/">I-D.ietf-lisp-rfc6830bis</a>].<br><br>Please provide a detailed section reference; 6830bis does not specifically<br>cover source address selection for probes.<br><br>&nbsp;  [...] The greatest<br>&nbsp;  benefit of RLOC-Probing is that it can handle many failure scenarios<br>&nbsp;  allowing the ITR to determine when the path to a specific Locator is<br>&nbsp;  reachable or has become unreachable, thus providing a robust<br>&nbsp;  mechanism for switching to using another Locator from the cached<br>&nbsp;  Locator.<br><br>nit: "greatest benefit ... handle many failure scenarios" is a strange<br>wording to me.&nbsp; Presumably the failures are not failures of the probing,<br>but rather network failures of some form?<br><br>Section 8.1<br><br>&nbsp;  o&nbsp; An immediate Negative Map-Reply (with action code of "Natively-<br>&nbsp; &nbsp; &nbsp; Forward", 15-minute Time to Live (TTL)) from the Map-Resolver if<br>&nbsp; &nbsp; &nbsp; the Map-Resolver can determine that the requested EID does not<br>&nbsp; &nbsp; &nbsp; exist. [...]<br><br>This seems to be attempting to instill a normative requirement of setting<br>the 15-minute TTL for this case; please use normative language to that<br>effect.<br><br>&nbsp; &nbsp; &nbsp; [...] If the<br>&nbsp; &nbsp; &nbsp; requested EID matches a more-specific EID-Prefix that has been<br>&nbsp; &nbsp; &nbsp; delegated by the Map-Server but for which no ETRs are currently<br>&nbsp; &nbsp; &nbsp; registered, a 1-minute TTL is returned.&nbsp; If the requested EID<br>&nbsp; &nbsp; &nbsp; matches a non-delegated part of the authoritative EID-Prefix, then<br>&nbsp; &nbsp; &nbsp; it is not a LISP EID and a 15-minute TTL is returned. [...]<br><br>(Same comment as above about normative language)<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  A Map-Server's configuration<br>&nbsp;  SHOULD also include a list of the EID-Prefixes for which each ETR is<br>&nbsp;  authoritative.&nbsp; Upon receipt of a Map-Register from an ETR, a Map-<br>&nbsp;  Server accepts only EID-Prefixes that are configured for that ETR.<br><br>I think there also needs to be some text about the ETR and associated<br>Map-Server being part of a single administrative domain.<br><br>&nbsp;  Failure to implement such a check would leave the mapping system<br>&nbsp;  vulnerable to trivial EID-Prefix hijacking attacks.&nbsp; As developers<br><br>As described here, this is essentially relying on local configuration for<br>information about who is authoritative for what EID prefixes, which is<br>prone to becoming stale and does not scale.<br><br>Section 8.3<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  If there is no match, the Map-<br>&nbsp;  Server returns a Negative Map-Reply with action code "Natively-<br>&nbsp;  Forward" and a 15-minute TTL. [...]<br><br>In light of my comments in section 8.2, perhaps we can consolidate the<br>normative requirements to just one location and have a pointer from the<br>other(s)?<br><br>&nbsp;  If the EID-prefix is either registered or not registered to the<br>&nbsp;  mapping system and there is a policy in the Map-Server to have the<br>&nbsp;  requestor drop packets for the matching EID-prefix, then a Drop/<br>&nbsp;  Policy-Denied action is returned.&nbsp; [...]<br><br>In a Map-Server state machine or flow chart, it seems like this policy<br>application would come before even the above checks for negative responses.<br>Should the document reflect that ordering as well?<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; If the EID-prefix is registered or<br>&nbsp;  not registered and there is a authentication failure, then a Drop/<br>&nbsp;  Authentication- failure action is returned. [...]<br><br>I'm confused what kind of authentication failure is possible here -- there<br>does not seem to be any end-to-end client authentication of mapping<br>requests that I have seen in any LISP documents I've read so far.<br><br>Section 9<br><br>&nbsp;  To publish an authoritative EID-to-RLOC mapping with a Map-Server, an<br>&nbsp;  ETR includes authentication data that is a hash of the message using<br>&nbsp;  a pair-wise shared key. [...]<br><br>"hash" is a term of art and is not appropriate here; please use "MAC".<br><br>&nbsp;  [<a href="/doc/draft-ietf-lisp-sec/">I-D.ietf-lisp-sec</a>] defines a proposed mechanism for providing origin<br>&nbsp;  authentication, integrity, anti-replay protection, and prevention of<br>&nbsp;  man-in-the-middle and "overclaiming" attacks on the Map-Request/Map-<br>&nbsp;  Reply exchange.&nbsp; Work is ongoing on this and other proposals for<br>&nbsp;  resolving these open security issues.<br><br>It only partially mitigates some of those, and for others relies on the<br>mapping system to provide some properties that are not clearly achievable.<br>It is unwise to claim that they are possible absent further clarity on what<br>behavior mapping systems can currently provide.<br>[edit: this text changed in the -16]<br><br>Section 11.3<br><br>&nbsp;  In addition, LISP has a number of flag fields and reserved fields,<br>&nbsp;  such as the LISP header flags field [<a href="/doc/draft-ietf-lisp-rfc6830bis/">I-D.ietf-lisp-rfc6830bis</a>].&nbsp; New<br>&nbsp;  bits for flags in these fields can be implemented after IETF review<br>&nbsp;  or IESG approval, but these need not be managed by IANA.<br><br>How will a prospective implementor know that they have found all defined<br>flags fields?&nbsp; Are documents allocating new ones supposed to Update: this<br>one?<br><br>Section 11.4<br><br>&nbsp;  The IANA registry "LISP Canonical Address Format (LCAF) Types" is<br>&nbsp;  used for LCAF types, the registry for LCAF types use the<br>&nbsp;  Specification Required policy [<a href="/doc/rfc8126/">RFC8126</a>]. [...]<br><br>nit: comma splice<br><br>Section 11.5<br><br>I would suggest Expert Review rather than FCFS, for such a scarce codepoint<br>space with only 256 total values.</div></td>
                </tr>
            
                <tr id="history-626791">
                    <td>
                        <div title="2018-09-26 21:51:32 -0700">2018-09-26</div>
                    </td>
                    <td class="text-end">16</td>
                    <td>Benjamin Kaduk</td>
                    <td>[Ballot Position Update] New position, Discuss, has been recorded for Benjamin Kaduk</td>
                </tr>
            
                <tr id="history-626762">
                    <td>
                        <div title="2018-09-26 19:48:31 -0700">2018-09-26</div>
                    </td>
                    <td class="text-end">16</td>
                    <td>Terry Manderson</td>
                    <td>[Ballot Position Update] New position, No Objection, has been recorded for Terry Manderson</td>
                </tr>
            
                <tr id="history-626593">
                    <td>
                        <div title="2018-09-26 09:24:24 -0700">2018-09-26</div>
                    </td>
                    <td class="text-end">16</td>
                    <td>Dino Farinacci</td>
                    <td>New version available: <b><a href="/doc/draft-ietf-lisp-rfc6833bis/16/">draft-ietf-lisp-rfc6833bis-16.txt</a></b></td>
                </tr>
            
                <tr id="history-626592">
                    <td>
                        <div title="2018-09-26 09:24:24 -0700">2018-09-26</div>
                    </td>
                    <td class="text-end">16</td>
                    <td>(System)</td>
                    <td>New version approved</td>
                </tr>
            
                <tr id="history-626591">
                    <td>
                        <div title="2018-09-26 09:24:14 -0700">2018-09-26</div>
                    </td>
                    <td class="text-end">16</td>
                    <td>(System)</td>
                    <td>Request for posting confirmation emailed to previous authors: Dino Farinacci , Albert Cabellos-Aparicio , Vince Fuller </td>
                </tr>
            
                <tr id="history-626590">
                    <td>
                        <div title="2018-09-26 09:24:13 -0700">2018-09-26</div>
                    </td>
                    <td class="text-end">16</td>
                    <td>Dino Farinacci</td>
                    <td>Uploaded new revision</td>
                </tr>
            
                <tr id="history-676043">
                    <td>
                        <div title="2018-09-19 14:07:48 -0700">2018-09-19</div>
                    </td>
                    <td class="text-end">15</td>
                    <td>Pete Resnick</td>
                    <td>Request for Telechat review by GENART Completed: Ready. Reviewer: Pete Resnick. Sent review to list.</td>
                </tr>
            
                <tr id="history-625463">
                    <td>
                        <div title="2018-09-18 09:31:55 -0700">2018-09-18</div>
                    </td>
                    <td class="text-end">15</td>
                    <td>(System)</td>
                    <td>IANA Review state changed to <b>Version Changed - Review Needed</b> from IANA OK - Actions Needed</td>
                </tr>
            
                <tr id="history-625462">
                    <td>
                        <div title="2018-09-18 09:31:52 -0700">2018-09-18</div>
                    </td>
                    <td class="text-end">15</td>
                    <td>Dino Farinacci</td>
                    <td>New version available: <b><a href="/doc/draft-ietf-lisp-rfc6833bis/15/">draft-ietf-lisp-rfc6833bis-15.txt</a></b></td>
                </tr>
            
                <tr id="history-625461">
                    <td>
                        <div title="2018-09-18 09:31:52 -0700">2018-09-18</div>
                    </td>
                    <td class="text-end">15</td>
                    <td>(System)</td>
                    <td>New version approved</td>
                </tr>
            
                <tr id="history-625460">
                    <td>
                        <div title="2018-09-18 09:31:41 -0700">2018-09-18</div>
                    </td>
                    <td class="text-end">15</td>
                    <td>(System)</td>
                    <td>Request for posting confirmation emailed to previous authors: Dino Farinacci , Albert Cabellos-Aparicio , Vince Fuller </td>
                </tr>
            
                <tr id="history-625459">
                    <td>
                        <div title="2018-09-18 09:31:39 -0700">2018-09-18</div>
                    </td>
                    <td class="text-end">15</td>
                    <td>Dino Farinacci</td>
                    <td>Uploaded new revision</td>
                </tr>
            
                <tr id="history-665680">
                    <td>
                        <div title="2018-09-13 13:52:07 -0700">2018-09-13</div>
                    </td>
                    <td class="text-end">14</td>
                    <td>Jean Mahoney</td>
                    <td>Request for Telechat review by GENART is assigned to Pete Resnick</td>
                </tr>
            
                <tr id="history-625011">
                    <td>
                        <div title="2018-09-13 13:52:07 -0700">2018-09-13</div>
                    </td>
                    <td class="text-end">14</td>
                    <td>Jean Mahoney</td>
                    <td>Request for Telechat review by GENART is assigned to Pete Resnick</td>
                </tr>
            
                <tr id="history-624823">
                    <td>
                        <div title="2018-09-12 13:17:03 -0700">2018-09-12</div>
                    </td>
                    <td class="text-end">14</td>
                    <td>Amanda Baber</td>
                    <td>IANA Review state changed to <b>IANA OK - Actions Needed</b> from Version Changed - Review Needed</td>
                </tr>
            
                <tr id="history-624667">
                    <td>
                        <div title="2018-09-11 13:58:48 -0700">2018-09-11</div>
                    </td>
                    <td class="text-end">14</td>
                    <td>(System)</td>
                    <td>IANA Review state changed to <b>Version Changed - Review Needed</b> from IANA - Not OK</td>
                </tr>
            
                <tr id="history-624666">
                    <td>
                        <div title="2018-09-11 13:58:25 -0700">2018-09-11</div>
                    </td>
                    <td class="text-end">14</td>
                    <td>Dino Farinacci</td>
                    <td>New version available: <b><a href="/doc/draft-ietf-lisp-rfc6833bis/14/">draft-ietf-lisp-rfc6833bis-14.txt</a></b></td>
                </tr>
            
                <tr id="history-624665">
                    <td>
                        <div title="2018-09-11 13:58:24 -0700">2018-09-11</div>
                    </td>
                    <td class="text-end">14</td>
                    <td>(System)</td>
                    <td>New version approved</td>
                </tr>
            
                <tr id="history-624664">
                    <td>
                        <div title="2018-09-11 13:57:51 -0700">2018-09-11</div>
                    </td>
                    <td class="text-end">14</td>
                    <td>(System)</td>
                    <td>Request for posting confirmation emailed to previous authors: Dino Farinacci , Albert Cabellos-Aparicio , Vince Fuller </td>
                </tr>
            
                <tr id="history-624663">
                    <td>
                        <div title="2018-09-11 13:57:49 -0700">2018-09-11</div>
                    </td>
                    <td class="text-end">14</td>
                    <td>Dino Farinacci</td>
                    <td>Uploaded new revision</td>
                </tr>
            
                <tr id="history-624617">
                    <td>
                        <div title="2018-09-11 11:07:29 -0700">2018-09-11</div>
                    </td>
                    <td class="text-end">13</td>
                    <td>Eric Rescorla</td>
                    <td>Telechat date has been changed to <b>2018-09-27</b> from <b>2018-09-13</b></td>
                </tr>
            
                <tr id="history-624616">
                    <td>
                        <div title="2018-09-11 11:07:28 -0700">2018-09-11</div>
                    </td>
                    <td class="text-end">13</td>
                    <td>Eric Rescorla</td>
                    <td>IESG state changed to <b>IESG Evaluation - Defer</b> from IESG Evaluation</td>
                </tr>
            
                <tr id="history-624578">
                    <td>
                        <div title="2018-09-11 08:01:43 -0700">2018-09-11</div>
                    </td>
                    <td class="text-end">13</td>
                    <td>Mirja KÃ¼hlewind</td>
                    <td><div class="snippet">[Ballot discuss]<br>1) Versioning and backward compatibility<br><br>Section 5.2 says: "Support for requesting multiple EIDs in a single Map-Request<br>&nbsp; &nbsp; &nbsp; message will be â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">[Ballot discuss]<br>1) Versioning and backward compatibility<br><br>Section 5.2 says: "Support for requesting multiple EIDs in a single Map-Request<br>&nbsp; &nbsp; &nbsp; message will be specified in a future version of the protocol."<br>However, there is no versioning mechanism for this protocol specified. How is versioning supposed to work?<br><br>Further given there is no new version, I wonder if the changes as outlined in section 10 are all backward-compatible? Especially for the introduction of the Message-Notify-Ack message, I guess there is no problem if a server sends it, however, as the sender of the Message-Notify message might not know if the other end supports sending of the Message-Notify-Ack it can't rely on it. This should be further discussed in the doc! Or is there another strategy to achieve backward compatibility?<br><br>2) Size and MTU<br><br>As outlined in the TSV-ART review (Thanks Colin!) this document does not discuss fragmentation or Path MTU discovery. <a href="/doc/rfc8085/">RFC8085</a> recommends to either perform Path MTU discovery or limit the message to 576 bytes for IPv4 or 1280 bytes for IPv6 (minus any static header). As this seems to be an appropriate size for LISP messages, I would recommend this approach. Relying on IP fragmentation (as indicated in the reply to the TSV-ART review) is not recommended by <a href="/doc/rfc8085/">RFC8085</a> as this would lead to IP packet without a UDP header, in the case of LISP, which can cause problem and loss when NATs are involved. In any case the chosen approach needs to be further discussed in the doc.<br><br>3) Rate-limiting and congestion control<br><br>Sec 5.3: "Map-Requests MUST be rate-limited.&nbsp; It is RECOMMENDED that a Map-<br>&nbsp;  Request for the same EID-Prefix be sent no more than once per second."<br>As already noted by the TSV-ART review (Thanks Colin!), <a href="/doc/rfc8085/">RFC8085</a> actually recommends to not send more the one packet per 3 seconds, and that is a restriction for all traffic not on a per-receiver base, or implement congestion control. This limit is meant to not only protect the receiver but also the network from overloading. Why do you use a smaller interval here? Also if (appropriate) rate limiting is used, this should either be a MUST or more explanation when it is okay to use a smaller rate limit should be provided.<br>However, after all, I don't think you those the right approach here for rate limiting. A Map-Request is always expected to be followed by some reply. For these kind of communication pattern, <a href="/doc/rfc8085/">RFC8085</a> recommends to limit the number of outstanding requests to 1 (see sec 3.1.1 of <a href="/doc/rfc8085/">RFC8085</a> recommending one packet per RTT), also for all traffic and not only per receiver. However, this would also require to implement some simple mechanism to detect a message as lost (see also further below in point 4).<br><br>Similarly I'm not sure about the intent of this requirement in section 5.5:<br>"Map-Replies SHOULD be sent for an EID-Prefix no more often than once<br>&nbsp;  per second to the same requesting router. "<br>My understanding is that Replies are only sent when a request is received. Why is this additional rate limit needed? Again if used it should be 3 seconds for all traffic to be inline with <a href="/doc/rfc8085/">RFC8085</a>. Also again, why is that not a MUST? Further recommendation are needed here.<br><br>Further section 6.1 say "Both the SMR sender and the Map-Request responder MUST rate-limit<br>&nbsp;  these messages.&nbsp; Rate-limiting can be implemented as a global rate-<br>&nbsp;  limiter or one rate-limiter per SMR destination."<br>This seems to be the same rate limit as mention above, or not...? It would probably make sense to rate limit the SMR even further. Please clarify and provide more guidance, e.g. what should the value of a potential additional rate limit for SMR be?<br><br>Respectively the following sentence in section 6.1 is also unclear:<br>"The remote ITR MUST rate-limit the Map-Request until it gets a Map-Reply"<br>Why is the rate-limit as currently proposed depend on the fact if a Map-Reply is received? Is the ITR supposed to retransmit the Map-Request...? <br><br>And finally the Map-Register, Map-Notify and Map-Notify-Ack messages does not seem to have any rate-limits. Recommendations inline with <a href="/doc/rfc8085/">RFC8085</a> should be provided for the total traffic and not only for a few message types. Again, Map-Notify and Map-Notify-Ack messages should be send only once per RTT as there is a feedback mechanism.<br><br>For Map-Register sec 8.2 say: "Map-Register messages are sent periodically from an ETR to a Map-<br>&nbsp;  Server with a suggested interval between messages of one minute."<br>However, this a rather a low bound than an upper bound. A required (MUST) rate limit is still needed.<br><br>4) Loss detection and retransmission<br><br>As also mention by the TSV-ART review (Once more thanks to Colin!), this spec has an ACK mechanism for Map-Requests and now also for Map-Notify, however, it does not specify what to do if the ACK is not received (loss detection and retransmission scheduling). This makes the spec incomplete and needs to be further specified in the doc (and also has a relation to the point 3 above of course).</div></td>
                </tr>
            
                <tr id="history-624577">
                    <td>
                        <div title="2018-09-11 08:01:43 -0700">2018-09-11</div>
                    </td>
                    <td class="text-end">13</td>
                    <td>Mirja KÃ¼hlewind</td>
                    <td><div class="snippet">[Ballot comment]<br>Further comments:<br><br>1) The example given in 5.5 should probably used IPv6 addresses and use the IP address space that is reserved for â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">[Ballot comment]<br>Further comments:<br><br>1) The example given in 5.5 should probably used IPv6 addresses and use the IP address space that is reserved for documentation purposes.<br><br>2) I find the security requirements in this doc very unsatisfying. Most important the doc requires the support of authentication mechanism but not the use of it. I would like to see more clear MUST requirements here. Further, today and at this stage of the protocol (moving from exp to PS) I find it not acceptable anymore to have certain security feature as optional and outsourced into a different work-in-process draft. However, I leave further discussion to the SEC ADs.<br><br>3) Given the following statement:<br>"Note that while this document assumes a LISP-ALT database mapping<br>&nbsp;  infrastructure to illustrate certain aspects of Map-Server and Map-<br>&nbsp;  Resolver operation..."<br>it seems that <a href="/doc/rfc6836/">RFC6836</a> should be a normative reference, as it might not be possible to understand all details explained in this doc with knowing ALT.<br><br>4) Further I would also think that <a href="/doc/draft-ietf-lisp-mn/">I-D.ietf-lisp-mn</a> and <a href="/doc/draft-ietf-lisp-pubsub/">I-D.ietf-lisp-pubsub</a> should be normative references as the meaning of the respective bits it not further specified in this doc. Or can these bits just be ignored if <a href="/doc/draft-ietf-lisp-mn/">I-D.ietf-lisp-mn</a> and <a href="/doc/draft-ietf-lisp-pubsub/">I-D.ietf-lisp-pubsub</a> are not implemented? If so that should be stated.<br><br>Clarification questions:<br>1) Sec 5.3.:<br>"For the initial case, the destination IP<br>&nbsp;  address used for the Map-Request is the data packet's destination<br>&nbsp;  address (i.e., the destination EID) that had a mapping cache lookup<br>&nbsp;  failure."<br>Does that mean that the Map-Request needs to use the IPv4 or IPv6 depending on the IP version used by the initial message from the EID. Is that always the case or just for this initial message? I would assume that for all other cases this is actually independent...? Because otherwise there would be a constraint on what needs to be requested. I would like t see further clarification about this in the doc.<br><br>2) In section 5.3: "The ITR MAY include all locally<br>&nbsp;  configured Locators in this list or just provide one locator address<br>&nbsp;  from each address family it supports."<br>Would it make sense to include a SHOULD requirement to at least the address family that is used to send the Request is included (to increase chance to enable a communication/get a reply)...?<br><br>3) Sec 5.4: "If all Weights for a Locator-Set are equal,<br>&nbsp; &nbsp; &nbsp; the receiver of the Map-Reply will decide how to load-split the<br>&nbsp; &nbsp; &nbsp; traffic. "<br>Shouldn't the receiver in this case split the traffic equally? Otherwise how would you signal that the traffic should be split equally? Maybe use all zero instead to let the receiver decide...?<br><br>4) sec 6.1: "When an ITR receives an SMR-based Map-Request for which it does not<br>&nbsp;  have a cached mapping for the EID in the SMR message, it may not send<br>&nbsp;  an SMR-invoked Map-Request."<br>I guess this should be normative and probably also a MUST NOT or at least SHOULD NOT.<br><br>5) Section 7 seems to imply that if it is detected that no route is available, the ITR should basically do nothing and just drop any incoming packets for that ETR. Would it make sense for incremental deployability, to just forward the packet to the IP address of the EID instead...? This way the source host would not benefit in mobility cases but still gets connectivity otherwise. Or is that anyway not the implication? If that is the case, that should be further clarified in the doc.<br><br>6) Section 8.2 says: "Note that the Map-Notify message<br>&nbsp;  is sent to UDP destination port 4342, not to the source port<br>&nbsp;  specified in the original Map-Register message."<br>Actually why is that?<br><br>Some minor editorial comments:<br><br>1) First sentence in intro: the pointer to ietf-lisp-introduction as currently introduced, makes this reference look very normative:<br>"The Locator/ID Separation Protocol [<a href="/doc/draft-ietf-lisp-introduction/">I-D.ietf-lisp-introduction</a>] and [<a href="/doc/draft-ietf-lisp-rfc6830bis/">I-D.ietf-lisp-rfc6830bis</a>] specifies..."<br>I would recommend the following wording:<br>"The Locator/ID Separation Protocol [<a href="/doc/draft-ietf-lisp-rfc6830bis/">I-D.ietf-lisp-rfc6830bis</a>] (see also [<a href="/doc/draft-ietf-lisp-introduction/">I-D.ietf-lisp-introduction</a>]) specifies..."<br><br>2) Also in intro: Given that 6830bis is a normative reference "LISP RFC 6830bis" should be replaced with the new RFC number in the text. This should be noted to the RFC editor; probably this is more obvious if RFCXXX is used instead.<br><br>3) Sec 5.4: "...for another way the R-bit MAY be used."<br>This looks like a lower case may would be more appropriate.</div></td>
                </tr>
            
                <tr id="history-624576">
                    <td>
                        <div title="2018-09-11 08:01:43 -0700">2018-09-11</div>
                    </td>
                    <td class="text-end">13</td>
                    <td>Mirja KÃ¼hlewind</td>
                    <td>[Ballot Position Update] New position, Discuss, has been recorded for Mirja KÃ¼hlewind</td>
                </tr>
            
                <tr id="history-624496">
                    <td>
                        <div title="2018-09-10 14:43:37 -0700">2018-09-10</div>
                    </td>
                    <td class="text-end">13</td>
                    <td>Alvaro Retana</td>
                    <td><div class="snippet">[Ballot comment]<br>There are several issues in Â§5.1 (LISP Control Packet Type Allocations) that need to be fixed.&nbsp; I don't think any of them raise â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">[Ballot comment]<br>There are several issues in Â§5.1 (LISP Control Packet Type Allocations) that need to be fixed.&nbsp; I don't think any of them raise up to a DISCUSS, but I would like to see them resolved before publication.<br><br>Â§5.1 "defines the LISP control message formats and summarizes for IANA the LISP Type codes assigned by this document".<br><br>(1) Instructions (or anything directed) to IANA should be in the IANA Considerations section.&nbsp; There isn't even a pointer to this section later on for IANA to look at it.<br><br>(2) The text seems to imply ("Message type definitions are") that the types are defined here (or at least in <a href="/doc/rfc6833/">rfc6833</a>, which this document Obsoletes), but they are defined in <a href="/doc/rfc6830/">rfc6830</a>, <a href="/doc/rfc8111/">rfc8111</a> and <a href="/doc/rfc8113/">rfc8113</a>.&nbsp; Please properly identify the source (only the <a href="/doc/rfc8113/">rfc8113</a> line has a reference).<br><br>(3) Even though <a href="/doc/draft-ietf-lisp-rfc6830bis/">draft-ietf-lisp-rfc6830bis</a> is tagged as Obsoleting <a href="/doc/rfc6830/">rfc6830</a>, I think that, because of how the contents of that RFC were distributed, this document should also be tagged as Obsoleting <a href="/doc/rfc6830/">rfc6830</a>.<br><br>(4) The LISP Packet Types registry was set up in <a href="/doc/rfc8113/">rfc8113</a>.&nbsp; This document asks that IANA "refers to this document as well as [<a href="/doc/rfc8113/">RFC8113</a>] as references" (Â§11.2), and it seems to try to change the registration (or the text is incomplete) in (Â§5.1): "Values in the "Not Assigned" range can be assigned according to procedures in [<a href="/doc/rfc8126/">RFC8126</a>]."&nbsp; Which procedure?&nbsp; s/Not Assigned/Unassigned (Â§6 in <a href="/doc/rfc8126/">rfc8126</a>)<br><br>(5) Because of the point above, this draft should (at least) Update <a href="/doc/rfc8113/">rfc8113</a> (see also below).<br><br>(6) This document says that "Protocol designers experimenting with new message formats SHOULD use the LISP Shared Extension Message Type".&nbsp; I think this statement makes <a href="/doc/rfc8113/">rfc8113</a> a Normative reference -- which results in a DownRef.&nbsp; Suggestion: given that this document already updates the registry set up in <a href="/doc/rfc8113/">rfc8113</a>, and recommends the use of the Shared Extension Message, it may be a good idea to simply adopt the contents of that document here (grand total of 6 pages) and declare it Obsolete.<br><br>(7) Type 7 is missing.</div></td>
                </tr>
            
                <tr id="history-624495">
                    <td>
                        <div title="2018-09-10 14:43:37 -0700">2018-09-10</div>
                    </td>
                    <td class="text-end">13</td>
                    <td>Alvaro Retana</td>
                    <td>[Ballot Position Update] New position, No Objection, has been recorded for Alvaro Retana</td>
                </tr>
            
                <tr id="history-676065">
                    <td>
                        <div title="2018-09-09 19:27:25 -0700">2018-09-09</div>
                    </td>
                    <td class="text-end">13</td>
                    <td>Min Ye</td>
                    <td>Request for Last Call review by RTGDIR Completed: Ready. Reviewer: Jonathan Hardwick.</td>
                </tr>
            
                <tr id="history-623872">
                    <td>
                        <div title="2018-09-05 13:54:13 -0700">2018-09-05</div>
                    </td>
                    <td class="text-end">13</td>
                    <td>Deborah Brungard</td>
                    <td>IESG state changed to <b>IESG Evaluation</b> from Waiting for AD Go-Ahead</td>
                </tr>
            
                <tr id="history-676074">
                    <td>
                        <div title="2018-09-05 10:17:31 -0700">2018-09-05</div>
                    </td>
                    <td class="text-end">13</td>
                    <td>Pete Resnick</td>
                    <td>Request for Last Call review by GENART Completed: Ready with Nits. Reviewer: Pete Resnick. Sent review to list.</td>
                </tr>
            
                <tr id="history-676078">
                    <td>
                        <div title="2018-09-03 05:54:56 -0700">2018-09-03</div>
                    </td>
                    <td class="text-end">13</td>
                    <td>Colin Perkins</td>
                    <td>Request for Last Call review by TSVART Completed: On the Right Track. Reviewer: Colin Perkins. Sent review to list.</td>
                </tr>
            
                <tr id="history-623238">
                    <td>
                        <div title="2018-08-31 00:16:31 -0700">2018-08-31</div>
                    </td>
                    <td class="text-end">13</td>
                    <td>(System)</td>
                    <td>IESG state changed to <b>Waiting for AD Go-Ahead</b> from In Last Call</td>
                </tr>
            
                <tr id="history-623203">
                    <td>
                        <div title="2018-08-30 14:34:44 -0700">2018-08-30</div>
                    </td>
                    <td class="text-end">13</td>
                    <td>(System)</td>
                    <td>IANA Review state changed to <b>IANA - Not OK</b> from IANA - Review Needed</td>
                </tr>
            
                <tr id="history-623199">
                    <td>
                        <div title="2018-08-30 14:34:44 -0700">2018-08-30</div>
                    </td>
                    <td class="text-end">13</td>
                    <td>Sabrina Tanamal</td>
                    <td><div class="snippet">(Via <a href="mailto:drafts-lastcall@iana.org">drafts-lastcall@iana.org</a>): IESG/Authors/WG Chairs:<br><br>The IANA Functions Operator has completed its review of draft-ietf-lisp-rfc6833bis-12. If any part of this review is inaccurate, please let â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">(Via <a href="mailto:drafts-lastcall@iana.org">drafts-lastcall@iana.org</a>): IESG/Authors/WG Chairs:<br><br>The IANA Functions Operator has completed its review of draft-ietf-lisp-rfc6833bis-12. If any part of this review is inaccurate, please let us know. <br><br>The IANA Functions Operator has a question about one of the actions requested in the IANA Considerations section of this document.<br><br>The IANA Functions Operator understands that, upon approval of this document, there are six actions which we must complete.<br><br>IANA Question --&gt; IANA understands that this is a bis document and updates and obsoletes <a href="/doc/rfc6833/">RFC6833</a>. In the registries associated with the Locator/ID Separation Protocol there are many registrations that have a reference of <a href="/doc/rfc6833/">RFC6833</a>. The IANA Matrix also has a reference to <a href="/doc/rfc6833/">RFC6833</a>. Should these be changed in any way upon approval of this document? For instance, should the references to <a href="/doc/rfc6833/">RFC6833</a> be changed to [ RFC-to-be ]?<br><br>First, in the Service Name and Transport Protocol Port Number Registry located at:<br><br><a href="https://www.iana.org/assignments/service-names-port-numbers/">https://www.iana.org/assignments/service-names-port-numbers/</a><br><br>we will update the following existing registration to refer to the current version of this document:<br><br>Service Name: lisp-control<br>Port Number: 4342<br>Transport Protocol: udp<br>Description: LISP Control Packets<br>Reference: [ RFC-to-be ]<br><br>Second, in the LISP Packet Types registry on the Locator/ID Separation Protocol (LISP) Parameters registry page located at:<br><br><a href="https://www.iana.org/assignments/lisp-parameters/">https://www.iana.org/assignments/lisp-parameters/</a><br><br>a new packet type will be registered as follows:<br><br>Code: 5<br>Message: LISP Map-Notify-Ack<br>Reference: [ RFC-to-be ]<br><br>Third, in the LISP ACT values registry also on the Locator/ID Separation Protocol (LISP) Parameters registry page located at:<br><br><a href="https://www.iana.org/assignments/lisp-parameters/">https://www.iana.org/assignments/lisp-parameters/</a><br><br>The existing registration:<br><br>Value: 3<br>Action: Drop<br>Description: A packet that matches this map-cache entry is dropped. An ICMP Unreachable message SHOULD be sent. <br>Reference: [<a href="/doc/rfc6830/">RFC6830</a>]<br><br>will be changed to:<br><br>Value: 3<br>Action: Drop/No-Reason<br>Description: A packet that matches this map-cache entry is dropped. An ICMP Unreachable message SHOULD be sent. <br>Reference: [<a href="/doc/rfc6830/">RFC6830</a>]<br><br>IANA Question --&gt; Should the reference for Value: 3 be changed to [ RFC-to-be ] or have [ RFC-to-be ] added to the existing reference?<br><br>Fourth, also in the LISP ACT values registry also on the Locator/ID Separation Protocol (LISP) Parameters registry page located at:<br><br><a href="https://www.iana.org/assignments/lisp-parameters/">https://www.iana.org/assignments/lisp-parameters/</a><br><br>two new registrations will be made as follows:<br><br>Value Action Description Reference<br>----- ------ ----------- -------------<br>4 Drop/ A Packet matching this Map-Cache [ RFC-to-be ]<br>Policy-Denied entry is dropped because the target<br>EID is policy-denied by the xTR or<br>the mapping system.<br><br>5 Drop/ A Packet matching this Map-Cache [ RFC-to-be ]<br>Auth-Failure entry is dropped because the<br>Map-Request for target EID fails an<br>authentication check by the xTR or<br>the mapping system.<br><br>Fifth, regarding the LISP Address Type Codes registry also on the Locator/ID Separation Protocol (LISP) Parameters registry page located at:<br><br><a href="https://www.iana.org/assignments/lisp-parameters/">https://www.iana.org/assignments/lisp-parameters/</a><br><br>the authors make the following request: "there is no longer a need for the "LISP Address Type Codes" registry requested by [<a href="/doc/rfc6830/">RFC6830</a>]. This document requests to remove it."<br><br>IANA Question --&gt; While this registry has no registrations in it and is a candidate for removal, another alternative is to mark it as Obsolete but retain the registry for historic purposes. You can see an example of this by looking at the IANA-IPPM-METRICS-REGISTRY-MIB on the IANA Matrix [ at <a href="https://www.iana.org/protocols">https://www.iana.org/protocols</a> ]. Should this registry be removed or marked Obsolete?<br><br>Sixth, in the LISP Key ID Numbers registry also on the Locator/ID Separation Protocol (LISP) Parameters registry page located at:<br><br><a href="https://www.iana.org/assignments/lisp-parameters/">https://www.iana.org/assignments/lisp-parameters/</a><br><br>the name of the registry will be changed from:<br><br>LISP Key ID Numbers<br><br>to<br><br>LISP Algorithm ID Numbers<br><br>and the contents of the registry will be modified to become:<br><br>Name Number Reference<br>---------------------------------------------------<br>None 0 [ RFC-to-be ]<br>HMAC-SHA-1-96 1 [<a href="/doc/rfc2404/">RFC2404</a>]<br>HMAC-SHA-256-128 2 [<a href="/doc/rfc4868/">RFC4868</a>]<br><br>The IANA Functions Operator understands that these are the only actions required to be completed upon approval of this document.<br><br>Note:&nbsp; The actions requested in this document will not be completed until the document has been approved for publication as an RFC. This message is meant only to confirm the list of actions that will be performed. <br><br>Thank you,<br><br>Sabrina Tanamal<br>Senior IANA Services Specialist</div></td>
                </tr>
            
                <tr id="history-676084">
                    <td>
                        <div title="2018-08-30 02:45:43 -0700">2018-08-30</div>
                    </td>
                    <td class="text-end">13</td>
                    <td>Takeshi Takahashi</td>
                    <td>Request for Last Call review by SECDIR Completed: Ready. Reviewer: Takeshi Takahashi. Sent review to list.</td>
                </tr>
            
                <tr id="history-622839">
                    <td>
                        <div title="2018-08-28 10:20:06 -0700">2018-08-28</div>
                    </td>
                    <td class="text-end">13</td>
                    <td>Cindy Morgan</td>
                    <td>Placed on agenda for telechat - 2018-09-13</td>
                </tr>
            
                <tr id="history-622838">
                    <td>
                        <div title="2018-08-28 10:18:36 -0700">2018-08-28</div>
                    </td>
                    <td class="text-end">13</td>
                    <td>Deborah Brungard</td>
                    <td>Ballot has been issued</td>
                </tr>
            
                <tr id="history-622837">
                    <td>
                        <div title="2018-08-28 10:18:35 -0700">2018-08-28</div>
                    </td>
                    <td class="text-end">13</td>
                    <td>Deborah Brungard</td>
                    <td>[Ballot Position Update] New position, Yes, has been recorded for Deborah Brungard</td>
                </tr>
            
                <tr id="history-622836">
                    <td>
                        <div title="2018-08-28 10:18:35 -0700">2018-08-28</div>
                    </td>
                    <td class="text-end">13</td>
                    <td>Deborah Brungard</td>
                    <td>Created "Approve" ballot</td>
                </tr>
            
                <tr id="history-622835">
                    <td>
                        <div title="2018-08-28 10:18:35 -0700">2018-08-28</div>
                    </td>
                    <td class="text-end">13</td>
                    <td>Deborah Brungard</td>
                    <td>Ballot writeup was changed</td>
                </tr>
            
                <tr id="history-622505">
                    <td>
                        <div title="2018-08-24 11:11:35 -0700">2018-08-24</div>
                    </td>
                    <td class="text-end">13</td>
                    <td>Dino Farinacci</td>
                    <td>New version available: <b><a href="/doc/draft-ietf-lisp-rfc6833bis/13/">draft-ietf-lisp-rfc6833bis-13.txt</a></b></td>
                </tr>
            
                <tr id="history-622504">
                    <td>
                        <div title="2018-08-24 11:11:34 -0700">2018-08-24</div>
                    </td>
                    <td class="text-end">13</td>
                    <td>(System)</td>
                    <td>New version approved</td>
                </tr>
            
                <tr id="history-622503">
                    <td>
                        <div title="2018-08-24 11:11:11 -0700">2018-08-24</div>
                    </td>
                    <td class="text-end">13</td>
                    <td>(System)</td>
                    <td>Request for posting confirmation emailed to previous authors: Dino Farinacci , Albert Cabellos-Aparicio , Vince Fuller </td>
                </tr>
            
                <tr id="history-622502">
                    <td>
                        <div title="2018-08-24 11:11:10 -0700">2018-08-24</div>
                    </td>
                    <td class="text-end">13</td>
                    <td>Dino Farinacci</td>
                    <td>Uploaded new revision</td>
                </tr>
            
                <tr id="history-665748">
                    <td>
                        <div title="2018-08-23 15:11:25 -0700">2018-08-23</div>
                    </td>
                    <td class="text-end">12</td>
                    <td>Jean Mahoney</td>
                    <td>Request for Last Call review by GENART is assigned to Pete Resnick</td>
                </tr>
            
                <tr id="history-622377">
                    <td>
                        <div title="2018-08-23 15:11:25 -0700">2018-08-23</div>
                    </td>
                    <td class="text-end">12</td>
                    <td>Jean Mahoney</td>
                    <td>Request for Last Call review by GENART is assigned to Pete Resnick</td>
                </tr>
            
                <tr id="history-665753">
                    <td>
                        <div title="2018-08-23 05:49:35 -0700">2018-08-23</div>
                    </td>
                    <td class="text-end">12</td>
                    <td>Magnus Westerlund</td>
                    <td>Request for Last Call review by TSVART is assigned to Colin Perkins</td>
                </tr>
            
                <tr id="history-622326">
                    <td>
                        <div title="2018-08-23 05:49:35 -0700">2018-08-23</div>
                    </td>
                    <td class="text-end">12</td>
                    <td>Magnus Westerlund</td>
                    <td>Request for Last Call review by TSVART is assigned to Colin Perkins</td>
                </tr>
            
                <tr id="history-665755">
                    <td>
                        <div title="2018-08-23 05:22:21 -0700">2018-08-23</div>
                    </td>
                    <td class="text-end">12</td>
                    <td>Tero Kivinen</td>
                    <td>Request for Last Call review by SECDIR is assigned to Takeshi Takahashi</td>
                </tr>
            
                <tr id="history-622315">
                    <td>
                        <div title="2018-08-23 05:22:21 -0700">2018-08-23</div>
                    </td>
                    <td class="text-end">12</td>
                    <td>Tero Kivinen</td>
                    <td>Request for Last Call review by SECDIR is assigned to Takeshi Takahashi</td>
                </tr>
            
                <tr id="history-665770">
                    <td>
                        <div title="2018-08-20 02:20:21 -0700">2018-08-20</div>
                    </td>
                    <td class="text-end">12</td>
                    <td>Gunter Van de Velde</td>
                    <td>Request for Last Call review by OPSDIR is assigned to Sarah Banks</td>
                </tr>
            
                <tr id="history-621856">
                    <td>
                        <div title="2018-08-20 02:20:21 -0700">2018-08-20</div>
                    </td>
                    <td class="text-end">12</td>
                    <td>Gunter Van de Velde</td>
                    <td>Request for Last Call review by OPSDIR is assigned to Sarah Banks</td>
                </tr>
            
                <tr id="history-621737">
                    <td>
                        <div title="2018-08-17 08:17:48 -0700">2018-08-17</div>
                    </td>
                    <td class="text-end">12</td>
                    <td>Amy Vezza</td>
                    <td>IANA Review state changed to <b>IANA - Review Needed</b></td>
                </tr>
            
                <tr id="history-621736">
                    <td>
                        <div title="2018-08-17 08:17:47 -0700">2018-08-17</div>
                    </td>
                    <td class="text-end">12</td>
                    <td>Amy Vezza</td>
                    <td><div class="snippet">The following Last Call announcement was sent out (ends 2018-08-31):<br><br>From: The IESG <br>To: IETF-Announce <br>CC: <a href="mailto:lisp-chairs@ietf.org">lisp-chairs@ietf.org</a>, <a href="mailto:lisp@ietf.org">lisp@ietf.org</a>, <a href="mailto:db3546@att.com">db3546@att.com</a>, Luigi Iannone , â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">The following Last Call announcement was sent out (ends 2018-08-31):<br><br>From: The IESG <br>To: IETF-Announce <br>CC: <a href="mailto:lisp-chairs@ietf.org">lisp-chairs@ietf.org</a>, <a href="mailto:lisp@ietf.org">lisp@ietf.org</a>, <a href="mailto:db3546@att.com">db3546@att.com</a>, Luigi Iannone , <a href="mailto:ggx@gigix.net">ggx@gigix.net</a>, <a href="mailto:draft-ietf-lisp-rfc6833bis@ietf.org">draft-ietf-lisp-rfc6833bis@ietf.org</a><br>Reply-To: <a href="mailto:ietf@ietf.org">ietf@ietf.org</a><br>Sender: <br>Subject: Last Call:&nbsp; (Locator/ID Separation Protocol (LISP) Control-Plane) to Proposed Standard<br><br><br>The IESG has received a request from the Locator/ID Separation Protocol WG<br>(lisp) to consider the following document: - 'Locator/ID Separation Protocol<br>(LISP) Control-Plane'<br>&nbsp;  as Proposed Standard<br><br>The IESG plans to make a decision in the next few weeks, and solicits final<br>comments on this action. Please send substantive comments to the<br><a href="mailto:ietf@ietf.org">ietf@ietf.org</a> mailing lists by 2018-08-31. Exceptionally, comments may be<br>sent to <a href="mailto:iesg@ietf.org">iesg@ietf.org</a> instead. In either case, please retain the beginning of<br>the Subject line to allow automated sorting.<br><br>Abstract<br><br><br>&nbsp;  This document describes the Control-Plane and Mapping Service for the<br>&nbsp;  Locator/ID Separation Protocol (LISP), implemented by two new types<br>&nbsp;  of LISP-speaking devices -- the LISP Map-Resolver and LISP Map-Server<br>&nbsp;  -- that provides a simplified "front end" for one or more Endpoint ID<br>&nbsp;  to Routing Locator mapping databases.<br><br>&nbsp;  By using this Control-Plane service interface and communicating with<br>&nbsp;  Map-Resolvers and Map-Servers, LISP Ingress Tunnel Routers (ITRs) and<br>&nbsp;  Egress Tunnel Routers (ETRs) are not dependent on the details of<br>&nbsp;  mapping database systems, which facilitates modularity with different<br>&nbsp;  database designs.&nbsp; Since these devices implement the "edge" of the<br>&nbsp;  LISP Control-Plane infrastructure, connect directly to LISP-capable<br>&nbsp;  Internet end sites, and comprising the bulk of LISP-speaking devices,<br>&nbsp;  reducing their implementation and operational complexity should also<br>&nbsp;  reduce the overall cost and effort of deploying LISP.<br><br>&nbsp;  This document obsoletes <a href="/doc/rfc6833/">RFC 6833</a>.<br><br><br><br><br>The file can be obtained via<br><a href="https://datatracker.ietf.org/doc/draft-ietf-lisp-rfc6833bis/">https://datatracker.ietf.org/doc/draft-ietf-lisp-rfc6833bis/</a><br><br>IESG discussion can be tracked via<br><a href="https://datatracker.ietf.org/doc/draft-ietf-lisp-rfc6833bis/ballot/">https://datatracker.ietf.org/doc/draft-ietf-lisp-rfc6833bis/ballot/</a><br><br><br>No IPR declarations have been submitted directly on this I-D.<br><br><br>The document contains these normative downward references.<br>See <a href="/doc/rfc3967/">RFC 3967</a> for additional information: <br>&nbsp; &nbsp; <a href="/doc/draft-ietf-lisp-6834bis/">draft-ietf-lisp-6834bis</a>: Locator/ID Separation Protocol (LISP) Map-Versioning (None - IETF stream)<br><br><br><br></div></td>
                </tr>
            
                <tr id="history-621735">
                    <td>
                        <div title="2018-08-17 08:17:45 -0700">2018-08-17</div>
                    </td>
                    <td class="text-end">12</td>
                    <td>Amy Vezza</td>
                    <td>IESG state changed to <b>In Last Call</b> from Last Call Requested</td>
                </tr>
            
                <tr id="history-621718">
                    <td>
                        <div title="2018-08-17 06:40:52 -0700">2018-08-17</div>
                    </td>
                    <td class="text-end">12</td>
                    <td>Deborah Brungard</td>
                    <td>Last call was requested</td>
                </tr>
            
                <tr id="history-621717">
                    <td>
                        <div title="2018-08-17 06:40:51 -0700">2018-08-17</div>
                    </td>
                    <td class="text-end">12</td>
                    <td>Deborah Brungard</td>
                    <td>Ballot approval text was generated</td>
                </tr>
            
                <tr id="history-621716">
                    <td>
                        <div title="2018-08-17 06:40:51 -0700">2018-08-17</div>
                    </td>
                    <td class="text-end">12</td>
                    <td>Deborah Brungard</td>
                    <td>Ballot writeup was generated</td>
                </tr>
            
                <tr id="history-621715">
                    <td>
                        <div title="2018-08-17 06:40:48 -0700">2018-08-17</div>
                    </td>
                    <td class="text-end">12</td>
                    <td>Deborah Brungard</td>
                    <td>IESG state changed to <b>Last Call Requested</b> from Publication Requested</td>
                </tr>
            
                <tr id="history-621714">
                    <td>
                        <div title="2018-08-17 06:40:47 -0700">2018-08-17</div>
                    </td>
                    <td class="text-end">12</td>
                    <td>Deborah Brungard</td>
                    <td>Last call announcement was generated</td>
                </tr>
            
                <tr id="history-665790">
                    <td>
                        <div title="2018-08-08 01:24:20 -0700">2018-08-08</div>
                    </td>
                    <td class="text-end">12</td>
                    <td>Jonathan Hardwick</td>
                    <td>Request for Last Call review by RTGDIR is assigned to Jonathan Hardwick</td>
                </tr>
            
                <tr id="history-620641">
                    <td>
                        <div title="2018-08-08 01:24:20 -0700">2018-08-08</div>
                    </td>
                    <td class="text-end">12</td>
                    <td>Jonathan Hardwick</td>
                    <td>Request for Last Call review by RTGDIR is assigned to Jonathan Hardwick</td>
                </tr>
            
                <tr id="history-665805">
                    <td>
                        <div title="2018-07-31 17:55:59 -0700">2018-07-31</div>
                    </td>
                    <td class="text-end">12</td>
                    <td>Min Ye</td>
                    <td>Request for Last Call review by RTGDIR is assigned to Papadimitriou Dimitri</td>
                </tr>
            
                <tr id="history-619826">
                    <td>
                        <div title="2018-07-31 17:55:59 -0700">2018-07-31</div>
                    </td>
                    <td class="text-end">12</td>
                    <td>Min Ye</td>
                    <td>Request for Last Call review by RTGDIR is assigned to Papadimitriou Dimitri</td>
                </tr>
            
                <tr id="history-619784">
                    <td>
                        <div title="2018-07-31 13:02:05 -0700">2018-07-31</div>
                    </td>
                    <td class="text-end">12</td>
                    <td>Deborah Brungard</td>
                    <td>Requested Last Call review by RTGDIR</td>
                </tr>
            
                <tr id="history-619485">
                    <td>
                        <div title="2018-07-27 13:50:33 -0700">2018-07-27</div>
                    </td>
                    <td class="text-end">12</td>
                    <td>Luigi Iannone</td>
                    <td><div class="snippet">draft-ietf-lisp-6833bis-11.txt Document Write-up<br><br>As required by <a href="/doc/rfc4858/">RFC 4858</a>, this is the current template for the Document Shepherd Write-Up.<br><br><br>(1) What type of RFC is â€¦<button type="button" aria-label="Expand" class="btn btn-sm btn-primary show-all"><i class="bi bi-caret-down"></i></button></div><div class="d-none full">draft-ietf-lisp-6833bis-11.txt Document Write-up<br><br>As required by <a href="/doc/rfc4858/">RFC 4858</a>, this is the current template for the Document Shepherd Write-Up.<br><br><br>(1) What type of RFC is being requested (BCP, Proposed Standard,<br>Internet Standard, Informational, Experimental, or Historic)? Why is<br>this the proper type of RFC? Is this type of RFC indicated in the<br>title page header?<br><br>&nbsp; This draft is targeting Standard Track publication. It is the proper type of RFC, since is the evolution of <a href="/doc/rfc6833/">RFC 6833</a>, which is experimental and is one of items in the LISP WG charter. The RFC type is indicated in the page header.<br><br><br><br>(2) The IESG approval announcement includes a Document Announcement<br>Write-Up. Please provide such a Document Announcement Write-Up. Recent<br>examples can be found in the "Action" announcements for approved<br>documents. The approval announcement contains the following sections:<br><br>Technical Summary:<br><br>	The document provides the specifications for the control-plane of LISP&nbsp; (Locator/Id Separation Protocol).&nbsp; LISP defines two namespaces, End-point&nbsp; Identifiers (EIDs) that identify end-hosts and Routing Locators (RLOCs) that identify network attachment points. In this way, LISP effectively separates control from data, and allows routers to create overlay networks.&nbsp; LISP-capable routers exchange encapsulated packets according to EID-to-RLOC mappings stored in a local Map-Cache.<br>&nbsp; Mappings are distributed using a mapping distribution service. This document defines the front-end of such service, leveraging on the LISP Map-Server and LISP-Map-Resolver elements.<br><br><br>Working Group Summary:<br><br>	The current LISP WG charter has as main task porting the main LISP specifications on Standard Track. The WG has decided to focus on two main documents, one with the specifications of the data-plane and the other with the specifications of the control-plane. This document concerns the control-plane. The WG has showed support to the document from its first submission as individual draft and adopted it right away. On the technical side there was agreement in the WG and little discussion took place, mainly related include some features/improvements not present in <a href="/doc/rfc6833/">RFC 6833</a> and adding text that originally was in the LISP data-plane document. On the organisation of the document, more specifically on what to put in the data-plane document and what to put in the control-plane document there has been quite some discussion. The current version is the trade-off the WG&nbsp; achieved and for which clear consensus has been reached. The version of the document that was approved during WG Last Call is -10. As a shepherd I required a few editorial changes to the document to fix some nits.<br><br><br><br>Document Quality:<br><br>Are there existing implementations of the protocol? Have a significant<br>number of vendors indicated their plan to implement the specification?<br>Are there any reviewers that merit special mention as having done a<br>thorough review, e.g., one that resulted in important changes or a<br>conclusion that the document had no substantive issues? If there was a<br>MIB Doctor, Media Type or other expert review, what was its course<br>(briefly)? In the case of a Media Type review, on what date was the<br>request posted?<br><br>	There are at least three independent implementations of the LISP control-plane.<br><br><br>Personnel:<br><br>Who is the Document Shepherd?<br><br>&nbsp; Luigi Iannone <br><br><br>Who is the Responsible Area Director?<br><br>&nbsp; Deborah Brungard .<br><br><br><br>(3) Briefly describe the review of this document that was performed by<br>the Document Shepherd. If this version of the document is not ready<br>for publication, please explain why the document is being forwarded to<br>the IESG.<br><br><br>&nbsp; I reviewed carefully the document. The text is clear and	understandable. I have checked the mailinglist and meeting minutes and publication WG consensus has been reached appropriately. I checked the ID nits and decided to ask the authors to fix them before submitting this writeup. The output of the IDnits tool for the -12 version of the document is provided on point 11. There is still a warning about a weird spacing, but the authors did not manage to get rid of that warning. May be the RFC Editor can help later on.<br><br><br>(4) Does the document Shepherd have any concerns about the depth or<br>breadth of the reviews that have been performed?<br><br>	As the document shepherd I have no concerns.<br><br><br><br>(5) Do portions of the document need review from a particular or from<br>broader perspective, e.g., security, operational complexity, AAA, DNS,<br>DHCP, XML, or internationalization? If so, describe the review that<br>took place.<br><br>&nbsp; No broader review is required for this document.<br><br><br><br>(6) Describe any specific concerns or issues that the Document<br>Shepherd has with this document that the Responsible Area Director<br>and/or the IESG should be aware of? For example, perhaps he or she is<br>uncomfortable with certain parts of the document, or has concerns<br>whether there really is a need for it. In any event, if the WG has<br>discussed those issues and has indicated that it still wishes to<br>advance the document, detail those concerns here.<br><br>	I have no specific concerns or issues to point out.<br><br><br><br>(7) Has each author confirmed that any and all appropriate IPR<br>disclosures required for full conformance with the provisions of <a href="/doc/bcp78/">BCP<br>78</a> and <a href="/doc/bcp79/">BCP 79</a> have already been filed. If not, explain why?<br><br>&nbsp; All authors have made conforming IPR disclosure.<br><br><br><br>(8) Has an IPR disclosure been filed that references this document? If<br>so, summarize any WG discussion and conclusion regarding the IPR<br>disclosures.<br><br>	No IPR disclosures have been filed concerning this specific document. However, there is an IPR disclosure filled by Huawei on <a href="/doc/rfc6833/">RFC 6833</a>, hence, because this document is based on that one, the same IPR disclosure may relate to this document.<br><br><br><br>(9) How solid is the WG consensus behind this document? Does it<br>represent the strong concurrence of a few individuals, with others<br>being silent, or does the WG as a whole understand and agree with it?<br><br>&nbsp; There has been clear strong consensus behind this document, showing that the WG as a whole understand and agree with it.<br><br><br><br>(10) Has anyone threatened an appeal or otherwise indicated extreme<br>discontent? If so, please summarise the areas of conflict in separate<br>email messages to the Responsible Area Director. (It should be in a<br>separate email because this questionnaire is publicly available.)<br><br>	Nobody did show extreme discontent nor threatened an appeal.<br><br><br><br>(11) Identify any ID nits the Document Shepherd has found in this<br>document. (See <a href="http://www.ietf.org/tools/idnits/">http://www.ietf.org/tools/idnits/</a> and the<br>Internet-Drafts Checklist). Boilerplate checks are not enough; this<br>check needs to be thorough.<br><br>idnits 2.15.01<br><br>/tmp/draft-ietf-lisp-rfc6833bis-12.txt:<br><br>&nbsp; Checking boilerplate required by <a href="/doc/rfc5378/">RFC 5378</a> and the IETF Trust (see<br>&nbsp; <a href="https://trustee.ietf.org/license-info):">https://trustee.ietf.org/license-info):</a><br>&nbsp; ----------------------------------------------------------------------------<br><br>&nbsp; &nbsp;  No issues found here.<br><br>&nbsp; Checking nits according to <a href="https://www.ietf.org/id-info/1id-guidelines.txt:">https://www.ietf.org/id-info/1id-guidelines.txt:</a><br>&nbsp; ----------------------------------------------------------------------------<br><br>&nbsp; &nbsp;  No issues found here.<br><br>&nbsp; Checking nits according to <a href="https://www.ietf.org/id-info/checklist">https://www.ietf.org/id-info/checklist</a> :<br>&nbsp; ----------------------------------------------------------------------------<br><br>&nbsp; == There are 9 instances of lines with private range IPv4 addresses in the<br>&nbsp; &nbsp;  document.&nbsp; If these are generic example addresses, they should be changed<br>&nbsp; &nbsp;  to use any of the ranges defined in <a href="/doc/rfc6890/">RFC 6890</a> (or successor): 192.0.2.x,<br>&nbsp; &nbsp;  198.51.100.x or 203.0.113.x.<br><br><br>&nbsp; Miscellaneous warnings:<br>&nbsp; ----------------------------------------------------------------------------<br><br>&nbsp; == Line 1656 has weird spacing: '...-Denied&nbsp; entry...'<br><br>&nbsp; == Line 1661 has weird spacing: '...Failure&nbsp;  entr...'<br><br><br>&nbsp; Checking references for intended status: Proposed Standard<br>&nbsp; ----------------------------------------------------------------------------<br><br>&nbsp; &nbsp;  (See RFCs 3967 and 4897 for information about using normative references<br>&nbsp; &nbsp;  to lower-maturity documents in RFCs)<br><br>&nbsp; &nbsp;  No issues found here.<br><br>&nbsp; &nbsp;  Summary: 0 errors (**), 0 flaws (~~), 3 warnings (==), 0 comments (--).<br><br>&nbsp; &nbsp;  Run idnits with the --verbose option for more detailed information about<br>&nbsp; &nbsp;  the items above.<br><br>--------------------------------------------------------------------------------<br><br><br>(12) Describe how the document meets any required formal review<br>criteria, such as the MIB Doctor, media type, and URI type reviews.<br><br>	No formal review is required.<br><br><br><br>(13) Have all references within this document been identified as<br>either normative or informative?<br><br>&nbsp; Yes.<br><br><br><br>(14) Are there normative references to documents that are not ready<br>for advancement or are otherwise in an unclear state? If such<br>normative references exist, what is the plan for their completion?<br><br>	There are no normative references in unclear state. For clarification, there is a normative reference to <a href="/doc/draft-ietf-lisp-rfc6830bis/">draft-ietf-lisp-rfc6830bis</a> and one to draft-ietf-lisp-rfc6834bis, but these documents passed as well WG Last Call. Worst case the RFC editor can hold this document in the queue until there is a RFC number for them.<br><br><br>(15) Are there downward normative references references (see <a href="/doc/rfc3967/">RFC<br>3967</a>)? If so, list these downward references to support the Area<br>Director in the Last Call procedure.<br><br>	&nbsp; There are no downward normative references.<br><br><br><br>(16) Will publication of this document change the status of any<br>existing RFCs? Are those RFCs listed on the title page header, listed<br>in the abstract, and discussed in the introduction? If the RFCs are<br>not listed in the Abstract and Introduction, explain why, and point to<br>the part of the document where the relationship of this document to<br>the other RFCs is discussed. If this information is not in the<br>document, explain why the WG considers it unnecessary.<br><br>	This document will obsolete <a href="/doc/rfc6833/">RFC 6833</a>, as mentioned in the header, abstract and introduction.<br><br><br><br>(17) Describe the Document Shepherd's review of the IANA<br>considerations section, especially with regard to its consistency with<br>the body of the document. Confirm that all protocol extensions that<br>the document makes are associated with the appropriate reservations in<br>IANA registries. Confirm that any referenced IANA registries have been<br>clearly identified. Confirm that newly created IANA registries include<br>a detailed specification of the initial contents for the registry,<br>that allocations procedures for future registrations are defined, and<br>a reasonable name for the new registry has been suggested (see <a href="/doc/rfc5226/">RFC<br>5226</a>).<br><br>&nbsp; IANA already allocated UDP port number 4342 for the LISP Data-Plane. This document just state that such allocation exists.<br><br>&nbsp; This document requests IANA to a new codepoint to the LISP Packet Type Registry.<br><br>&nbsp; Name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  Number&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Defined in<br>&nbsp; ----&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ------&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -----------<br>&nbsp; LISP Map-Notify-Ack&nbsp; 5&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  RFC6833bis<br><br><br>&nbsp; Furthermore, this document instruct IANA to change the name of ACT type 3 value from "Drop" to "Drop/No-Reason" as well as adding two new ACT values, the "Drop/Policy-Denied" (type 4) and "Drop/Authentication-Failure" (type 5).<br><br>&nbsp; Value&nbsp; Action&nbsp; &nbsp; &nbsp; &nbsp;  Description&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reference<br>&nbsp; -----&nbsp; ------&nbsp; &nbsp; &nbsp; &nbsp;  -----------&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ---------<br>&nbsp; 4&nbsp; &nbsp; &nbsp; Drop/&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; A Packet matching this Map-Cache&nbsp; &nbsp;  RFC6833bis<br>&nbsp; &nbsp; &nbsp; &nbsp;  Policy-Denied&nbsp; entry is dropped because the target<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; EID is policy-denied by the xTR or<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; the mapping system.<br><br>&nbsp; 5&nbsp; &nbsp; &nbsp; Drop/&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; A Packet matching this Map-Cache&nbsp; &nbsp;  RFC6833bis<br>&nbsp; &nbsp; &nbsp; &nbsp;  Auth-Failure&nbsp;  entry is dropped because the<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Map-Request for target EID fails an<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; authentication check by the xTR or<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; the mapping system.<br><br><br>(18) List any new IANA registries that require Expert Review for<br>future allocations. Provide any public guidance that the IESG would<br>find useful in selecting the IANA Experts for these new registries.<br><br>	No expert review is required.<br><br><br><br>(19) Describe reviews and automated checks performed by the Document<br>Shepherd to validate sections of the document written in a formal<br>language, such as XML code, BNF rules, MIB definitions, etc.<br><br>	&nbsp; The document does not contain anything written in a formal<br>	&nbsp; language, hence, no validation and/or check has been<br>	&nbsp; performed.<br></div></td>
                </tr>
            
                <tr id="history-619484">
                    <td>
                        <div title="2018-07-27 13:50:33 -0700">2018-07-27</div>
                    </td>
                    <td class="text-end">12</td>
                    <td>Luigi Iannone</td>
                    <td>Responsible AD changed to Deborah Brungard</td>
                </tr>
            
                <tr id="history-619483">
                    <td>
                        <div title="2018-07-27 13:50:32 -0700">2018-07-27</div>
                    </td>
                    <td class="text-end">12</td>
                    <td>Luigi Iannone</td>
                    <td>IETF WG state changed to <b>Submitted to IESG for Publication</b> from WG Consensus: Waiting for Write-Up</td>
                </tr>
            
                <tr id="history-619482">
                    <td>
                        <div title="2018-07-27 13:50:31 -0700">2018-07-27</div>
                    </td>
                    <td class="text-end">12</td>
                    <td>Luigi Iannone</td>
                    <td>IESG state changed to <b>Publication Requested</b></td>
                </tr>
            
                <tr id="history-619481">
                    <td>
                        <div title="2018-07-27 13:50:30 -0700">2018-07-27</div>
                    </td>
                    <td class="text-end">12</td>
                    <td>Luigi Iannone</td>
                    <td>IESG process started in state <b>Publication Requested</b></td>
                </tr>
            
                <tr id="history-619480">
                    <td>
                        <div title="2018-07-27 13:50:16 -0700">2018-07-27</div>
                    </td>
                    <td class="text-end">12</td>
                    <td>Luigi Iannone</td>
                    <td>Changed consensus to <b>Yes</b> from Unknown</td>
                </tr>
            
                <tr id="history-619479">
                    <td>
                        <div title="2018-07-27 13:50:16 -0700">2018-07-27</div>
                    </td>
                    <td class="text-end">12</td>
                    <td>Luigi Iannone</td>
                    <td>Intended Status changed to <b>Proposed Standard</b> from None</td>
                </tr>
            
                <tr id="history-619478">
                    <td>
                        <div title="2018-07-27 13:50:02 -0700">2018-07-27</div>
                    </td>
                    <td class="text-end">12</td>
                    <td>Luigi Iannone</td>
                    <td>Changed document writeup</td>
                </tr>
            
                <tr id="history-619397">
                    <td>
                        <div title="2018-07-26 16:47:25 -0700">2018-07-26</div>
                    </td>
                    <td class="text-end">12</td>
                    <td>Dino Farinacci</td>
                    <td>New version available: <b><a href="/doc/draft-ietf-lisp-rfc6833bis/12/">draft-ietf-lisp-rfc6833bis-12.txt</a></b></td>
                </tr>
            
                <tr id="history-619396">
                    <td>
                        <div title="2018-07-26 16:47:25 -0700">2018-07-26</div>
                    </td>
                    <td class="text-end">12</td>
                    <td>(System)</td>
                    <td>New version approved</td>
                </tr>
            
                <tr id="history-619395">
                    <td>
                        <div title="2018-07-26 16:47:13 -0700">2018-07-26</div>
                    </td>
                    <td class="text-end">12</td>
                    <td>(System)</td>
                    <td>Request for posting confirmation emailed to previous authors: Dino Farinacci , Albert Cabellos-Aparicio , Vince Fuller </td>
                </tr>
            
                <tr id="history-619394">
                    <td>
                        <div title="2018-07-26 16:47:11 -0700">2018-07-26</div>
                    </td>
                    <td class="text-end">12</td>
                    <td>Dino Farinacci</td>
                    <td>Uploaded new revision</td>
                </tr>
            
                <tr id="history-617289">
                    <td>
                        <div title="2018-07-17 16:52:31 -0700">2018-07-17</div>
                    </td>
                    <td class="text-end">11</td>
                    <td>Dino Farinacci</td>
                    <td>New version available: <b><a href="/doc/draft-ietf-lisp-rfc6833bis/11/">draft-ietf-lisp-rfc6833bis-11.txt</a></b></td>
                </tr>
            
                <tr id="history-617288">
                    <td>
                        <div title="2018-07-17 16:52:31 -0700">2018-07-17</div>
                    </td>
                    <td class="text-end">11</td>
                    <td>(System)</td>
                    <td>New version approved</td>
                </tr>
            
                <tr id="history-617287">
                    <td>
                        <div title="2018-07-17 16:52:17 -0700">2018-07-17</div>
                    </td>
                    <td class="text-end">11</td>
                    <td>(System)</td>
                    <td>Request for posting confirmation emailed to previous authors: Dino Farinacci , Albert Cabellos-Aparicio , Vince Fuller </td>
                </tr>
            
                <tr id="history-617286">
                    <td>
                        <div title="2018-07-17 16:52:16 -0700">2018-07-17</div>
                    </td>
                    <td class="text-end">11</td>
                    <td>Dino Farinacci</td>
                    <td>Uploaded new revision</td>
                </tr>
            
                <tr id="history-603694">
                    <td>
                        <div title="2018-05-02 03:26:28 -0700">2018-05-02</div>
                    </td>
                    <td class="text-end">10</td>
                    <td>Luigi Iannone</td>
                    <td>Notification list changed to Luigi Iannone &lt;<a href="mailto:ggx@gigix.net">ggx@gigix.net</a>&gt;</td>
                </tr>
            
                <tr id="history-603693">
                    <td>
                        <div title="2018-05-02 03:26:28 -0700">2018-05-02</div>
                    </td>
                    <td class="text-end">10</td>
                    <td>Luigi Iannone</td>
                    <td>Document shepherd changed to Luigi Iannone</td>
                </tr>
            
                <tr id="history-603690">
                    <td>
                        <div title="2018-05-02 03:25:15 -0700">2018-05-02</div>
                    </td>
                    <td class="text-end">10</td>
                    <td>Luigi Iannone</td>
                    <td>IETF WG state changed to <b>WG Consensus: Waiting for Write-Up</b> from In WG Last Call</td>
                </tr>
            
                <tr id="history-600259">
                    <td>
                        <div title="2018-04-05 07:35:15 -0700">2018-04-05</div>
                    </td>
                    <td class="text-end">10</td>
                    <td>Luigi Iannone</td>
                    <td>IETF WG state changed to <b>In WG Last Call</b> from WG Document</td>
                </tr>
            
                <tr id="history-597486">
                    <td>
                        <div title="2018-03-21 11:24:10 -0700">2018-03-21</div>
                    </td>
                    <td class="text-end">10</td>
                    <td>Dino Farinacci</td>
                    <td>New version available: <b><a href="/doc/draft-ietf-lisp-rfc6833bis/10/">draft-ietf-lisp-rfc6833bis-10.txt</a></b></td>
                </tr>
            
                <tr id="history-597485">
                    <td>
                        <div title="2018-03-21 11:24:09 -0700">2018-03-21</div>
                    </td>
                    <td class="text-end">10</td>
                    <td>(System)</td>
                    <td>New version approved</td>
                </tr>
            
                <tr id="history-597484">
                    <td>
                        <div title="2018-03-21 11:23:54 -0700">2018-03-21</div>
                    </td>
                    <td class="text-end">10</td>
                    <td>(System)</td>
                    <td>Request for posting confirmation emailed to previous authors: Dino Farinacci , Albert Cabellos-Aparicio , Vince Fuller </td>
                </tr>
            
                <tr id="history-597483">
                    <td>
                        <div title="2018-03-21 11:23:54 -0700">2018-03-21</div>
                    </td>
                    <td class="text-end">10</td>
                    <td>Dino Farinacci</td>
                    <td>Uploaded new revision</td>
                </tr>
            
                <tr id="history-595517">
                    <td>
                        <div title="2018-03-18 16:31:19 -0700">2018-03-18</div>
                    </td>
                    <td class="text-end">09</td>
                    <td>Dino Farinacci</td>
                    <td>New version available: <b><a href="/doc/draft-ietf-lisp-rfc6833bis/09/">draft-ietf-lisp-rfc6833bis-09.txt</a></b></td>
                </tr>
            
                <tr id="history-595516">
                    <td>
                        <div title="2018-03-18 16:31:19 -0700">2018-03-18</div>
                    </td>
                    <td class="text-end">09</td>
                    <td>(System)</td>
                    <td>New version approved</td>
                </tr>
            
                <tr id="history-595515">
                    <td>
                        <div title="2018-03-18 16:31:10 -0700">2018-03-18</div>
                    </td>
                    <td class="text-end">09</td>
                    <td>(System)</td>
                    <td>Request for posting confirmation emailed to previous authors: Dino Farinacci , Albert Cabellos-Aparicio , Vince Fuller </td>
                </tr>
            
                <tr id="history-595514">
                    <td>
                        <div title="2018-03-18 16:31:08 -0700">2018-03-18</div>
                    </td>
                    <td class="text-end">09</td>
                    <td>Dino Farinacci</td>
                    <td>Uploaded new revision</td>
                </tr>
            
                <tr id="history-591473">
                    <td>
                        <div title="2018-03-04 15:51:41 -0800">2018-03-04</div>
                    </td>
                    <td class="text-end">08</td>
                    <td>Albert Cabellos-Aparicio</td>
                    <td>New version available: <b><a href="/doc/draft-ietf-lisp-rfc6833bis/08/">draft-ietf-lisp-rfc6833bis-08.txt</a></b></td>
                </tr>
            
                <tr id="history-591472">
                    <td>
                        <div title="2018-03-04 15:51:41 -0800">2018-03-04</div>
                    </td>
                    <td class="text-end">08</td>
                    <td>(System)</td>
                    <td>New version approved</td>
                </tr>
            
                <tr id="history-591469">
                    <td>
                        <div title="2018-03-04 15:51:17 -0800">2018-03-04</div>
                    </td>
                    <td class="text-end">08</td>
                    <td>(System)</td>
                    <td>Request for posting confirmation emailed to previous authors: Dino Farinacci , Albert Cabellos-Aparicio , Vince Fuller </td>
                </tr>
            
                <tr id="history-591468">
                    <td>
                        <div title="2018-03-04 15:51:16 -0800">2018-03-04</div>
                    </td>
                    <td class="text-end">08</td>
                    <td>Albert Cabellos-Aparicio</td>
                    <td>Uploaded new revision</td>
                </tr>
            
                <tr id="history-577880">
                    <td>
                        <div title="2017-12-17 13:11:29 -0800">2017-12-17</div>
                    </td>
                    <td class="text-end">07</td>
                    <td>Dino Farinacci</td>
                    <td>New version available: <b><a href="/doc/draft-ietf-lisp-rfc6833bis/07/">draft-ietf-lisp-rfc6833bis-07.txt</a></b></td>
                </tr>
            
                <tr id="history-577879">
                    <td>
                        <div title="2017-12-17 13:11:29 -0800">2017-12-17</div>
                    </td>
                    <td class="text-end">07</td>
                    <td>(System)</td>
                    <td>New version approved</td>
                </tr>
            
                <tr id="history-577878">
                    <td>
                        <div title="2017-12-17 13:11:16 -0800">2017-12-17</div>
                    </td>
                    <td class="text-end">07</td>
                    <td>(System)</td>
                    <td>Request for posting confirmation emailed to previous authors: Dino Farinacci , Albert Cabellos-Aparicio , Vince Fuller </td>
                </tr>
            
                <tr id="history-577877">
                    <td>
                        <div title="2017-12-17 13:11:15 -0800">2017-12-17</div>
                    </td>
                    <td class="text-end">07</td>
                    <td>Dino Farinacci</td>
                    <td>Uploaded new revision</td>
                </tr>
            
                <tr id="history-564347">
                    <td>
                        <div title="2017-10-05 09:55:57 -0700">2017-10-05</div>
                    </td>
                    <td class="text-end">06</td>
                    <td>Dino Farinacci</td>
                    <td>New version available: <b><a href="/doc/draft-ietf-lisp-rfc6833bis/06/">draft-ietf-lisp-rfc6833bis-06.txt</a></b></td>
                </tr>
            
                <tr id="history-564346">
                    <td>
                        <div title="2017-10-05 09:55:57 -0700">2017-10-05</div>
                    </td>
                    <td class="text-end">06</td>
                    <td>(System)</td>
                    <td>New version approved</td>
                </tr>
            
                <tr id="history-564345">
                    <td>
                        <div title="2017-10-05 09:55:46 -0700">2017-10-05</div>
                    </td>
                    <td class="text-end">06</td>
                    <td>(System)</td>
                    <td>Request for posting confirmation emailed to previous authors: Dino Farinacci , Albert Cabellos-Aparicio , Vince Fuller </td>
                </tr>
            
                <tr id="history-564344">
                    <td>
                        <div title="2017-10-05 09:55:44 -0700">2017-10-05</div>
                    </td>
                    <td class="text-end">06</td>
                    <td>Dino Farinacci</td>
                    <td>Uploaded new revision</td>
                </tr>
            
                <tr id="history-539207">
                    <td>
                        <div title="2017-05-10 09:17:29 -0700">2017-05-10</div>
                    </td>
                    <td class="text-end">05</td>
                    <td>Dino Farinacci</td>
                    <td>New version available: <b><a href="/doc/draft-ietf-lisp-rfc6833bis/05/">draft-ietf-lisp-rfc6833bis-05.txt</a></b></td>
                </tr>
            
                <tr id="history-539206">
                    <td>
                        <div title="2017-05-10 09:17:28 -0700">2017-05-10</div>
                    </td>
                    <td class="text-end">05</td>
                    <td>(System)</td>
                    <td>New version approved</td>
                </tr>
            
                <tr id="history-539204">
                    <td>
                        <div title="2017-05-10 09:17:18 -0700">2017-05-10</div>
                    </td>
                    <td class="text-end">05</td>
                    <td>(System)</td>
                    <td>Request for posting confirmation emailed to previous authors: <a href="mailto:lisp-chairs@ietf.org">lisp-chairs@ietf.org</a>, Dino Farinacci , Albert Cabellos-Aparicio , Vince Fuller </td>
                </tr>
            
                <tr id="history-539203">
                    <td>
                        <div title="2017-05-10 09:17:17 -0700">2017-05-10</div>
                    </td>
                    <td class="text-end">05</td>
                    <td>Dino Farinacci</td>
                    <td>Uploaded new revision</td>
                </tr>
            
                <tr id="history-538445">
                    <td>
                        <div title="2017-05-04 11:02:28 -0700">2017-05-04</div>
                    </td>
                    <td class="text-end">04</td>
                    <td>Dino Farinacci</td>
                    <td>New version available: <b><a href="/doc/draft-ietf-lisp-rfc6833bis/04/">draft-ietf-lisp-rfc6833bis-04.txt</a></b></td>
                </tr>
            
                <tr id="history-538444">
                    <td>
                        <div title="2017-05-04 11:02:28 -0700">2017-05-04</div>
                    </td>
                    <td class="text-end">04</td>
                    <td>(System)</td>
                    <td>New version approved</td>
                </tr>
            
                <tr id="history-538443">
                    <td>
                        <div title="2017-05-04 11:02:16 -0700">2017-05-04</div>
                    </td>
                    <td class="text-end">04</td>
                    <td>(System)</td>
                    <td>Request for posting confirmation emailed to previous authors: <a href="mailto:lisp-chairs@ietf.org">lisp-chairs@ietf.org</a>, Dino Farinacci , Albert Cabellos-Aparicio , Vince Fuller </td>
                </tr>
            
                <tr id="history-538442">
                    <td>
                        <div title="2017-05-04 11:02:15 -0700">2017-05-04</div>
                    </td>
                    <td class="text-end">04</td>
                    <td>Dino Farinacci</td>
                    <td>Uploaded new revision</td>
                </tr>
            
                <tr id="history-535356">
                    <td>
                        <div title="2017-04-14 11:32:13 -0700">2017-04-14</div>
                    </td>
                    <td class="text-end">03</td>
                    <td>Dino Farinacci</td>
                    <td>New version available: <b><a href="/doc/draft-ietf-lisp-rfc6833bis/03/">draft-ietf-lisp-rfc6833bis-03.txt</a></b></td>
                </tr>
            
                <tr id="history-535355">
                    <td>
                        <div title="2017-04-14 11:32:13 -0700">2017-04-14</div>
                    </td>
                    <td class="text-end">03</td>
                    <td>(System)</td>
                    <td>New version approved</td>
                </tr>
            
                <tr id="history-535354">
                    <td>
                        <div title="2017-04-14 11:32:03 -0700">2017-04-14</div>
                    </td>
                    <td class="text-end">03</td>
                    <td>(System)</td>
                    <td>Request for posting confirmation emailed to previous authors: <a href="mailto:lisp-chairs@ietf.org">lisp-chairs@ietf.org</a>, Dino Farinacci , Albert Cabellos-Aparicio , Vince Fuller </td>
                </tr>
            
                <tr id="history-535353">
                    <td>
                        <div title="2017-04-14 11:32:03 -0700">2017-04-14</div>
                    </td>
                    <td class="text-end">03</td>
                    <td>Dino Farinacci</td>
                    <td>Uploaded new revision</td>
                </tr>
            
                <tr id="history-534578">
                    <td>
                        <div title="2017-04-11 10:52:12 -0700">2017-04-11</div>
                    </td>
                    <td class="text-end">02</td>
                    <td>Dino Farinacci</td>
                    <td>New version available: <b><a href="/doc/draft-ietf-lisp-rfc6833bis/02/">draft-ietf-lisp-rfc6833bis-02.txt</a></b></td>
                </tr>
            
                <tr id="history-534577">
                    <td>
                        <div title="2017-04-11 10:52:12 -0700">2017-04-11</div>
                    </td>
                    <td class="text-end">02</td>
                    <td>(System)</td>
                    <td>New version approved</td>
                </tr>
            
                <tr id="history-534576">
                    <td>
                        <div title="2017-04-11 10:52:00 -0700">2017-04-11</div>
                    </td>
                    <td class="text-end">02</td>
                    <td>(System)</td>
                    <td>Request for posting confirmation emailed to previous authors: <a href="mailto:lisp-chairs@ietf.org">lisp-chairs@ietf.org</a>, Dino Farinacci , Albert Cabellos-Aparicio , Vince Fuller </td>
                </tr>
            
                <tr id="history-534575">
                    <td>
                        <div title="2017-04-11 10:52:00 -0700">2017-04-11</div>
                    </td>
                    <td class="text-end">02</td>
                    <td>Dino Farinacci</td>
                    <td>Uploaded new revision</td>
                </tr>
            
                <tr id="history-532297">
                    <td>
                        <div title="2017-03-28 15:21:48 -0700">2017-03-28</div>
                    </td>
                    <td class="text-end">01</td>
                    <td>Dino Farinacci</td>
                    <td>New version available: <b><a href="/doc/draft-ietf-lisp-rfc6833bis/01/">draft-ietf-lisp-rfc6833bis-01.txt</a></b></td>
                </tr>
            
                <tr id="history-532296">
                    <td>
                        <div title="2017-03-28 15:21:48 -0700">2017-03-28</div>
                    </td>
                    <td class="text-end">01</td>
                    <td>(System)</td>
                    <td>New version approved</td>
                </tr>
            
                <tr id="history-532295">
                    <td>
                        <div title="2017-03-28 15:21:37 -0700">2017-03-28</div>
                    </td>
                    <td class="text-end">01</td>
                    <td>(System)</td>
                    <td>Request for posting confirmation emailed to previous authors: <a href="mailto:lisp-chairs@ietf.org">lisp-chairs@ietf.org</a>, Dino Farinacci , Albert Cabellos-Aparicio , Vince Fuller </td>
                </tr>
            
                <tr id="history-532294">
                    <td>
                        <div title="2017-03-28 15:21:36 -0700">2017-03-28</div>
                    </td>
                    <td class="text-end">01</td>
                    <td>Dino Farinacci</td>
                    <td>Uploaded new revision</td>
                </tr>
            
                <tr id="history-511979">
                    <td>
                        <div title="2016-12-06 14:30:59 -0800">2016-12-06</div>
                    </td>
                    <td class="text-end">00</td>
                    <td>Joel Halpern</td>
                    <td>This document now replaces <b><a href="/doc/draft-farinacci-lisp-rfc6833bis/">draft-farinacci-lisp-rfc6833bis</a></b> instead of None</td>
                </tr>
            
                <tr id="history-511978">
                    <td>
                        <div title="2016-12-06 14:30:58 -0800">2016-12-06</div>
                    </td>
                    <td class="text-end">00</td>
                    <td>Dino Farinacci</td>
                    <td>New version available: <b><a href="/doc/draft-ietf-lisp-rfc6833bis/00/">draft-ietf-lisp-rfc6833bis-00.txt</a></b></td>
                </tr>
            
                <tr id="history-511977">
                    <td>
                        <div title="2016-12-06 14:30:58 -0800">2016-12-06</div>
                    </td>
                    <td class="text-end">00</td>
                    <td>(System)</td>
                    <td>WG -00 approved</td>
                </tr>
            
                <tr id="history-511976">
                    <td>
                        <div title="2016-12-06 14:22:09 -0800">2016-12-06</div>
                    </td>
                    <td class="text-end">00</td>
                    <td>Dino Farinacci</td>
                    <td>Set submitter to "Dino Farinacci ", replaces to <a href="/doc/draft-farinacci-lisp-rfc6833bis/">draft-farinacci-lisp-rfc6833bis</a> and sent approval email to group chairs: <a href="mailto:lisp-chairs@ietf.org">lisp-chairs@ietf.org</a></td>
                </tr>
            
                <tr id="history-511975">
                    <td>
                        <div title="2016-12-06 14:21:42 -0800">2016-12-06</div>
                    </td>
                    <td class="text-end">00</td>
                    <td>Dino Farinacci</td>
                    <td>Uploaded new revision</td>
                </tr>
            
        </tbody>
    </table>

                    
                </div>
            </div>
        </div>
        
            <footer class="col-md-12 col-sm-12 border-top mt-5 py-5 bg-light-subtle text-center position-sticky">
                <a href="https://www.ietf.org/" class="p-3">IETF</a>
                <a href="https://www.ietf.org/iesg/" class="p-3">IESG</a>
                <a href="https://www.iab.org/" class="p-3">IAB</a>
                <a href="https://www.irtf.org/" class="p-3">IRTF</a>
                <a href="https://www.ietf.org/llc/" class="p-3 text-nowrap">IETF LLC</a>
                <a href="https://trustee.ietf.org/" class="p-3 text-nowrap">IETF Trust</a>
                <a href="https://www.rfc-editor.org/" class="p-3 text-nowrap">RFC Editor</a>
                <a href="https://www.iana.org/" class="p-3">IANA</a>
                <a href="https://www.ietf.org/privacy-statement/" class="p-3 text-nowrap">Privacy Statement</a>
                <div class="small text-body-secondary py-3">
                    
                        <a class="mx-2" href="/release/about">About IETF Datatracker</a>
                        <span class="mx-2">
                            
                            Version -dev
                            
                            
                        </span>
                    
                    <span class="mx-2 text-danger">
                        <i class="bi bi-bug"></i>
                        Report a bug:
                        <a class="text-reset" target="_blank" href="https://github.com/ietf-tools/datatracker/issues/new/choose">GitHub</a>
                        
                            <a class="text-reset" href="mailto:tools-help@ietf.org">Email</a>
                        
                    </span>
                    
                        <br>
                        Python 3.9.18
                        Django 4.2.11
                        <br>
                        


<!-- template: templates/debug.html -->

    
        <small class="text-center text-body-secondary">
            Add <code>ietf.context_processors.sql_debug</code> to <code>settings.DEV_TEMPLATE_CONTEXT_PROCESSORS</code> to turn on the SQL statement table.
        </small>
    


                    
                </div>
            </footer>
        
        
    <script src="/static/ietf/js/list.js"></script>

        <script src="/static/ietf/js/select2.js"></script>
        <script>
            $('#navbar-doc-search').on('select2:select', function (e) {
                window.location.href = e.params.data.url;
            });
        </script>
      
    </body>
</html>